(function() {
    const e = document.createElement("link").relList;
    if (e && e.supports && e.supports("modulepreload"))
        return;
    for (const o of document.querySelectorAll('link[rel="modulepreload"]'))
        r(o);
    new MutationObserver(o => {
        for (const c of o)
            if (c.type === "childList")
                for (const f of c.addedNodes)
                    f.tagName === "LINK" && f.rel === "modulepreload" && r(f)
    }
    ).observe(document, {
        childList: !0,
        subtree: !0
    });
    function i(o) {
        const c = {};
        return o.integrity && (c.integrity = o.integrity),
        o.referrerPolicy && (c.referrerPolicy = o.referrerPolicy),
        o.crossOrigin === "use-credentials" ? c.credentials = "include" : o.crossOrigin === "anonymous" ? c.credentials = "omit" : c.credentials = "same-origin",
        c
    }
    function r(o) {
        if (o.ep)
            return;
        o.ep = !0;
        const c = i(o);
        fetch(o.href, c)
    }
}
)();
function ty(s) {
    return s && s.__esModule && Object.prototype.hasOwnProperty.call(s, "default") ? s.default : s
}
var Md = {
    exports: {}
}
  , vr = {};
/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var C_;
function n1() {
    if (C_)
        return vr;
    C_ = 1;
    var s = Symbol.for("react.transitional.element")
      , e = Symbol.for("react.fragment");
    function i(r, o, c) {
        var f = null;
        if (c !== void 0 && (f = "" + c),
        o.key !== void 0 && (f = "" + o.key),
        "key"in o) {
            c = {};
            for (var h in o)
                h !== "key" && (c[h] = o[h])
        } else
            c = o;
        return o = c.ref,
        {
            $$typeof: s,
            type: r,
            key: f,
            ref: o !== void 0 ? o : null,
            props: c
        }
    }
    return vr.Fragment = e,
    vr.jsx = i,
    vr.jsxs = i,
    vr
}
var T_;
function i1() {
    return T_ || (T_ = 1,
    Md.exports = n1()),
    Md.exports
}
var _ = i1()
  , kd = {
    exports: {}
}
  , le = {};
/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var w_;
function s1() {
    if (w_)
        return le;
    w_ = 1;
    var s = Symbol.for("react.transitional.element")
      , e = Symbol.for("react.portal")
      , i = Symbol.for("react.fragment")
      , r = Symbol.for("react.strict_mode")
      , o = Symbol.for("react.profiler")
      , c = Symbol.for("react.consumer")
      , f = Symbol.for("react.context")
      , h = Symbol.for("react.forward_ref")
      , p = Symbol.for("react.suspense")
      , m = Symbol.for("react.memo")
      , E = Symbol.for("react.lazy")
      , b = Symbol.iterator;
    function y(C) {
        return C === null || typeof C != "object" ? null : (C = b && C[b] || C["@@iterator"],
        typeof C == "function" ? C : null)
    }
    var A = {
        isMounted: function() {
            return !1
        },
        enqueueForceUpdate: function() {},
        enqueueReplaceState: function() {},
        enqueueSetState: function() {}
    }
      , T = Object.assign
      , k = {};
    function z(C, D, q) {
        this.props = C,
        this.context = D,
        this.refs = k,
        this.updater = q || A
    }
    z.prototype.isReactComponent = {},
    z.prototype.setState = function(C, D) {
        if (typeof C != "object" && typeof C != "function" && C != null)
            throw Error("takes an object of state variables to update or a function which returns an object of state variables.");
        this.updater.enqueueSetState(this, C, D, "setState")
    }
    ,
    z.prototype.forceUpdate = function(C) {
        this.updater.enqueueForceUpdate(this, C, "forceUpdate")
    }
    ;
    function H() {}
    H.prototype = z.prototype;
    function B(C, D, q) {
        this.props = C,
        this.context = D,
        this.refs = k,
        this.updater = q || A
    }
    var F = B.prototype = new H;
    F.constructor = B,
    T(F, z.prototype),
    F.isPureReactComponent = !0;
    var Q = Array.isArray
      , G = {
        H: null,
        A: null,
        T: null,
        S: null,
        V: null
    }
      , re = Object.prototype.hasOwnProperty;
    function ye(C, D, q, V, $, ce) {
        return q = ce.ref,
        {
            $$typeof: s,
            type: C,
            key: D,
            ref: q !== void 0 ? q : null,
            props: ce
        }
    }
    function Te(C, D) {
        return ye(C.type, D, void 0, void 0, void 0, C.props)
    }
    function ve(C) {
        return typeof C == "object" && C !== null && C.$$typeof === s
    }
    function Ie(C) {
        var D = {
            "=": "=0",
            ":": "=2"
        };
        return "$" + C.replace(/[=:]/g, function(q) {
            return D[q]
        })
    }
    var et = /\/+/g;
    function Be(C, D) {
        return typeof C == "object" && C !== null && C.key != null ? Ie("" + C.key) : D.toString(36)
    }
    function dt() {}
    function xt(C) {
        switch (C.status) {
        case "fulfilled":
            return C.value;
        case "rejected":
            throw C.reason;
        default:
            switch (typeof C.status == "string" ? C.then(dt, dt) : (C.status = "pending",
            C.then(function(D) {
                C.status === "pending" && (C.status = "fulfilled",
                C.value = D)
            }, function(D) {
                C.status === "pending" && (C.status = "rejected",
                C.reason = D)
            })),
            C.status) {
            case "fulfilled":
                return C.value;
            case "rejected":
                throw C.reason
            }
        }
        throw C
    }
    function Ye(C, D, q, V, $) {
        var ce = typeof C;
        (ce === "undefined" || ce === "boolean") && (C = null);
        var ne = !1;
        if (C === null)
            ne = !0;
        else
            switch (ce) {
            case "bigint":
            case "string":
            case "number":
                ne = !0;
                break;
            case "object":
                switch (C.$$typeof) {
                case s:
                case e:
                    ne = !0;
                    break;
                case E:
                    return ne = C._init,
                    Ye(ne(C._payload), D, q, V, $)
                }
            }
        if (ne)
            return $ = $(C),
            ne = V === "" ? "." + Be(C, 0) : V,
            Q($) ? (q = "",
            ne != null && (q = ne.replace(et, "$&/") + "/"),
            Ye($, D, q, "", function(Ue) {
                return Ue
            })) : $ != null && (ve($) && ($ = Te($, q + ($.key == null || C && C.key === $.key ? "" : ("" + $.key).replace(et, "$&/") + "/") + ne)),
            D.push($)),
            1;
        ne = 0;
        var J = V === "" ? "." : V + ":";
        if (Q(C))
            for (var oe = 0; oe < C.length; oe++)
                V = C[oe],
                ce = J + Be(V, oe),
                ne += Ye(V, D, q, ce, $);
        else if (oe = y(C),
        typeof oe == "function")
            for (C = oe.call(C),
            oe = 0; !(V = C.next()).done; )
                V = V.value,
                ce = J + Be(V, oe++),
                ne += Ye(V, D, q, ce, $);
        else if (ce === "object") {
            if (typeof C.then == "function")
                return Ye(xt(C), D, q, V, $);
            throw D = String(C),
            Error("Objects are not valid as a React child (found: " + (D === "[object Object]" ? "object with keys {" + Object.keys(C).join(", ") + "}" : D) + "). If you meant to render a collection of children, use an array instead.")
        }
        return ne
    }
    function L(C, D, q) {
        if (C == null)
            return C;
        var V = []
          , $ = 0;
        return Ye(C, V, "", "", function(ce) {
            return D.call(q, ce, $++)
        }),
        V
    }
    function K(C) {
        if (C._status === -1) {
            var D = C._result;
            D = D(),
            D.then(function(q) {
                (C._status === 0 || C._status === -1) && (C._status = 1,
                C._result = q)
            }, function(q) {
                (C._status === 0 || C._status === -1) && (C._status = 2,
                C._result = q)
            }),
            C._status === -1 && (C._status = 0,
            C._result = D)
        }
        if (C._status === 1)
            return C._result.default;
        throw C._result
    }
    var X = typeof reportError == "function" ? reportError : function(C) {
        if (typeof window == "object" && typeof window.ErrorEvent == "function") {
            var D = new window.ErrorEvent("error",{
                bubbles: !0,
                cancelable: !0,
                message: typeof C == "object" && C !== null && typeof C.message == "string" ? String(C.message) : String(C),
                error: C
            });
            if (!window.dispatchEvent(D))
                return
        } else if (typeof process == "object" && typeof process.emit == "function") {
            process.emit("uncaughtException", C);
            return
        }
        console.error(C)
    }
    ;
    function ge() {}
    return le.Children = {
        map: L,
        forEach: function(C, D, q) {
            L(C, function() {
                D.apply(this, arguments)
            }, q)
        },
        count: function(C) {
            var D = 0;
            return L(C, function() {
                D++
            }),
            D
        },
        toArray: function(C) {
            return L(C, function(D) {
                return D
            }) || []
        },
        only: function(C) {
            if (!ve(C))
                throw Error("React.Children.only expected to receive a single React element child.");
            return C
        }
    },
    le.Component = z,
    le.Fragment = i,
    le.Profiler = o,
    le.PureComponent = B,
    le.StrictMode = r,
    le.Suspense = p,
    le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = G,
    le.__COMPILER_RUNTIME = {
        __proto__: null,
        c: function(C) {
            return G.H.useMemoCache(C)
        }
    },
    le.cache = function(C) {
        return function() {
            return C.apply(null, arguments)
        }
    }
    ,
    le.cloneElement = function(C, D, q) {
        if (C == null)
            throw Error("The argument must be a React element, but you passed " + C + ".");
        var V = T({}, C.props)
          , $ = C.key
          , ce = void 0;
        if (D != null)
            for (ne in D.ref !== void 0 && (ce = void 0),
            D.key !== void 0 && ($ = "" + D.key),
            D)
                !re.call(D, ne) || ne === "key" || ne === "__self" || ne === "__source" || ne === "ref" && D.ref === void 0 || (V[ne] = D[ne]);
        var ne = arguments.length - 2;
        if (ne === 1)
            V.children = q;
        else if (1 < ne) {
            for (var J = Array(ne), oe = 0; oe < ne; oe++)
                J[oe] = arguments[oe + 2];
            V.children = J
        }
        return ye(C.type, $, void 0, void 0, ce, V)
    }
    ,
    le.createContext = function(C) {
        return C = {
            $$typeof: f,
            _currentValue: C,
            _currentValue2: C,
            _threadCount: 0,
            Provider: null,
            Consumer: null
        },
        C.Provider = C,
        C.Consumer = {
            $$typeof: c,
            _context: C
        },
        C
    }
    ,
    le.createElement = function(C, D, q) {
        var V, $ = {}, ce = null;
        if (D != null)
            for (V in D.key !== void 0 && (ce = "" + D.key),
            D)
                re.call(D, V) && V !== "key" && V !== "__self" && V !== "__source" && ($[V] = D[V]);
        var ne = arguments.length - 2;
        if (ne === 1)
            $.children = q;
        else if (1 < ne) {
            for (var J = Array(ne), oe = 0; oe < ne; oe++)
                J[oe] = arguments[oe + 2];
            $.children = J
        }
        if (C && C.defaultProps)
            for (V in ne = C.defaultProps,
            ne)
                $[V] === void 0 && ($[V] = ne[V]);
        return ye(C, ce, void 0, void 0, null, $)
    }
    ,
    le.createRef = function() {
        return {
            current: null
        }
    }
    ,
    le.forwardRef = function(C) {
        return {
            $$typeof: h,
            render: C
        }
    }
    ,
    le.isValidElement = ve,
    le.lazy = function(C) {
        return {
            $$typeof: E,
            _payload: {
                _status: -1,
                _result: C
            },
            _init: K
        }
    }
    ,
    le.memo = function(C, D) {
        return {
            $$typeof: m,
            type: C,
            compare: D === void 0 ? null : D
        }
    }
    ,
    le.startTransition = function(C) {
        var D = G.T
          , q = {};
        G.T = q;
        try {
            var V = C()
              , $ = G.S;
            $ !== null && $(q, V),
            typeof V == "object" && V !== null && typeof V.then == "function" && V.then(ge, X)
        } catch (ce) {
            X(ce)
        } finally {
            G.T = D
        }
    }
    ,
    le.unstable_useCacheRefresh = function() {
        return G.H.useCacheRefresh()
    }
    ,
    le.use = function(C) {
        return G.H.use(C)
    }
    ,
    le.useActionState = function(C, D, q) {
        return G.H.useActionState(C, D, q)
    }
    ,
    le.useCallback = function(C, D) {
        return G.H.useCallback(C, D)
    }
    ,
    le.useContext = function(C) {
        return G.H.useContext(C)
    }
    ,
    le.useDebugValue = function() {}
    ,
    le.useDeferredValue = function(C, D) {
        return G.H.useDeferredValue(C, D)
    }
    ,
    le.useEffect = function(C, D, q) {
        var V = G.H;
        if (typeof q == "function")
            throw Error("useEffect CRUD overload is not enabled in this build of React.");
        return V.useEffect(C, D)
    }
    ,
    le.useId = function() {
        return G.H.useId()
    }
    ,
    le.useImperativeHandle = function(C, D, q) {
        return G.H.useImperativeHandle(C, D, q)
    }
    ,
    le.useInsertionEffect = function(C, D) {
        return G.H.useInsertionEffect(C, D)
    }
    ,
    le.useLayoutEffect = function(C, D) {
        return G.H.useLayoutEffect(C, D)
    }
    ,
    le.useMemo = function(C, D) {
        return G.H.useMemo(C, D)
    }
    ,
    le.useOptimistic = function(C, D) {
        return G.H.useOptimistic(C, D)
    }
    ,
    le.useReducer = function(C, D, q) {
        return G.H.useReducer(C, D, q)
    }
    ,
    le.useRef = function(C) {
        return G.H.useRef(C)
    }
    ,
    le.useState = function(C) {
        return G.H.useState(C)
    }
    ,
    le.useSyncExternalStore = function(C, D, q) {
        return G.H.useSyncExternalStore(C, D, q)
    }
    ,
    le.useTransition = function() {
        return G.H.useTransition()
    }
    ,
    le.version = "19.1.0",
    le
}
var N_;
function xf() {
    return N_ || (N_ = 1,
    kd.exports = s1()),
    kd.exports
}
var N = xf();
const a1 = ty(N);
var Ld = {
    exports: {}
}
  , yr = {}
  , jd = {
    exports: {}
}
  , Ud = {};
/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var R_;
function r1() {
    return R_ || (R_ = 1,
    function(s) {
        function e(L, K) {
            var X = L.length;
            L.push(K);
            e: for (; 0 < X; ) {
                var ge = X - 1 >>> 1
                  , C = L[ge];
                if (0 < o(C, K))
                    L[ge] = K,
                    L[X] = C,
                    X = ge;
                else
                    break e
            }
        }
        function i(L) {
            return L.length === 0 ? null : L[0]
        }
        function r(L) {
            if (L.length === 0)
                return null;
            var K = L[0]
              , X = L.pop();
            if (X !== K) {
                L[0] = X;
                e: for (var ge = 0, C = L.length, D = C >>> 1; ge < D; ) {
                    var q = 2 * (ge + 1) - 1
                      , V = L[q]
                      , $ = q + 1
                      , ce = L[$];
                    if (0 > o(V, X))
                        $ < C && 0 > o(ce, V) ? (L[ge] = ce,
                        L[$] = X,
                        ge = $) : (L[ge] = V,
                        L[q] = X,
                        ge = q);
                    else if ($ < C && 0 > o(ce, X))
                        L[ge] = ce,
                        L[$] = X,
                        ge = $;
                    else
                        break e
                }
            }
            return K
        }
        function o(L, K) {
            var X = L.sortIndex - K.sortIndex;
            return X !== 0 ? X : L.id - K.id
        }
        if (s.unstable_now = void 0,
        typeof performance == "object" && typeof performance.now == "function") {
            var c = performance;
            s.unstable_now = function() {
                return c.now()
            }
        } else {
            var f = Date
              , h = f.now();
            s.unstable_now = function() {
                return f.now() - h
            }
        }
        var p = []
          , m = []
          , E = 1
          , b = null
          , y = 3
          , A = !1
          , T = !1
          , k = !1
          , z = !1
          , H = typeof setTimeout == "function" ? setTimeout : null
          , B = typeof clearTimeout == "function" ? clearTimeout : null
          , F = typeof setImmediate < "u" ? setImmediate : null;
        function Q(L) {
            for (var K = i(m); K !== null; ) {
                if (K.callback === null)
                    r(m);
                else if (K.startTime <= L)
                    r(m),
                    K.sortIndex = K.expirationTime,
                    e(p, K);
                else
                    break;
                K = i(m)
            }
        }
        function G(L) {
            if (k = !1,
            Q(L),
            !T)
                if (i(p) !== null)
                    T = !0,
                    re || (re = !0,
                    Be());
                else {
                    var K = i(m);
                    K !== null && Ye(G, K.startTime - L)
                }
        }
        var re = !1
          , ye = -1
          , Te = 5
          , ve = -1;
        function Ie() {
            return z ? !0 : !(s.unstable_now() - ve < Te)
        }
        function et() {
            if (z = !1,
            re) {
                var L = s.unstable_now();
                ve = L;
                var K = !0;
                try {
                    e: {
                        T = !1,
                        k && (k = !1,
                        B(ye),
                        ye = -1),
                        A = !0;
                        var X = y;
                        try {
                            t: {
                                for (Q(L),
                                b = i(p); b !== null && !(b.expirationTime > L && Ie()); ) {
                                    var ge = b.callback;
                                    if (typeof ge == "function") {
                                        b.callback = null,
                                        y = b.priorityLevel;
                                        var C = ge(b.expirationTime <= L);
                                        if (L = s.unstable_now(),
                                        typeof C == "function") {
                                            b.callback = C,
                                            Q(L),
                                            K = !0;
                                            break t
                                        }
                                        b === i(p) && r(p),
                                        Q(L)
                                    } else
                                        r(p);
                                    b = i(p)
                                }
                                if (b !== null)
                                    K = !0;
                                else {
                                    var D = i(m);
                                    D !== null && Ye(G, D.startTime - L),
                                    K = !1
                                }
                            }
                            break e
                        } finally {
                            b = null,
                            y = X,
                            A = !1
                        }
                        K = void 0
                    }
                } finally {
                    K ? Be() : re = !1
                }
            }
        }
        var Be;
        if (typeof F == "function")
            Be = function() {
                F(et)
            }
            ;
        else if (typeof MessageChannel < "u") {
            var dt = new MessageChannel
              , xt = dt.port2;
            dt.port1.onmessage = et,
            Be = function() {
                xt.postMessage(null)
            }
        } else
            Be = function() {
                H(et, 0)
            }
            ;
        function Ye(L, K) {
            ye = H(function() {
                L(s.unstable_now())
            }, K)
        }
        s.unstable_IdlePriority = 5,
        s.unstable_ImmediatePriority = 1,
        s.unstable_LowPriority = 4,
        s.unstable_NormalPriority = 3,
        s.unstable_Profiling = null,
        s.unstable_UserBlockingPriority = 2,
        s.unstable_cancelCallback = function(L) {
            L.callback = null
        }
        ,
        s.unstable_forceFrameRate = function(L) {
            0 > L || 125 < L ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : Te = 0 < L ? Math.floor(1e3 / L) : 5
        }
        ,
        s.unstable_getCurrentPriorityLevel = function() {
            return y
        }
        ,
        s.unstable_next = function(L) {
            switch (y) {
            case 1:
            case 2:
            case 3:
                var K = 3;
                break;
            default:
                K = y
            }
            var X = y;
            y = K;
            try {
                return L()
            } finally {
                y = X
            }
        }
        ,
        s.unstable_requestPaint = function() {
            z = !0
        }
        ,
        s.unstable_runWithPriority = function(L, K) {
            switch (L) {
            case 1:
            case 2:
            case 3:
            case 4:
            case 5:
                break;
            default:
                L = 3
            }
            var X = y;
            y = L;
            try {
                return K()
            } finally {
                y = X
            }
        }
        ,
        s.unstable_scheduleCallback = function(L, K, X) {
            var ge = s.unstable_now();
            switch (typeof X == "object" && X !== null ? (X = X.delay,
            X = typeof X == "number" && 0 < X ? ge + X : ge) : X = ge,
            L) {
            case 1:
                var C = -1;
                break;
            case 2:
                C = 250;
                break;
            case 5:
                C = 1073741823;
                break;
            case 4:
                C = 1e4;
                break;
            default:
                C = 5e3
            }
            return C = X + C,
            L = {
                id: E++,
                callback: K,
                priorityLevel: L,
                startTime: X,
                expirationTime: C,
                sortIndex: -1
            },
            X > ge ? (L.sortIndex = X,
            e(m, L),
            i(p) === null && L === i(m) && (k ? (B(ye),
            ye = -1) : k = !0,
            Ye(G, X - ge))) : (L.sortIndex = C,
            e(p, L),
            T || A || (T = !0,
            re || (re = !0,
            Be()))),
            L
        }
        ,
        s.unstable_shouldYield = Ie,
        s.unstable_wrapCallback = function(L) {
            var K = y;
            return function() {
                var X = y;
                y = K;
                try {
                    return L.apply(this, arguments)
                } finally {
                    y = X
                }
            }
        }
    }(Ud)),
    Ud
}
var A_;
function l1() {
    return A_ || (A_ = 1,
    jd.exports = r1()),
    jd.exports
}
var Pd = {
    exports: {}
}
  , pt = {};
/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var x_;
function o1() {
    if (x_)
        return pt;
    x_ = 1;
    var s = xf();
    function e(p) {
        var m = "https://react.dev/errors/" + p;
        if (1 < arguments.length) {
            m += "?args[]=" + encodeURIComponent(arguments[1]);
            for (var E = 2; E < arguments.length; E++)
                m += "&args[]=" + encodeURIComponent(arguments[E])
        }
        return "Minified React error #" + p + "; visit " + m + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
    }
    function i() {}
    var r = {
        d: {
            f: i,
            r: function() {
                throw Error(e(522))
            },
            D: i,
            C: i,
            L: i,
            m: i,
            X: i,
            S: i,
            M: i
        },
        p: 0,
        findDOMNode: null
    }
      , o = Symbol.for("react.portal");
    function c(p, m, E) {
        var b = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null;
        return {
            $$typeof: o,
            key: b == null ? null : "" + b,
            children: p,
            containerInfo: m,
            implementation: E
        }
    }
    var f = s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;
    function h(p, m) {
        if (p === "font")
            return "";
        if (typeof m == "string")
            return m === "use-credentials" ? m : ""
    }
    return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = r,
    pt.createPortal = function(p, m) {
        var E = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null;
        if (!m || m.nodeType !== 1 && m.nodeType !== 9 && m.nodeType !== 11)
            throw Error(e(299));
        return c(p, m, null, E)
    }
    ,
    pt.flushSync = function(p) {
        var m = f.T
          , E = r.p;
        try {
            if (f.T = null,
            r.p = 2,
            p)
                return p()
        } finally {
            f.T = m,
            r.p = E,
            r.d.f()
        }
    }
    ,
    pt.preconnect = function(p, m) {
        typeof p == "string" && (m ? (m = m.crossOrigin,
        m = typeof m == "string" ? m === "use-credentials" ? m : "" : void 0) : m = null,
        r.d.C(p, m))
    }
    ,
    pt.prefetchDNS = function(p) {
        typeof p == "string" && r.d.D(p)
    }
    ,
    pt.preinit = function(p, m) {
        if (typeof p == "string" && m && typeof m.as == "string") {
            var E = m.as
              , b = h(E, m.crossOrigin)
              , y = typeof m.integrity == "string" ? m.integrity : void 0
              , A = typeof m.fetchPriority == "string" ? m.fetchPriority : void 0;
            E === "style" ? r.d.S(p, typeof m.precedence == "string" ? m.precedence : void 0, {
                crossOrigin: b,
                integrity: y,
                fetchPriority: A
            }) : E === "script" && r.d.X(p, {
                crossOrigin: b,
                integrity: y,
                fetchPriority: A,
                nonce: typeof m.nonce == "string" ? m.nonce : void 0
            })
        }
    }
    ,
    pt.preinitModule = function(p, m) {
        if (typeof p == "string")
            if (typeof m == "object" && m !== null) {
                if (m.as == null || m.as === "script") {
                    var E = h(m.as, m.crossOrigin);
                    r.d.M(p, {
                        crossOrigin: E,
                        integrity: typeof m.integrity == "string" ? m.integrity : void 0,
                        nonce: typeof m.nonce == "string" ? m.nonce : void 0
                    })
                }
            } else
                m == null && r.d.M(p)
    }
    ,
    pt.preload = function(p, m) {
        if (typeof p == "string" && typeof m == "object" && m !== null && typeof m.as == "string") {
            var E = m.as
              , b = h(E, m.crossOrigin);
            r.d.L(p, E, {
                crossOrigin: b,
                integrity: typeof m.integrity == "string" ? m.integrity : void 0,
                nonce: typeof m.nonce == "string" ? m.nonce : void 0,
                type: typeof m.type == "string" ? m.type : void 0,
                fetchPriority: typeof m.fetchPriority == "string" ? m.fetchPriority : void 0,
                referrerPolicy: typeof m.referrerPolicy == "string" ? m.referrerPolicy : void 0,
                imageSrcSet: typeof m.imageSrcSet == "string" ? m.imageSrcSet : void 0,
                imageSizes: typeof m.imageSizes == "string" ? m.imageSizes : void 0,
                media: typeof m.media == "string" ? m.media : void 0
            })
        }
    }
    ,
    pt.preloadModule = function(p, m) {
        if (typeof p == "string")
            if (m) {
                var E = h(m.as, m.crossOrigin);
                r.d.m(p, {
                    as: typeof m.as == "string" && m.as !== "script" ? m.as : void 0,
                    crossOrigin: E,
                    integrity: typeof m.integrity == "string" ? m.integrity : void 0
                })
            } else
                r.d.m(p)
    }
    ,
    pt.requestFormReset = function(p) {
        r.d.r(p)
    }
    ,
    pt.unstable_batchedUpdates = function(p, m) {
        return p(m)
    }
    ,
    pt.useFormState = function(p, m, E) {
        return f.H.useFormState(p, m, E)
    }
    ,
    pt.useFormStatus = function() {
        return f.H.useHostTransitionStatus()
    }
    ,
    pt.version = "19.1.0",
    pt
}
var O_;
function c1() {
    if (O_)
        return Pd.exports;
    O_ = 1;
    function s() {
        if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"))
            try {
                __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)
            } catch (e) {
                console.error(e)
            }
    }
    return s(),
    Pd.exports = o1(),
    Pd.exports
}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var I_;
function u1() {
    if (I_)
        return yr;
    I_ = 1;
    var s = l1()
      , e = xf()
      , i = c1();
    function r(t) {
        var n = "https://react.dev/errors/" + t;
        if (1 < arguments.length) {
            n += "?args[]=" + encodeURIComponent(arguments[1]);
            for (var a = 2; a < arguments.length; a++)
                n += "&args[]=" + encodeURIComponent(arguments[a])
        }
        return "Minified React error #" + t + "; visit " + n + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
    }
    function o(t) {
        return !(!t || t.nodeType !== 1 && t.nodeType !== 9 && t.nodeType !== 11)
    }
    function c(t) {
        var n = t
          , a = t;
        if (t.alternate)
            for (; n.return; )
                n = n.return;
        else {
            t = n;
            do
                n = t,
                (n.flags & 4098) !== 0 && (a = n.return),
                t = n.return;
            while (t)
        }
        return n.tag === 3 ? a : null
    }
    function f(t) {
        if (t.tag === 13) {
            var n = t.memoizedState;
            if (n === null && (t = t.alternate,
            t !== null && (n = t.memoizedState)),
            n !== null)
                return n.dehydrated
        }
        return null
    }
    function h(t) {
        if (c(t) !== t)
            throw Error(r(188))
    }
    function p(t) {
        var n = t.alternate;
        if (!n) {
            if (n = c(t),
            n === null)
                throw Error(r(188));
            return n !== t ? null : t
        }
        for (var a = t, l = n; ; ) {
            var u = a.return;
            if (u === null)
                break;
            var d = u.alternate;
            if (d === null) {
                if (l = u.return,
                l !== null) {
                    a = l;
                    continue
                }
                break
            }
            if (u.child === d.child) {
                for (d = u.child; d; ) {
                    if (d === a)
                        return h(u),
                        t;
                    if (d === l)
                        return h(u),
                        n;
                    d = d.sibling
                }
                throw Error(r(188))
            }
            if (a.return !== l.return)
                a = u,
                l = d;
            else {
                for (var g = !1, v = u.child; v; ) {
                    if (v === a) {
                        g = !0,
                        a = u,
                        l = d;
                        break
                    }
                    if (v === l) {
                        g = !0,
                        l = u,
                        a = d;
                        break
                    }
                    v = v.sibling
                }
                if (!g) {
                    for (v = d.child; v; ) {
                        if (v === a) {
                            g = !0,
                            a = d,
                            l = u;
                            break
                        }
                        if (v === l) {
                            g = !0,
                            l = d,
                            a = u;
                            break
                        }
                        v = v.sibling
                    }
                    if (!g)
                        throw Error(r(189))
                }
            }
            if (a.alternate !== l)
                throw Error(r(190))
        }
        if (a.tag !== 3)
            throw Error(r(188));
        return a.stateNode.current === a ? t : n
    }
    function m(t) {
        var n = t.tag;
        if (n === 5 || n === 26 || n === 27 || n === 6)
            return t;
        for (t = t.child; t !== null; ) {
            if (n = m(t),
            n !== null)
                return n;
            t = t.sibling
        }
        return null
    }
    var E = Object.assign
      , b = Symbol.for("react.element")
      , y = Symbol.for("react.transitional.element")
      , A = Symbol.for("react.portal")
      , T = Symbol.for("react.fragment")
      , k = Symbol.for("react.strict_mode")
      , z = Symbol.for("react.profiler")
      , H = Symbol.for("react.provider")
      , B = Symbol.for("react.consumer")
      , F = Symbol.for("react.context")
      , Q = Symbol.for("react.forward_ref")
      , G = Symbol.for("react.suspense")
      , re = Symbol.for("react.suspense_list")
      , ye = Symbol.for("react.memo")
      , Te = Symbol.for("react.lazy")
      , ve = Symbol.for("react.activity")
      , Ie = Symbol.for("react.memo_cache_sentinel")
      , et = Symbol.iterator;
    function Be(t) {
        return t === null || typeof t != "object" ? null : (t = et && t[et] || t["@@iterator"],
        typeof t == "function" ? t : null)
    }
    var dt = Symbol.for("react.client.reference");
    function xt(t) {
        if (t == null)
            return null;
        if (typeof t == "function")
            return t.$$typeof === dt ? null : t.displayName || t.name || null;
        if (typeof t == "string")
            return t;
        switch (t) {
        case T:
            return "Fragment";
        case z:
            return "Profiler";
        case k:
            return "StrictMode";
        case G:
            return "Suspense";
        case re:
            return "SuspenseList";
        case ve:
            return "Activity"
        }
        if (typeof t == "object")
            switch (t.$$typeof) {
            case A:
                return "Portal";
            case F:
                return (t.displayName || "Context") + ".Provider";
            case B:
                return (t._context.displayName || "Context") + ".Consumer";
            case Q:
                var n = t.render;
                return t = t.displayName,
                t || (t = n.displayName || n.name || "",
                t = t !== "" ? "ForwardRef(" + t + ")" : "ForwardRef"),
                t;
            case ye:
                return n = t.displayName || null,
                n !== null ? n : xt(t.type) || "Memo";
            case Te:
                n = t._payload,
                t = t._init;
                try {
                    return xt(t(n))
                } catch {}
            }
        return null
    }
    var Ye = Array.isArray
      , L = e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE
      , K = i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE
      , X = {
        pending: !1,
        data: null,
        method: null,
        action: null
    }
      , ge = []
      , C = -1;
    function D(t) {
        return {
            current: t
        }
    }
    function q(t) {
        0 > C || (t.current = ge[C],
        ge[C] = null,
        C--)
    }
    function V(t, n) {
        C++,
        ge[C] = t.current,
        t.current = n
    }
    var $ = D(null)
      , ce = D(null)
      , ne = D(null)
      , J = D(null);
    function oe(t, n) {
        switch (V(ne, n),
        V(ce, t),
        V($, null),
        n.nodeType) {
        case 9:
        case 11:
            t = (t = n.documentElement) && (t = t.namespaceURI) ? $g(t) : 0;
            break;
        default:
            if (t = n.tagName,
            n = n.namespaceURI)
                n = $g(n),
                t = Zg(n, t);
            else
                switch (t) {
                case "svg":
                    t = 1;
                    break;
                case "math":
                    t = 2;
                    break;
                default:
                    t = 0
                }
        }
        q($),
        V($, t)
    }
    function Ue() {
        q($),
        q(ce),
        q(ne)
    }
    function $t(t) {
        t.memoizedState !== null && V(J, t);
        var n = $.current
          , a = Zg(n, t.type);
        n !== a && (V(ce, t),
        V($, a))
    }
    function zt(t) {
        ce.current === t && (q($),
        q(ce)),
        J.current === t && (q(J),
        hr._currentValue = X)
    }
    var Zt = Object.prototype.hasOwnProperty
      , ds = s.unstable_scheduleCallback
      , bc = s.unstable_cancelCallback
      , kE = s.unstable_shouldYield
      , LE = s.unstable_requestPaint
      , dn = s.unstable_now
      , jE = s.unstable_getCurrentPriorityLevel
      , Ih = s.unstable_ImmediatePriority
      , Dh = s.unstable_UserBlockingPriority
      , ol = s.unstable_NormalPriority
      , UE = s.unstable_LowPriority
      , Mh = s.unstable_IdlePriority
      , PE = s.log
      , zE = s.unstable_setDisableYieldValue
      , ba = null
      , Ot = null;
    function Kn(t) {
        if (typeof PE == "function" && zE(t),
        Ot && typeof Ot.setStrictMode == "function")
            try {
                Ot.setStrictMode(ba, t)
            } catch {}
    }
    var It = Math.clz32 ? Math.clz32 : qE
      , HE = Math.log
      , BE = Math.LN2;
    function qE(t) {
        return t >>>= 0,
        t === 0 ? 32 : 31 - (HE(t) / BE | 0) | 0
    }
    var cl = 256
      , ul = 4194304;
    function Mi(t) {
        var n = t & 42;
        if (n !== 0)
            return n;
        switch (t & -t) {
        case 1:
            return 1;
        case 2:
            return 2;
        case 4:
            return 4;
        case 8:
            return 8;
        case 16:
            return 16;
        case 32:
            return 32;
        case 64:
            return 64;
        case 128:
            return 128;
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
            return t & 4194048;
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
            return t & 62914560;
        case 67108864:
            return 67108864;
        case 134217728:
            return 134217728;
        case 268435456:
            return 268435456;
        case 536870912:
            return 536870912;
        case 1073741824:
            return 0;
        default:
            return t
        }
    }
    function dl(t, n, a) {
        var l = t.pendingLanes;
        if (l === 0)
            return 0;
        var u = 0
          , d = t.suspendedLanes
          , g = t.pingedLanes;
        t = t.warmLanes;
        var v = l & 134217727;
        return v !== 0 ? (l = v & ~d,
        l !== 0 ? u = Mi(l) : (g &= v,
        g !== 0 ? u = Mi(g) : a || (a = v & ~t,
        a !== 0 && (u = Mi(a))))) : (v = l & ~d,
        v !== 0 ? u = Mi(v) : g !== 0 ? u = Mi(g) : a || (a = l & ~t,
        a !== 0 && (u = Mi(a)))),
        u === 0 ? 0 : n !== 0 && n !== u && (n & d) === 0 && (d = u & -u,
        a = n & -n,
        d >= a || d === 32 && (a & 4194048) !== 0) ? n : u
    }
    function Sa(t, n) {
        return (t.pendingLanes & ~(t.suspendedLanes & ~t.pingedLanes) & n) === 0
    }
    function VE(t, n) {
        switch (t) {
        case 1:
        case 2:
        case 4:
        case 8:
        case 64:
            return n + 250;
        case 16:
        case 32:
        case 128:
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
            return n + 5e3;
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
            return -1;
        case 67108864:
        case 134217728:
        case 268435456:
        case 536870912:
        case 1073741824:
            return -1;
        default:
            return -1
        }
    }
    function kh() {
        var t = cl;
        return cl <<= 1,
        (cl & 4194048) === 0 && (cl = 256),
        t
    }
    function Lh() {
        var t = ul;
        return ul <<= 1,
        (ul & 62914560) === 0 && (ul = 4194304),
        t
    }
    function Sc(t) {
        for (var n = [], a = 0; 31 > a; a++)
            n.push(t);
        return n
    }
    function Ca(t, n) {
        t.pendingLanes |= n,
        n !== 268435456 && (t.suspendedLanes = 0,
        t.pingedLanes = 0,
        t.warmLanes = 0)
    }
    function GE(t, n, a, l, u, d) {
        var g = t.pendingLanes;
        t.pendingLanes = a,
        t.suspendedLanes = 0,
        t.pingedLanes = 0,
        t.warmLanes = 0,
        t.expiredLanes &= a,
        t.entangledLanes &= a,
        t.errorRecoveryDisabledLanes &= a,
        t.shellSuspendCounter = 0;
        var v = t.entanglements
          , S = t.expirationTimes
          , O = t.hiddenUpdates;
        for (a = g & ~a; 0 < a; ) {
            var j = 31 - It(a)
              , P = 1 << j;
            v[j] = 0,
            S[j] = -1;
            var I = O[j];
            if (I !== null)
                for (O[j] = null,
                j = 0; j < I.length; j++) {
                    var M = I[j];
                    M !== null && (M.lane &= -536870913)
                }
            a &= ~P
        }
        l !== 0 && jh(t, l, 0),
        d !== 0 && u === 0 && t.tag !== 0 && (t.suspendedLanes |= d & ~(g & ~n))
    }
    function jh(t, n, a) {
        t.pendingLanes |= n,
        t.suspendedLanes &= ~n;
        var l = 31 - It(n);
        t.entangledLanes |= n,
        t.entanglements[l] = t.entanglements[l] | 1073741824 | a & 4194090
    }
    function Uh(t, n) {
        var a = t.entangledLanes |= n;
        for (t = t.entanglements; a; ) {
            var l = 31 - It(a)
              , u = 1 << l;
            u & n | t[l] & n && (t[l] |= n),
            a &= ~u
        }
    }
    function Cc(t) {
        switch (t) {
        case 2:
            t = 1;
            break;
        case 8:
            t = 4;
            break;
        case 32:
            t = 16;
            break;
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
            t = 128;
            break;
        case 268435456:
            t = 134217728;
            break;
        default:
            t = 0
        }
        return t
    }
    function Tc(t) {
        return t &= -t,
        2 < t ? 8 < t ? (t & 134217727) !== 0 ? 32 : 268435456 : 8 : 2
    }
    function Ph() {
        var t = K.p;
        return t !== 0 ? t : (t = window.event,
        t === void 0 ? 32 : __(t.type))
    }
    function YE(t, n) {
        var a = K.p;
        try {
            return K.p = t,
            n()
        } finally {
            K.p = a
        }
    }
    var Qn = Math.random().toString(36).slice(2)
      , ft = "__reactFiber$" + Qn
      , bt = "__reactProps$" + Qn
      , fs = "__reactContainer$" + Qn
      , wc = "__reactEvents$" + Qn
      , FE = "__reactListeners$" + Qn
      , KE = "__reactHandles$" + Qn
      , zh = "__reactResources$" + Qn
      , Ta = "__reactMarker$" + Qn;
    function Nc(t) {
        delete t[ft],
        delete t[bt],
        delete t[wc],
        delete t[FE],
        delete t[KE]
    }
    function hs(t) {
        var n = t[ft];
        if (n)
            return n;
        for (var a = t.parentNode; a; ) {
            if (n = a[fs] || a[ft]) {
                if (a = n.alternate,
                n.child !== null || a !== null && a.child !== null)
                    for (t = n_(t); t !== null; ) {
                        if (a = t[ft])
                            return a;
                        t = n_(t)
                    }
                return n
            }
            t = a,
            a = t.parentNode
        }
        return null
    }
    function ps(t) {
        if (t = t[ft] || t[fs]) {
            var n = t.tag;
            if (n === 5 || n === 6 || n === 13 || n === 26 || n === 27 || n === 3)
                return t
        }
        return null
    }
    function wa(t) {
        var n = t.tag;
        if (n === 5 || n === 26 || n === 27 || n === 6)
            return t.stateNode;
        throw Error(r(33))
    }
    function ms(t) {
        var n = t[zh];
        return n || (n = t[zh] = {
            hoistableStyles: new Map,
            hoistableScripts: new Map
        }),
        n
    }
    function tt(t) {
        t[Ta] = !0
    }
    var Hh = new Set
      , Bh = {};
    function ki(t, n) {
        gs(t, n),
        gs(t + "Capture", n)
    }
    function gs(t, n) {
        for (Bh[t] = n,
        t = 0; t < n.length; t++)
            Hh.add(n[t])
    }
    var QE = RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")
      , qh = {}
      , Vh = {};
    function WE(t) {
        return Zt.call(Vh, t) ? !0 : Zt.call(qh, t) ? !1 : QE.test(t) ? Vh[t] = !0 : (qh[t] = !0,
        !1)
    }
    function fl(t, n, a) {
        if (WE(n))
            if (a === null)
                t.removeAttribute(n);
            else {
                switch (typeof a) {
                case "undefined":
                case "function":
                case "symbol":
                    t.removeAttribute(n);
                    return;
                case "boolean":
                    var l = n.toLowerCase().slice(0, 5);
                    if (l !== "data-" && l !== "aria-") {
                        t.removeAttribute(n);
                        return
                    }
                }
                t.setAttribute(n, "" + a)
            }
    }
    function hl(t, n, a) {
        if (a === null)
            t.removeAttribute(n);
        else {
            switch (typeof a) {
            case "undefined":
            case "function":
            case "symbol":
            case "boolean":
                t.removeAttribute(n);
                return
            }
            t.setAttribute(n, "" + a)
        }
    }
    function En(t, n, a, l) {
        if (l === null)
            t.removeAttribute(a);
        else {
            switch (typeof l) {
            case "undefined":
            case "function":
            case "symbol":
            case "boolean":
                t.removeAttribute(a);
                return
            }
            t.setAttributeNS(n, a, "" + l)
        }
    }
    var Rc, Gh;
    function _s(t) {
        if (Rc === void 0)
            try {
                throw Error()
            } catch (a) {
                var n = a.stack.trim().match(/\n( *(at )?)/);
                Rc = n && n[1] || "",
                Gh = -1 < a.stack.indexOf(`
    at`) ? " (<anonymous>)" : -1 < a.stack.indexOf("@") ? "@unknown:0:0" : ""
            }
        return `
` + Rc + t + Gh
    }
    var Ac = !1;
    function xc(t, n) {
        if (!t || Ac)
            return "";
        Ac = !0;
        var a = Error.prepareStackTrace;
        Error.prepareStackTrace = void 0;
        try {
            var l = {
                DetermineComponentFrameRoot: function() {
                    try {
                        if (n) {
                            var P = function() {
                                throw Error()
                            };
                            if (Object.defineProperty(P.prototype, "props", {
                                set: function() {
                                    throw Error()
                                }
                            }),
                            typeof Reflect == "object" && Reflect.construct) {
                                try {
                                    Reflect.construct(P, [])
                                } catch (M) {
                                    var I = M
                                }
                                Reflect.construct(t, [], P)
                            } else {
                                try {
                                    P.call()
                                } catch (M) {
                                    I = M
                                }
                                t.call(P.prototype)
                            }
                        } else {
                            try {
                                throw Error()
                            } catch (M) {
                                I = M
                            }
                            (P = t()) && typeof P.catch == "function" && P.catch(function() {})
                        }
                    } catch (M) {
                        if (M && I && typeof M.stack == "string")
                            return [M.stack, I.stack]
                    }
                    return [null, null]
                }
            };
            l.DetermineComponentFrameRoot.displayName = "DetermineComponentFrameRoot";
            var u = Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot, "name");
            u && u.configurable && Object.defineProperty(l.DetermineComponentFrameRoot, "name", {
                value: "DetermineComponentFrameRoot"
            });
            var d = l.DetermineComponentFrameRoot()
              , g = d[0]
              , v = d[1];
            if (g && v) {
                var S = g.split(`
`)
                  , O = v.split(`
`);
                for (u = l = 0; l < S.length && !S[l].includes("DetermineComponentFrameRoot"); )
                    l++;
                for (; u < O.length && !O[u].includes("DetermineComponentFrameRoot"); )
                    u++;
                if (l === S.length || u === O.length)
                    for (l = S.length - 1,
                    u = O.length - 1; 1 <= l && 0 <= u && S[l] !== O[u]; )
                        u--;
                for (; 1 <= l && 0 <= u; l--,
                u--)
                    if (S[l] !== O[u]) {
                        if (l !== 1 || u !== 1)
                            do
                                if (l--,
                                u--,
                                0 > u || S[l] !== O[u]) {
                                    var j = `
` + S[l].replace(" at new ", " at ");
                                    return t.displayName && j.includes("<anonymous>") && (j = j.replace("<anonymous>", t.displayName)),
                                    j
                                }
                            while (1 <= l && 0 <= u);
                        break
                    }
            }
        } finally {
            Ac = !1,
            Error.prepareStackTrace = a
        }
        return (a = t ? t.displayName || t.name : "") ? _s(a) : ""
    }
    function XE(t) {
        switch (t.tag) {
        case 26:
        case 27:
        case 5:
            return _s(t.type);
        case 16:
            return _s("Lazy");
        case 13:
            return _s("Suspense");
        case 19:
            return _s("SuspenseList");
        case 0:
        case 15:
            return xc(t.type, !1);
        case 11:
            return xc(t.type.render, !1);
        case 1:
            return xc(t.type, !0);
        case 31:
            return _s("Activity");
        default:
            return ""
        }
    }
    function Yh(t) {
        try {
            var n = "";
            do
                n += XE(t),
                t = t.return;
            while (t);
            return n
        } catch (a) {
            return `
Error generating stack: ` + a.message + `
` + a.stack
        }
    }
    function Ht(t) {
        switch (typeof t) {
        case "bigint":
        case "boolean":
        case "number":
        case "string":
        case "undefined":
            return t;
        case "object":
            return t;
        default:
            return ""
        }
    }
    function Fh(t) {
        var n = t.type;
        return (t = t.nodeName) && t.toLowerCase() === "input" && (n === "checkbox" || n === "radio")
    }
    function $E(t) {
        var n = Fh(t) ? "checked" : "value"
          , a = Object.getOwnPropertyDescriptor(t.constructor.prototype, n)
          , l = "" + t[n];
        if (!t.hasOwnProperty(n) && typeof a < "u" && typeof a.get == "function" && typeof a.set == "function") {
            var u = a.get
              , d = a.set;
            return Object.defineProperty(t, n, {
                configurable: !0,
                get: function() {
                    return u.call(this)
                },
                set: function(g) {
                    l = "" + g,
                    d.call(this, g)
                }
            }),
            Object.defineProperty(t, n, {
                enumerable: a.enumerable
            }),
            {
                getValue: function() {
                    return l
                },
                setValue: function(g) {
                    l = "" + g
                },
                stopTracking: function() {
                    t._valueTracker = null,
                    delete t[n]
                }
            }
        }
    }
    function pl(t) {
        t._valueTracker || (t._valueTracker = $E(t))
    }
    function Kh(t) {
        if (!t)
            return !1;
        var n = t._valueTracker;
        if (!n)
            return !0;
        var a = n.getValue()
          , l = "";
        return t && (l = Fh(t) ? t.checked ? "true" : "false" : t.value),
        t = l,
        t !== a ? (n.setValue(t),
        !0) : !1
    }
    function ml(t) {
        if (t = t || (typeof document < "u" ? document : void 0),
        typeof t > "u")
            return null;
        try {
            return t.activeElement || t.body
        } catch {
            return t.body
        }
    }
    var ZE = /[\n"\\]/g;
    function Bt(t) {
        return t.replace(ZE, function(n) {
            return "\\" + n.charCodeAt(0).toString(16) + " "
        })
    }
    function Oc(t, n, a, l, u, d, g, v) {
        t.name = "",
        g != null && typeof g != "function" && typeof g != "symbol" && typeof g != "boolean" ? t.type = g : t.removeAttribute("type"),
        n != null ? g === "number" ? (n === 0 && t.value === "" || t.value != n) && (t.value = "" + Ht(n)) : t.value !== "" + Ht(n) && (t.value = "" + Ht(n)) : g !== "submit" && g !== "reset" || t.removeAttribute("value"),
        n != null ? Ic(t, g, Ht(n)) : a != null ? Ic(t, g, Ht(a)) : l != null && t.removeAttribute("value"),
        u == null && d != null && (t.defaultChecked = !!d),
        u != null && (t.checked = u && typeof u != "function" && typeof u != "symbol"),
        v != null && typeof v != "function" && typeof v != "symbol" && typeof v != "boolean" ? t.name = "" + Ht(v) : t.removeAttribute("name")
    }
    function Qh(t, n, a, l, u, d, g, v) {
        if (d != null && typeof d != "function" && typeof d != "symbol" && typeof d != "boolean" && (t.type = d),
        n != null || a != null) {
            if (!(d !== "submit" && d !== "reset" || n != null))
                return;
            a = a != null ? "" + Ht(a) : "",
            n = n != null ? "" + Ht(n) : a,
            v || n === t.value || (t.value = n),
            t.defaultValue = n
        }
        l = l ?? u,
        l = typeof l != "function" && typeof l != "symbol" && !!l,
        t.checked = v ? t.checked : !!l,
        t.defaultChecked = !!l,
        g != null && typeof g != "function" && typeof g != "symbol" && typeof g != "boolean" && (t.name = g)
    }
    function Ic(t, n, a) {
        n === "number" && ml(t.ownerDocument) === t || t.defaultValue === "" + a || (t.defaultValue = "" + a)
    }
    function vs(t, n, a, l) {
        if (t = t.options,
        n) {
            n = {};
            for (var u = 0; u < a.length; u++)
                n["$" + a[u]] = !0;
            for (a = 0; a < t.length; a++)
                u = n.hasOwnProperty("$" + t[a].value),
                t[a].selected !== u && (t[a].selected = u),
                u && l && (t[a].defaultSelected = !0)
        } else {
            for (a = "" + Ht(a),
            n = null,
            u = 0; u < t.length; u++) {
                if (t[u].value === a) {
                    t[u].selected = !0,
                    l && (t[u].defaultSelected = !0);
                    return
                }
                n !== null || t[u].disabled || (n = t[u])
            }
            n !== null && (n.selected = !0)
        }
    }
    function Wh(t, n, a) {
        if (n != null && (n = "" + Ht(n),
        n !== t.value && (t.value = n),
        a == null)) {
            t.defaultValue !== n && (t.defaultValue = n);
            return
        }
        t.defaultValue = a != null ? "" + Ht(a) : ""
    }
    function Xh(t, n, a, l) {
        if (n == null) {
            if (l != null) {
                if (a != null)
                    throw Error(r(92));
                if (Ye(l)) {
                    if (1 < l.length)
                        throw Error(r(93));
                    l = l[0]
                }
                a = l
            }
            a == null && (a = ""),
            n = a
        }
        a = Ht(n),
        t.defaultValue = a,
        l = t.textContent,
        l === a && l !== "" && l !== null && (t.value = l)
    }
    function ys(t, n) {
        if (n) {
            var a = t.firstChild;
            if (a && a === t.lastChild && a.nodeType === 3) {
                a.nodeValue = n;
                return
            }
        }
        t.textContent = n
    }
    var JE = new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));
    function $h(t, n, a) {
        var l = n.indexOf("--") === 0;
        a == null || typeof a == "boolean" || a === "" ? l ? t.setProperty(n, "") : n === "float" ? t.cssFloat = "" : t[n] = "" : l ? t.setProperty(n, a) : typeof a != "number" || a === 0 || JE.has(n) ? n === "float" ? t.cssFloat = a : t[n] = ("" + a).trim() : t[n] = a + "px"
    }
    function Zh(t, n, a) {
        if (n != null && typeof n != "object")
            throw Error(r(62));
        if (t = t.style,
        a != null) {
            for (var l in a)
                !a.hasOwnProperty(l) || n != null && n.hasOwnProperty(l) || (l.indexOf("--") === 0 ? t.setProperty(l, "") : l === "float" ? t.cssFloat = "" : t[l] = "");
            for (var u in n)
                l = n[u],
                n.hasOwnProperty(u) && a[u] !== l && $h(t, u, l)
        } else
            for (var d in n)
                n.hasOwnProperty(d) && $h(t, d, n[d])
    }
    function Dc(t) {
        if (t.indexOf("-") === -1)
            return !1;
        switch (t) {
        case "annotation-xml":
        case "color-profile":
        case "font-face":
        case "font-face-src":
        case "font-face-uri":
        case "font-face-format":
        case "font-face-name":
        case "missing-glyph":
            return !1;
        default:
            return !0
        }
    }
    var eb = new Map([["acceptCharset", "accept-charset"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"], ["crossOrigin", "crossorigin"], ["accentHeight", "accent-height"], ["alignmentBaseline", "alignment-baseline"], ["arabicForm", "arabic-form"], ["baselineShift", "baseline-shift"], ["capHeight", "cap-height"], ["clipPath", "clip-path"], ["clipRule", "clip-rule"], ["colorInterpolation", "color-interpolation"], ["colorInterpolationFilters", "color-interpolation-filters"], ["colorProfile", "color-profile"], ["colorRendering", "color-rendering"], ["dominantBaseline", "dominant-baseline"], ["enableBackground", "enable-background"], ["fillOpacity", "fill-opacity"], ["fillRule", "fill-rule"], ["floodColor", "flood-color"], ["floodOpacity", "flood-opacity"], ["fontFamily", "font-family"], ["fontSize", "font-size"], ["fontSizeAdjust", "font-size-adjust"], ["fontStretch", "font-stretch"], ["fontStyle", "font-style"], ["fontVariant", "font-variant"], ["fontWeight", "font-weight"], ["glyphName", "glyph-name"], ["glyphOrientationHorizontal", "glyph-orientation-horizontal"], ["glyphOrientationVertical", "glyph-orientation-vertical"], ["horizAdvX", "horiz-adv-x"], ["horizOriginX", "horiz-origin-x"], ["imageRendering", "image-rendering"], ["letterSpacing", "letter-spacing"], ["lightingColor", "lighting-color"], ["markerEnd", "marker-end"], ["markerMid", "marker-mid"], ["markerStart", "marker-start"], ["overlinePosition", "overline-position"], ["overlineThickness", "overline-thickness"], ["paintOrder", "paint-order"], ["panose-1", "panose-1"], ["pointerEvents", "pointer-events"], ["renderingIntent", "rendering-intent"], ["shapeRendering", "shape-rendering"], ["stopColor", "stop-color"], ["stopOpacity", "stop-opacity"], ["strikethroughPosition", "strikethrough-position"], ["strikethroughThickness", "strikethrough-thickness"], ["strokeDasharray", "stroke-dasharray"], ["strokeDashoffset", "stroke-dashoffset"], ["strokeLinecap", "stroke-linecap"], ["strokeLinejoin", "stroke-linejoin"], ["strokeMiterlimit", "stroke-miterlimit"], ["strokeOpacity", "stroke-opacity"], ["strokeWidth", "stroke-width"], ["textAnchor", "text-anchor"], ["textDecoration", "text-decoration"], ["textRendering", "text-rendering"], ["transformOrigin", "transform-origin"], ["underlinePosition", "underline-position"], ["underlineThickness", "underline-thickness"], ["unicodeBidi", "unicode-bidi"], ["unicodeRange", "unicode-range"], ["unitsPerEm", "units-per-em"], ["vAlphabetic", "v-alphabetic"], ["vHanging", "v-hanging"], ["vIdeographic", "v-ideographic"], ["vMathematical", "v-mathematical"], ["vectorEffect", "vector-effect"], ["vertAdvY", "vert-adv-y"], ["vertOriginX", "vert-origin-x"], ["vertOriginY", "vert-origin-y"], ["wordSpacing", "word-spacing"], ["writingMode", "writing-mode"], ["xmlnsXlink", "xmlns:xlink"], ["xHeight", "x-height"]])
      , tb = /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;
    function gl(t) {
        return tb.test("" + t) ? "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')" : t
    }
    var Mc = null;
    function kc(t) {
        return t = t.target || t.srcElement || window,
        t.correspondingUseElement && (t = t.correspondingUseElement),
        t.nodeType === 3 ? t.parentNode : t
    }
    var Es = null
      , bs = null;
    function Jh(t) {
        var n = ps(t);
        if (n && (t = n.stateNode)) {
            var a = t[bt] || null;
            e: switch (t = n.stateNode,
            n.type) {
            case "input":
                if (Oc(t, a.value, a.defaultValue, a.defaultValue, a.checked, a.defaultChecked, a.type, a.name),
                n = a.name,
                a.type === "radio" && n != null) {
                    for (a = t; a.parentNode; )
                        a = a.parentNode;
                    for (a = a.querySelectorAll('input[name="' + Bt("" + n) + '"][type="radio"]'),
                    n = 0; n < a.length; n++) {
                        var l = a[n];
                        if (l !== t && l.form === t.form) {
                            var u = l[bt] || null;
                            if (!u)
                                throw Error(r(90));
                            Oc(l, u.value, u.defaultValue, u.defaultValue, u.checked, u.defaultChecked, u.type, u.name)
                        }
                    }
                    for (n = 0; n < a.length; n++)
                        l = a[n],
                        l.form === t.form && Kh(l)
                }
                break e;
            case "textarea":
                Wh(t, a.value, a.defaultValue);
                break e;
            case "select":
                n = a.value,
                n != null && vs(t, !!a.multiple, n, !1)
            }
        }
    }
    var Lc = !1;
    function ep(t, n, a) {
        if (Lc)
            return t(n, a);
        Lc = !0;
        try {
            var l = t(n);
            return l
        } finally {
            if (Lc = !1,
            (Es !== null || bs !== null) && (to(),
            Es && (n = Es,
            t = bs,
            bs = Es = null,
            Jh(n),
            t)))
                for (n = 0; n < t.length; n++)
                    Jh(t[n])
        }
    }
    function Na(t, n) {
        var a = t.stateNode;
        if (a === null)
            return null;
        var l = a[bt] || null;
        if (l === null)
            return null;
        a = l[n];
        e: switch (n) {
        case "onClick":
        case "onClickCapture":
        case "onDoubleClick":
        case "onDoubleClickCapture":
        case "onMouseDown":
        case "onMouseDownCapture":
        case "onMouseMove":
        case "onMouseMoveCapture":
        case "onMouseUp":
        case "onMouseUpCapture":
        case "onMouseEnter":
            (l = !l.disabled) || (t = t.type,
            l = !(t === "button" || t === "input" || t === "select" || t === "textarea")),
            t = !l;
            break e;
        default:
            t = !1
        }
        if (t)
            return null;
        if (a && typeof a != "function")
            throw Error(r(231, n, typeof a));
        return a
    }
    var bn = !(typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u")
      , jc = !1;
    if (bn)
        try {
            var Ra = {};
            Object.defineProperty(Ra, "passive", {
                get: function() {
                    jc = !0
                }
            }),
            window.addEventListener("test", Ra, Ra),
            window.removeEventListener("test", Ra, Ra)
        } catch {
            jc = !1
        }
    var Wn = null
      , Uc = null
      , _l = null;
    function tp() {
        if (_l)
            return _l;
        var t, n = Uc, a = n.length, l, u = "value"in Wn ? Wn.value : Wn.textContent, d = u.length;
        for (t = 0; t < a && n[t] === u[t]; t++)
            ;
        var g = a - t;
        for (l = 1; l <= g && n[a - l] === u[d - l]; l++)
            ;
        return _l = u.slice(t, 1 < l ? 1 - l : void 0)
    }
    function vl(t) {
        var n = t.keyCode;
        return "charCode"in t ? (t = t.charCode,
        t === 0 && n === 13 && (t = 13)) : t = n,
        t === 10 && (t = 13),
        32 <= t || t === 13 ? t : 0
    }
    function yl() {
        return !0
    }
    function np() {
        return !1
    }
    function St(t) {
        function n(a, l, u, d, g) {
            this._reactName = a,
            this._targetInst = u,
            this.type = l,
            this.nativeEvent = d,
            this.target = g,
            this.currentTarget = null;
            for (var v in t)
                t.hasOwnProperty(v) && (a = t[v],
                this[v] = a ? a(d) : d[v]);
            return this.isDefaultPrevented = (d.defaultPrevented != null ? d.defaultPrevented : d.returnValue === !1) ? yl : np,
            this.isPropagationStopped = np,
            this
        }
        return E(n.prototype, {
            preventDefault: function() {
                this.defaultPrevented = !0;
                var a = this.nativeEvent;
                a && (a.preventDefault ? a.preventDefault() : typeof a.returnValue != "unknown" && (a.returnValue = !1),
                this.isDefaultPrevented = yl)
            },
            stopPropagation: function() {
                var a = this.nativeEvent;
                a && (a.stopPropagation ? a.stopPropagation() : typeof a.cancelBubble != "unknown" && (a.cancelBubble = !0),
                this.isPropagationStopped = yl)
            },
            persist: function() {},
            isPersistent: yl
        }),
        n
    }
    var Li = {
        eventPhase: 0,
        bubbles: 0,
        cancelable: 0,
        timeStamp: function(t) {
            return t.timeStamp || Date.now()
        },
        defaultPrevented: 0,
        isTrusted: 0
    }, El = St(Li), Aa = E({}, Li, {
        view: 0,
        detail: 0
    }), nb = St(Aa), Pc, zc, xa, bl = E({}, Aa, {
        screenX: 0,
        screenY: 0,
        clientX: 0,
        clientY: 0,
        pageX: 0,
        pageY: 0,
        ctrlKey: 0,
        shiftKey: 0,
        altKey: 0,
        metaKey: 0,
        getModifierState: Bc,
        button: 0,
        buttons: 0,
        relatedTarget: function(t) {
            return t.relatedTarget === void 0 ? t.fromElement === t.srcElement ? t.toElement : t.fromElement : t.relatedTarget
        },
        movementX: function(t) {
            return "movementX"in t ? t.movementX : (t !== xa && (xa && t.type === "mousemove" ? (Pc = t.screenX - xa.screenX,
            zc = t.screenY - xa.screenY) : zc = Pc = 0,
            xa = t),
            Pc)
        },
        movementY: function(t) {
            return "movementY"in t ? t.movementY : zc
        }
    }), ip = St(bl), ib = E({}, bl, {
        dataTransfer: 0
    }), sb = St(ib), ab = E({}, Aa, {
        relatedTarget: 0
    }), Hc = St(ab), rb = E({}, Li, {
        animationName: 0,
        elapsedTime: 0,
        pseudoElement: 0
    }), lb = St(rb), ob = E({}, Li, {
        clipboardData: function(t) {
            return "clipboardData"in t ? t.clipboardData : window.clipboardData
        }
    }), cb = St(ob), ub = E({}, Li, {
        data: 0
    }), sp = St(ub), db = {
        Esc: "Escape",
        Spacebar: " ",
        Left: "ArrowLeft",
        Up: "ArrowUp",
        Right: "ArrowRight",
        Down: "ArrowDown",
        Del: "Delete",
        Win: "OS",
        Menu: "ContextMenu",
        Apps: "ContextMenu",
        Scroll: "ScrollLock",
        MozPrintableKey: "Unidentified"
    }, fb = {
        8: "Backspace",
        9: "Tab",
        12: "Clear",
        13: "Enter",
        16: "Shift",
        17: "Control",
        18: "Alt",
        19: "Pause",
        20: "CapsLock",
        27: "Escape",
        32: " ",
        33: "PageUp",
        34: "PageDown",
        35: "End",
        36: "Home",
        37: "ArrowLeft",
        38: "ArrowUp",
        39: "ArrowRight",
        40: "ArrowDown",
        45: "Insert",
        46: "Delete",
        112: "F1",
        113: "F2",
        114: "F3",
        115: "F4",
        116: "F5",
        117: "F6",
        118: "F7",
        119: "F8",
        120: "F9",
        121: "F10",
        122: "F11",
        123: "F12",
        144: "NumLock",
        145: "ScrollLock",
        224: "Meta"
    }, hb = {
        Alt: "altKey",
        Control: "ctrlKey",
        Meta: "metaKey",
        Shift: "shiftKey"
    };
    function pb(t) {
        var n = this.nativeEvent;
        return n.getModifierState ? n.getModifierState(t) : (t = hb[t]) ? !!n[t] : !1
    }
    function Bc() {
        return pb
    }
    var mb = E({}, Aa, {
        key: function(t) {
            if (t.key) {
                var n = db[t.key] || t.key;
                if (n !== "Unidentified")
                    return n
            }
            return t.type === "keypress" ? (t = vl(t),
            t === 13 ? "Enter" : String.fromCharCode(t)) : t.type === "keydown" || t.type === "keyup" ? fb[t.keyCode] || "Unidentified" : ""
        },
        code: 0,
        location: 0,
        ctrlKey: 0,
        shiftKey: 0,
        altKey: 0,
        metaKey: 0,
        repeat: 0,
        locale: 0,
        getModifierState: Bc,
        charCode: function(t) {
            return t.type === "keypress" ? vl(t) : 0
        },
        keyCode: function(t) {
            return t.type === "keydown" || t.type === "keyup" ? t.keyCode : 0
        },
        which: function(t) {
            return t.type === "keypress" ? vl(t) : t.type === "keydown" || t.type === "keyup" ? t.keyCode : 0
        }
    })
      , gb = St(mb)
      , _b = E({}, bl, {
        pointerId: 0,
        width: 0,
        height: 0,
        pressure: 0,
        tangentialPressure: 0,
        tiltX: 0,
        tiltY: 0,
        twist: 0,
        pointerType: 0,
        isPrimary: 0
    })
      , ap = St(_b)
      , vb = E({}, Aa, {
        touches: 0,
        targetTouches: 0,
        changedTouches: 0,
        altKey: 0,
        metaKey: 0,
        ctrlKey: 0,
        shiftKey: 0,
        getModifierState: Bc
    })
      , yb = St(vb)
      , Eb = E({}, Li, {
        propertyName: 0,
        elapsedTime: 0,
        pseudoElement: 0
    })
      , bb = St(Eb)
      , Sb = E({}, bl, {
        deltaX: function(t) {
            return "deltaX"in t ? t.deltaX : "wheelDeltaX"in t ? -t.wheelDeltaX : 0
        },
        deltaY: function(t) {
            return "deltaY"in t ? t.deltaY : "wheelDeltaY"in t ? -t.wheelDeltaY : "wheelDelta"in t ? -t.wheelDelta : 0
        },
        deltaZ: 0,
        deltaMode: 0
    })
      , Cb = St(Sb)
      , Tb = E({}, Li, {
        newState: 0,
        oldState: 0
    })
      , wb = St(Tb)
      , Nb = [9, 13, 27, 32]
      , qc = bn && "CompositionEvent"in window
      , Oa = null;
    bn && "documentMode"in document && (Oa = document.documentMode);
    var Rb = bn && "TextEvent"in window && !Oa
      , rp = bn && (!qc || Oa && 8 < Oa && 11 >= Oa)
      , lp = " "
      , op = !1;
    function cp(t, n) {
        switch (t) {
        case "keyup":
            return Nb.indexOf(n.keyCode) !== -1;
        case "keydown":
            return n.keyCode !== 229;
        case "keypress":
        case "mousedown":
        case "focusout":
            return !0;
        default:
            return !1
        }
    }
    function up(t) {
        return t = t.detail,
        typeof t == "object" && "data"in t ? t.data : null
    }
    var Ss = !1;
    function Ab(t, n) {
        switch (t) {
        case "compositionend":
            return up(n);
        case "keypress":
            return n.which !== 32 ? null : (op = !0,
            lp);
        case "textInput":
            return t = n.data,
            t === lp && op ? null : t;
        default:
            return null
        }
    }
    function xb(t, n) {
        if (Ss)
            return t === "compositionend" || !qc && cp(t, n) ? (t = tp(),
            _l = Uc = Wn = null,
            Ss = !1,
            t) : null;
        switch (t) {
        case "paste":
            return null;
        case "keypress":
            if (!(n.ctrlKey || n.altKey || n.metaKey) || n.ctrlKey && n.altKey) {
                if (n.char && 1 < n.char.length)
                    return n.char;
                if (n.which)
                    return String.fromCharCode(n.which)
            }
            return null;
        case "compositionend":
            return rp && n.locale !== "ko" ? null : n.data;
        default:
            return null
        }
    }
    var Ob = {
        color: !0,
        date: !0,
        datetime: !0,
        "datetime-local": !0,
        email: !0,
        month: !0,
        number: !0,
        password: !0,
        range: !0,
        search: !0,
        tel: !0,
        text: !0,
        time: !0,
        url: !0,
        week: !0
    };
    function dp(t) {
        var n = t && t.nodeName && t.nodeName.toLowerCase();
        return n === "input" ? !!Ob[t.type] : n === "textarea"
    }
    function fp(t, n, a, l) {
        Es ? bs ? bs.push(l) : bs = [l] : Es = l,
        n = lo(n, "onChange"),
        0 < n.length && (a = new El("onChange","change",null,a,l),
        t.push({
            event: a,
            listeners: n
        }))
    }
    var Ia = null
      , Da = null;
    function Ib(t) {
        Fg(t, 0)
    }
    function Sl(t) {
        var n = wa(t);
        if (Kh(n))
            return t
    }
    function hp(t, n) {
        if (t === "change")
            return n
    }
    var pp = !1;
    if (bn) {
        var Vc;
        if (bn) {
            var Gc = "oninput"in document;
            if (!Gc) {
                var mp = document.createElement("div");
                mp.setAttribute("oninput", "return;"),
                Gc = typeof mp.oninput == "function"
            }
            Vc = Gc
        } else
            Vc = !1;
        pp = Vc && (!document.documentMode || 9 < document.documentMode)
    }
    function gp() {
        Ia && (Ia.detachEvent("onpropertychange", _p),
        Da = Ia = null)
    }
    function _p(t) {
        if (t.propertyName === "value" && Sl(Da)) {
            var n = [];
            fp(n, Da, t, kc(t)),
            ep(Ib, n)
        }
    }
    function Db(t, n, a) {
        t === "focusin" ? (gp(),
        Ia = n,
        Da = a,
        Ia.attachEvent("onpropertychange", _p)) : t === "focusout" && gp()
    }
    function Mb(t) {
        if (t === "selectionchange" || t === "keyup" || t === "keydown")
            return Sl(Da)
    }
    function kb(t, n) {
        if (t === "click")
            return Sl(n)
    }
    function Lb(t, n) {
        if (t === "input" || t === "change")
            return Sl(n)
    }
    function jb(t, n) {
        return t === n && (t !== 0 || 1 / t === 1 / n) || t !== t && n !== n
    }
    var Dt = typeof Object.is == "function" ? Object.is : jb;
    function Ma(t, n) {
        if (Dt(t, n))
            return !0;
        if (typeof t != "object" || t === null || typeof n != "object" || n === null)
            return !1;
        var a = Object.keys(t)
          , l = Object.keys(n);
        if (a.length !== l.length)
            return !1;
        for (l = 0; l < a.length; l++) {
            var u = a[l];
            if (!Zt.call(n, u) || !Dt(t[u], n[u]))
                return !1
        }
        return !0
    }
    function vp(t) {
        for (; t && t.firstChild; )
            t = t.firstChild;
        return t
    }
    function yp(t, n) {
        var a = vp(t);
        t = 0;
        for (var l; a; ) {
            if (a.nodeType === 3) {
                if (l = t + a.textContent.length,
                t <= n && l >= n)
                    return {
                        node: a,
                        offset: n - t
                    };
                t = l
            }
            e: {
                for (; a; ) {
                    if (a.nextSibling) {
                        a = a.nextSibling;
                        break e
                    }
                    a = a.parentNode
                }
                a = void 0
            }
            a = vp(a)
        }
    }
    function Ep(t, n) {
        return t && n ? t === n ? !0 : t && t.nodeType === 3 ? !1 : n && n.nodeType === 3 ? Ep(t, n.parentNode) : "contains"in t ? t.contains(n) : t.compareDocumentPosition ? !!(t.compareDocumentPosition(n) & 16) : !1 : !1
    }
    function bp(t) {
        t = t != null && t.ownerDocument != null && t.ownerDocument.defaultView != null ? t.ownerDocument.defaultView : window;
        for (var n = ml(t.document); n instanceof t.HTMLIFrameElement; ) {
            try {
                var a = typeof n.contentWindow.location.href == "string"
            } catch {
                a = !1
            }
            if (a)
                t = n.contentWindow;
            else
                break;
            n = ml(t.document)
        }
        return n
    }
    function Yc(t) {
        var n = t && t.nodeName && t.nodeName.toLowerCase();
        return n && (n === "input" && (t.type === "text" || t.type === "search" || t.type === "tel" || t.type === "url" || t.type === "password") || n === "textarea" || t.contentEditable === "true")
    }
    var Ub = bn && "documentMode"in document && 11 >= document.documentMode
      , Cs = null
      , Fc = null
      , ka = null
      , Kc = !1;
    function Sp(t, n, a) {
        var l = a.window === a ? a.document : a.nodeType === 9 ? a : a.ownerDocument;
        Kc || Cs == null || Cs !== ml(l) || (l = Cs,
        "selectionStart"in l && Yc(l) ? l = {
            start: l.selectionStart,
            end: l.selectionEnd
        } : (l = (l.ownerDocument && l.ownerDocument.defaultView || window).getSelection(),
        l = {
            anchorNode: l.anchorNode,
            anchorOffset: l.anchorOffset,
            focusNode: l.focusNode,
            focusOffset: l.focusOffset
        }),
        ka && Ma(ka, l) || (ka = l,
        l = lo(Fc, "onSelect"),
        0 < l.length && (n = new El("onSelect","select",null,n,a),
        t.push({
            event: n,
            listeners: l
        }),
        n.target = Cs)))
    }
    function ji(t, n) {
        var a = {};
        return a[t.toLowerCase()] = n.toLowerCase(),
        a["Webkit" + t] = "webkit" + n,
        a["Moz" + t] = "moz" + n,
        a
    }
    var Ts = {
        animationend: ji("Animation", "AnimationEnd"),
        animationiteration: ji("Animation", "AnimationIteration"),
        animationstart: ji("Animation", "AnimationStart"),
        transitionrun: ji("Transition", "TransitionRun"),
        transitionstart: ji("Transition", "TransitionStart"),
        transitioncancel: ji("Transition", "TransitionCancel"),
        transitionend: ji("Transition", "TransitionEnd")
    }
      , Qc = {}
      , Cp = {};
    bn && (Cp = document.createElement("div").style,
    "AnimationEvent"in window || (delete Ts.animationend.animation,
    delete Ts.animationiteration.animation,
    delete Ts.animationstart.animation),
    "TransitionEvent"in window || delete Ts.transitionend.transition);
    function Ui(t) {
        if (Qc[t])
            return Qc[t];
        if (!Ts[t])
            return t;
        var n = Ts[t], a;
        for (a in n)
            if (n.hasOwnProperty(a) && a in Cp)
                return Qc[t] = n[a];
        return t
    }
    var Tp = Ui("animationend")
      , wp = Ui("animationiteration")
      , Np = Ui("animationstart")
      , Pb = Ui("transitionrun")
      , zb = Ui("transitionstart")
      , Hb = Ui("transitioncancel")
      , Rp = Ui("transitionend")
      , Ap = new Map
      , Wc = "abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");
    Wc.push("scrollEnd");
    function Jt(t, n) {
        Ap.set(t, n),
        ki(n, [t])
    }
    var xp = new WeakMap;
    function qt(t, n) {
        if (typeof t == "object" && t !== null) {
            var a = xp.get(t);
            return a !== void 0 ? a : (n = {
                value: t,
                source: n,
                stack: Yh(n)
            },
            xp.set(t, n),
            n)
        }
        return {
            value: t,
            source: n,
            stack: Yh(n)
        }
    }
    var Vt = []
      , ws = 0
      , Xc = 0;
    function Cl() {
        for (var t = ws, n = Xc = ws = 0; n < t; ) {
            var a = Vt[n];
            Vt[n++] = null;
            var l = Vt[n];
            Vt[n++] = null;
            var u = Vt[n];
            Vt[n++] = null;
            var d = Vt[n];
            if (Vt[n++] = null,
            l !== null && u !== null) {
                var g = l.pending;
                g === null ? u.next = u : (u.next = g.next,
                g.next = u),
                l.pending = u
            }
            d !== 0 && Op(a, u, d)
        }
    }
    function Tl(t, n, a, l) {
        Vt[ws++] = t,
        Vt[ws++] = n,
        Vt[ws++] = a,
        Vt[ws++] = l,
        Xc |= l,
        t.lanes |= l,
        t = t.alternate,
        t !== null && (t.lanes |= l)
    }
    function $c(t, n, a, l) {
        return Tl(t, n, a, l),
        wl(t)
    }
    function Ns(t, n) {
        return Tl(t, null, null, n),
        wl(t)
    }
    function Op(t, n, a) {
        t.lanes |= a;
        var l = t.alternate;
        l !== null && (l.lanes |= a);
        for (var u = !1, d = t.return; d !== null; )
            d.childLanes |= a,
            l = d.alternate,
            l !== null && (l.childLanes |= a),
            d.tag === 22 && (t = d.stateNode,
            t === null || t._visibility & 1 || (u = !0)),
            t = d,
            d = d.return;
        return t.tag === 3 ? (d = t.stateNode,
        u && n !== null && (u = 31 - It(a),
        t = d.hiddenUpdates,
        l = t[u],
        l === null ? t[u] = [n] : l.push(n),
        n.lane = a | 536870912),
        d) : null
    }
    function wl(t) {
        if (50 < ar)
            throw ar = 0,
            id = null,
            Error(r(185));
        for (var n = t.return; n !== null; )
            t = n,
            n = t.return;
        return t.tag === 3 ? t.stateNode : null
    }
    var Rs = {};
    function Bb(t, n, a, l) {
        this.tag = t,
        this.key = a,
        this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null,
        this.index = 0,
        this.refCleanup = this.ref = null,
        this.pendingProps = n,
        this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null,
        this.mode = l,
        this.subtreeFlags = this.flags = 0,
        this.deletions = null,
        this.childLanes = this.lanes = 0,
        this.alternate = null
    }
    function Mt(t, n, a, l) {
        return new Bb(t,n,a,l)
    }
    function Zc(t) {
        return t = t.prototype,
        !(!t || !t.isReactComponent)
    }
    function Sn(t, n) {
        var a = t.alternate;
        return a === null ? (a = Mt(t.tag, n, t.key, t.mode),
        a.elementType = t.elementType,
        a.type = t.type,
        a.stateNode = t.stateNode,
        a.alternate = t,
        t.alternate = a) : (a.pendingProps = n,
        a.type = t.type,
        a.flags = 0,
        a.subtreeFlags = 0,
        a.deletions = null),
        a.flags = t.flags & 65011712,
        a.childLanes = t.childLanes,
        a.lanes = t.lanes,
        a.child = t.child,
        a.memoizedProps = t.memoizedProps,
        a.memoizedState = t.memoizedState,
        a.updateQueue = t.updateQueue,
        n = t.dependencies,
        a.dependencies = n === null ? null : {
            lanes: n.lanes,
            firstContext: n.firstContext
        },
        a.sibling = t.sibling,
        a.index = t.index,
        a.ref = t.ref,
        a.refCleanup = t.refCleanup,
        a
    }
    function Ip(t, n) {
        t.flags &= 65011714;
        var a = t.alternate;
        return a === null ? (t.childLanes = 0,
        t.lanes = n,
        t.child = null,
        t.subtreeFlags = 0,
        t.memoizedProps = null,
        t.memoizedState = null,
        t.updateQueue = null,
        t.dependencies = null,
        t.stateNode = null) : (t.childLanes = a.childLanes,
        t.lanes = a.lanes,
        t.child = a.child,
        t.subtreeFlags = 0,
        t.deletions = null,
        t.memoizedProps = a.memoizedProps,
        t.memoizedState = a.memoizedState,
        t.updateQueue = a.updateQueue,
        t.type = a.type,
        n = a.dependencies,
        t.dependencies = n === null ? null : {
            lanes: n.lanes,
            firstContext: n.firstContext
        }),
        t
    }
    function Nl(t, n, a, l, u, d) {
        var g = 0;
        if (l = t,
        typeof t == "function")
            Zc(t) && (g = 1);
        else if (typeof t == "string")
            g = VS(t, a, $.current) ? 26 : t === "html" || t === "head" || t === "body" ? 27 : 5;
        else
            e: switch (t) {
            case ve:
                return t = Mt(31, a, n, u),
                t.elementType = ve,
                t.lanes = d,
                t;
            case T:
                return Pi(a.children, u, d, n);
            case k:
                g = 8,
                u |= 24;
                break;
            case z:
                return t = Mt(12, a, n, u | 2),
                t.elementType = z,
                t.lanes = d,
                t;
            case G:
                return t = Mt(13, a, n, u),
                t.elementType = G,
                t.lanes = d,
                t;
            case re:
                return t = Mt(19, a, n, u),
                t.elementType = re,
                t.lanes = d,
                t;
            default:
                if (typeof t == "object" && t !== null)
                    switch (t.$$typeof) {
                    case H:
                    case F:
                        g = 10;
                        break e;
                    case B:
                        g = 9;
                        break e;
                    case Q:
                        g = 11;
                        break e;
                    case ye:
                        g = 14;
                        break e;
                    case Te:
                        g = 16,
                        l = null;
                        break e
                    }
                g = 29,
                a = Error(r(130, t === null ? "null" : typeof t, "")),
                l = null
            }
        return n = Mt(g, a, n, u),
        n.elementType = t,
        n.type = l,
        n.lanes = d,
        n
    }
    function Pi(t, n, a, l) {
        return t = Mt(7, t, l, n),
        t.lanes = a,
        t
    }
    function Jc(t, n, a) {
        return t = Mt(6, t, null, n),
        t.lanes = a,
        t
    }
    function eu(t, n, a) {
        return n = Mt(4, t.children !== null ? t.children : [], t.key, n),
        n.lanes = a,
        n.stateNode = {
            containerInfo: t.containerInfo,
            pendingChildren: null,
            implementation: t.implementation
        },
        n
    }
    var As = []
      , xs = 0
      , Rl = null
      , Al = 0
      , Gt = []
      , Yt = 0
      , zi = null
      , Cn = 1
      , Tn = "";
    function Hi(t, n) {
        As[xs++] = Al,
        As[xs++] = Rl,
        Rl = t,
        Al = n
    }
    function Dp(t, n, a) {
        Gt[Yt++] = Cn,
        Gt[Yt++] = Tn,
        Gt[Yt++] = zi,
        zi = t;
        var l = Cn;
        t = Tn;
        var u = 32 - It(l) - 1;
        l &= ~(1 << u),
        a += 1;
        var d = 32 - It(n) + u;
        if (30 < d) {
            var g = u - u % 5;
            d = (l & (1 << g) - 1).toString(32),
            l >>= g,
            u -= g,
            Cn = 1 << 32 - It(n) + u | a << u | l,
            Tn = d + t
        } else
            Cn = 1 << d | a << u | l,
            Tn = t
    }
    function tu(t) {
        t.return !== null && (Hi(t, 1),
        Dp(t, 1, 0))
    }
    function nu(t) {
        for (; t === Rl; )
            Rl = As[--xs],
            As[xs] = null,
            Al = As[--xs],
            As[xs] = null;
        for (; t === zi; )
            zi = Gt[--Yt],
            Gt[Yt] = null,
            Tn = Gt[--Yt],
            Gt[Yt] = null,
            Cn = Gt[--Yt],
            Gt[Yt] = null
    }
    var _t = null
      , qe = null
      , Ce = !1
      , Bi = null
      , fn = !1
      , iu = Error(r(519));
    function qi(t) {
        var n = Error(r(418, ""));
        throw Ua(qt(n, t)),
        iu
    }
    function Mp(t) {
        var n = t.stateNode
          , a = t.type
          , l = t.memoizedProps;
        switch (n[ft] = t,
        n[bt] = l,
        a) {
        case "dialog":
            pe("cancel", n),
            pe("close", n);
            break;
        case "iframe":
        case "object":
        case "embed":
            pe("load", n);
            break;
        case "video":
        case "audio":
            for (a = 0; a < lr.length; a++)
                pe(lr[a], n);
            break;
        case "source":
            pe("error", n);
            break;
        case "img":
        case "image":
        case "link":
            pe("error", n),
            pe("load", n);
            break;
        case "details":
            pe("toggle", n);
            break;
        case "input":
            pe("invalid", n),
            Qh(n, l.value, l.defaultValue, l.checked, l.defaultChecked, l.type, l.name, !0),
            pl(n);
            break;
        case "select":
            pe("invalid", n);
            break;
        case "textarea":
            pe("invalid", n),
            Xh(n, l.value, l.defaultValue, l.children),
            pl(n)
        }
        a = l.children,
        typeof a != "string" && typeof a != "number" && typeof a != "bigint" || n.textContent === "" + a || l.suppressHydrationWarning === !0 || Xg(n.textContent, a) ? (l.popover != null && (pe("beforetoggle", n),
        pe("toggle", n)),
        l.onScroll != null && pe("scroll", n),
        l.onScrollEnd != null && pe("scrollend", n),
        l.onClick != null && (n.onclick = oo),
        n = !0) : n = !1,
        n || qi(t)
    }
    function kp(t) {
        for (_t = t.return; _t; )
            switch (_t.tag) {
            case 5:
            case 13:
                fn = !1;
                return;
            case 27:
            case 3:
                fn = !0;
                return;
            default:
                _t = _t.return
            }
    }
    function La(t) {
        if (t !== _t)
            return !1;
        if (!Ce)
            return kp(t),
            Ce = !0,
            !1;
        var n = t.tag, a;
        if ((a = n !== 3 && n !== 27) && ((a = n === 5) && (a = t.type,
        a = !(a !== "form" && a !== "button") || yd(t.type, t.memoizedProps)),
        a = !a),
        a && qe && qi(t),
        kp(t),
        n === 13) {
            if (t = t.memoizedState,
            t = t !== null ? t.dehydrated : null,
            !t)
                throw Error(r(317));
            e: {
                for (t = t.nextSibling,
                n = 0; t; ) {
                    if (t.nodeType === 8)
                        if (a = t.data,
                        a === "/$") {
                            if (n === 0) {
                                qe = tn(t.nextSibling);
                                break e
                            }
                            n--
                        } else
                            a !== "$" && a !== "$!" && a !== "$?" || n++;
                    t = t.nextSibling
                }
                qe = null
            }
        } else
            n === 27 ? (n = qe,
            di(t.type) ? (t = Cd,
            Cd = null,
            qe = t) : qe = n) : qe = _t ? tn(t.stateNode.nextSibling) : null;
        return !0
    }
    function ja() {
        qe = _t = null,
        Ce = !1
    }
    function Lp() {
        var t = Bi;
        return t !== null && (wt === null ? wt = t : wt.push.apply(wt, t),
        Bi = null),
        t
    }
    function Ua(t) {
        Bi === null ? Bi = [t] : Bi.push(t)
    }
    var su = D(null)
      , Vi = null
      , wn = null;
    function Xn(t, n, a) {
        V(su, n._currentValue),
        n._currentValue = a
    }
    function Nn(t) {
        t._currentValue = su.current,
        q(su)
    }
    function au(t, n, a) {
        for (; t !== null; ) {
            var l = t.alternate;
            if ((t.childLanes & n) !== n ? (t.childLanes |= n,
            l !== null && (l.childLanes |= n)) : l !== null && (l.childLanes & n) !== n && (l.childLanes |= n),
            t === a)
                break;
            t = t.return
        }
    }
    function ru(t, n, a, l) {
        var u = t.child;
        for (u !== null && (u.return = t); u !== null; ) {
            var d = u.dependencies;
            if (d !== null) {
                var g = u.child;
                d = d.firstContext;
                e: for (; d !== null; ) {
                    var v = d;
                    d = u;
                    for (var S = 0; S < n.length; S++)
                        if (v.context === n[S]) {
                            d.lanes |= a,
                            v = d.alternate,
                            v !== null && (v.lanes |= a),
                            au(d.return, a, t),
                            l || (g = null);
                            break e
                        }
                    d = v.next
                }
            } else if (u.tag === 18) {
                if (g = u.return,
                g === null)
                    throw Error(r(341));
                g.lanes |= a,
                d = g.alternate,
                d !== null && (d.lanes |= a),
                au(g, a, t),
                g = null
            } else
                g = u.child;
            if (g !== null)
                g.return = u;
            else
                for (g = u; g !== null; ) {
                    if (g === t) {
                        g = null;
                        break
                    }
                    if (u = g.sibling,
                    u !== null) {
                        u.return = g.return,
                        g = u;
                        break
                    }
                    g = g.return
                }
            u = g
        }
    }
    function Pa(t, n, a, l) {
        t = null;
        for (var u = n, d = !1; u !== null; ) {
            if (!d) {
                if ((u.flags & 524288) !== 0)
                    d = !0;
                else if ((u.flags & 262144) !== 0)
                    break
            }
            if (u.tag === 10) {
                var g = u.alternate;
                if (g === null)
                    throw Error(r(387));
                if (g = g.memoizedProps,
                g !== null) {
                    var v = u.type;
                    Dt(u.pendingProps.value, g.value) || (t !== null ? t.push(v) : t = [v])
                }
            } else if (u === J.current) {
                if (g = u.alternate,
                g === null)
                    throw Error(r(387));
                g.memoizedState.memoizedState !== u.memoizedState.memoizedState && (t !== null ? t.push(hr) : t = [hr])
            }
            u = u.return
        }
        t !== null && ru(n, t, a, l),
        n.flags |= 262144
    }
    function xl(t) {
        for (t = t.firstContext; t !== null; ) {
            if (!Dt(t.context._currentValue, t.memoizedValue))
                return !0;
            t = t.next
        }
        return !1
    }
    function Gi(t) {
        Vi = t,
        wn = null,
        t = t.dependencies,
        t !== null && (t.firstContext = null)
    }
    function ht(t) {
        return jp(Vi, t)
    }
    function Ol(t, n) {
        return Vi === null && Gi(t),
        jp(t, n)
    }
    function jp(t, n) {
        var a = n._currentValue;
        if (n = {
            context: n,
            memoizedValue: a,
            next: null
        },
        wn === null) {
            if (t === null)
                throw Error(r(308));
            wn = n,
            t.dependencies = {
                lanes: 0,
                firstContext: n
            },
            t.flags |= 524288
        } else
            wn = wn.next = n;
        return a
    }
    var qb = typeof AbortController < "u" ? AbortController : function() {
        var t = []
          , n = this.signal = {
            aborted: !1,
            addEventListener: function(a, l) {
                t.push(l)
            }
        };
        this.abort = function() {
            n.aborted = !0,
            t.forEach(function(a) {
                return a()
            })
        }
    }
      , Vb = s.unstable_scheduleCallback
      , Gb = s.unstable_NormalPriority
      , Xe = {
        $$typeof: F,
        Consumer: null,
        Provider: null,
        _currentValue: null,
        _currentValue2: null,
        _threadCount: 0
    };
    function lu() {
        return {
            controller: new qb,
            data: new Map,
            refCount: 0
        }
    }
    function za(t) {
        t.refCount--,
        t.refCount === 0 && Vb(Gb, function() {
            t.controller.abort()
        })
    }
    var Ha = null
      , ou = 0
      , Os = 0
      , Is = null;
    function Yb(t, n) {
        if (Ha === null) {
            var a = Ha = [];
            ou = 0,
            Os = ud(),
            Is = {
                status: "pending",
                value: void 0,
                then: function(l) {
                    a.push(l)
                }
            }
        }
        return ou++,
        n.then(Up, Up),
        n
    }
    function Up() {
        if (--ou === 0 && Ha !== null) {
            Is !== null && (Is.status = "fulfilled");
            var t = Ha;
            Ha = null,
            Os = 0,
            Is = null;
            for (var n = 0; n < t.length; n++)
                (0,
                t[n])()
        }
    }
    function Fb(t, n) {
        var a = []
          , l = {
            status: "pending",
            value: null,
            reason: null,
            then: function(u) {
                a.push(u)
            }
        };
        return t.then(function() {
            l.status = "fulfilled",
            l.value = n;
            for (var u = 0; u < a.length; u++)
                (0,
                a[u])(n)
        }, function(u) {
            for (l.status = "rejected",
            l.reason = u,
            u = 0; u < a.length; u++)
                (0,
                a[u])(void 0)
        }),
        l
    }
    var Pp = L.S;
    L.S = function(t, n) {
        typeof n == "object" && n !== null && typeof n.then == "function" && Yb(t, n),
        Pp !== null && Pp(t, n)
    }
    ;
    var Yi = D(null);
    function cu() {
        var t = Yi.current;
        return t !== null ? t : ke.pooledCache
    }
    function Il(t, n) {
        n === null ? V(Yi, Yi.current) : V(Yi, n.pool)
    }
    function zp() {
        var t = cu();
        return t === null ? null : {
            parent: Xe._currentValue,
            pool: t
        }
    }
    var Ba = Error(r(460))
      , Hp = Error(r(474))
      , Dl = Error(r(542))
      , uu = {
        then: function() {}
    };
    function Bp(t) {
        return t = t.status,
        t === "fulfilled" || t === "rejected"
    }
    function Ml() {}
    function qp(t, n, a) {
        switch (a = t[a],
        a === void 0 ? t.push(n) : a !== n && (n.then(Ml, Ml),
        n = a),
        n.status) {
        case "fulfilled":
            return n.value;
        case "rejected":
            throw t = n.reason,
            Gp(t),
            t;
        default:
            if (typeof n.status == "string")
                n.then(Ml, Ml);
            else {
                if (t = ke,
                t !== null && 100 < t.shellSuspendCounter)
                    throw Error(r(482));
                t = n,
                t.status = "pending",
                t.then(function(l) {
                    if (n.status === "pending") {
                        var u = n;
                        u.status = "fulfilled",
                        u.value = l
                    }
                }, function(l) {
                    if (n.status === "pending") {
                        var u = n;
                        u.status = "rejected",
                        u.reason = l
                    }
                })
            }
            switch (n.status) {
            case "fulfilled":
                return n.value;
            case "rejected":
                throw t = n.reason,
                Gp(t),
                t
            }
            throw qa = n,
            Ba
        }
    }
    var qa = null;
    function Vp() {
        if (qa === null)
            throw Error(r(459));
        var t = qa;
        return qa = null,
        t
    }
    function Gp(t) {
        if (t === Ba || t === Dl)
            throw Error(r(483))
    }
    var $n = !1;
    function du(t) {
        t.updateQueue = {
            baseState: t.memoizedState,
            firstBaseUpdate: null,
            lastBaseUpdate: null,
            shared: {
                pending: null,
                lanes: 0,
                hiddenCallbacks: null
            },
            callbacks: null
        }
    }
    function fu(t, n) {
        t = t.updateQueue,
        n.updateQueue === t && (n.updateQueue = {
            baseState: t.baseState,
            firstBaseUpdate: t.firstBaseUpdate,
            lastBaseUpdate: t.lastBaseUpdate,
            shared: t.shared,
            callbacks: null
        })
    }
    function Zn(t) {
        return {
            lane: t,
            tag: 0,
            payload: null,
            callback: null,
            next: null
        }
    }
    function Jn(t, n, a) {
        var l = t.updateQueue;
        if (l === null)
            return null;
        if (l = l.shared,
        (we & 2) !== 0) {
            var u = l.pending;
            return u === null ? n.next = n : (n.next = u.next,
            u.next = n),
            l.pending = n,
            n = wl(t),
            Op(t, null, a),
            n
        }
        return Tl(t, l, n, a),
        wl(t)
    }
    function Va(t, n, a) {
        if (n = n.updateQueue,
        n !== null && (n = n.shared,
        (a & 4194048) !== 0)) {
            var l = n.lanes;
            l &= t.pendingLanes,
            a |= l,
            n.lanes = a,
            Uh(t, a)
        }
    }
    function hu(t, n) {
        var a = t.updateQueue
          , l = t.alternate;
        if (l !== null && (l = l.updateQueue,
        a === l)) {
            var u = null
              , d = null;
            if (a = a.firstBaseUpdate,
            a !== null) {
                do {
                    var g = {
                        lane: a.lane,
                        tag: a.tag,
                        payload: a.payload,
                        callback: null,
                        next: null
                    };
                    d === null ? u = d = g : d = d.next = g,
                    a = a.next
                } while (a !== null);
                d === null ? u = d = n : d = d.next = n
            } else
                u = d = n;
            a = {
                baseState: l.baseState,
                firstBaseUpdate: u,
                lastBaseUpdate: d,
                shared: l.shared,
                callbacks: l.callbacks
            },
            t.updateQueue = a;
            return
        }
        t = a.lastBaseUpdate,
        t === null ? a.firstBaseUpdate = n : t.next = n,
        a.lastBaseUpdate = n
    }
    var pu = !1;
    function Ga() {
        if (pu) {
            var t = Is;
            if (t !== null)
                throw t
        }
    }
    function Ya(t, n, a, l) {
        pu = !1;
        var u = t.updateQueue;
        $n = !1;
        var d = u.firstBaseUpdate
          , g = u.lastBaseUpdate
          , v = u.shared.pending;
        if (v !== null) {
            u.shared.pending = null;
            var S = v
              , O = S.next;
            S.next = null,
            g === null ? d = O : g.next = O,
            g = S;
            var j = t.alternate;
            j !== null && (j = j.updateQueue,
            v = j.lastBaseUpdate,
            v !== g && (v === null ? j.firstBaseUpdate = O : v.next = O,
            j.lastBaseUpdate = S))
        }
        if (d !== null) {
            var P = u.baseState;
            g = 0,
            j = O = S = null,
            v = d;
            do {
                var I = v.lane & -536870913
                  , M = I !== v.lane;
                if (M ? (Ee & I) === I : (l & I) === I) {
                    I !== 0 && I === Os && (pu = !0),
                    j !== null && (j = j.next = {
                        lane: 0,
                        tag: v.tag,
                        payload: v.payload,
                        callback: null,
                        next: null
                    });
                    e: {
                        var ae = t
                          , ee = v;
                        I = n;
                        var xe = a;
                        switch (ee.tag) {
                        case 1:
                            if (ae = ee.payload,
                            typeof ae == "function") {
                                P = ae.call(xe, P, I);
                                break e
                            }
                            P = ae;
                            break e;
                        case 3:
                            ae.flags = ae.flags & -65537 | 128;
                        case 0:
                            if (ae = ee.payload,
                            I = typeof ae == "function" ? ae.call(xe, P, I) : ae,
                            I == null)
                                break e;
                            P = E({}, P, I);
                            break e;
                        case 2:
                            $n = !0
                        }
                    }
                    I = v.callback,
                    I !== null && (t.flags |= 64,
                    M && (t.flags |= 8192),
                    M = u.callbacks,
                    M === null ? u.callbacks = [I] : M.push(I))
                } else
                    M = {
                        lane: I,
                        tag: v.tag,
                        payload: v.payload,
                        callback: v.callback,
                        next: null
                    },
                    j === null ? (O = j = M,
                    S = P) : j = j.next = M,
                    g |= I;
                if (v = v.next,
                v === null) {
                    if (v = u.shared.pending,
                    v === null)
                        break;
                    M = v,
                    v = M.next,
                    M.next = null,
                    u.lastBaseUpdate = M,
                    u.shared.pending = null
                }
            } while (!0);
            j === null && (S = P),
            u.baseState = S,
            u.firstBaseUpdate = O,
            u.lastBaseUpdate = j,
            d === null && (u.shared.lanes = 0),
            li |= g,
            t.lanes = g,
            t.memoizedState = P
        }
    }
    function Yp(t, n) {
        if (typeof t != "function")
            throw Error(r(191, t));
        t.call(n)
    }
    function Fp(t, n) {
        var a = t.callbacks;
        if (a !== null)
            for (t.callbacks = null,
            t = 0; t < a.length; t++)
                Yp(a[t], n)
    }
    var Ds = D(null)
      , kl = D(0);
    function Kp(t, n) {
        t = Mn,
        V(kl, t),
        V(Ds, n),
        Mn = t | n.baseLanes
    }
    function mu() {
        V(kl, Mn),
        V(Ds, Ds.current)
    }
    function gu() {
        Mn = kl.current,
        q(Ds),
        q(kl)
    }
    var ei = 0
      , ue = null
      , Re = null
      , Qe = null
      , Ll = !1
      , Ms = !1
      , Fi = !1
      , jl = 0
      , Fa = 0
      , ks = null
      , Kb = 0;
    function Fe() {
        throw Error(r(321))
    }
    function _u(t, n) {
        if (n === null)
            return !1;
        for (var a = 0; a < n.length && a < t.length; a++)
            if (!Dt(t[a], n[a]))
                return !1;
        return !0
    }
    function vu(t, n, a, l, u, d) {
        return ei = d,
        ue = n,
        n.memoizedState = null,
        n.updateQueue = null,
        n.lanes = 0,
        L.H = t === null || t.memoizedState === null ? Om : Im,
        Fi = !1,
        d = a(l, u),
        Fi = !1,
        Ms && (d = Wp(n, a, l, u)),
        Qp(t),
        d
    }
    function Qp(t) {
        L.H = ql;
        var n = Re !== null && Re.next !== null;
        if (ei = 0,
        Qe = Re = ue = null,
        Ll = !1,
        Fa = 0,
        ks = null,
        n)
            throw Error(r(300));
        t === null || nt || (t = t.dependencies,
        t !== null && xl(t) && (nt = !0))
    }
    function Wp(t, n, a, l) {
        ue = t;
        var u = 0;
        do {
            if (Ms && (ks = null),
            Fa = 0,
            Ms = !1,
            25 <= u)
                throw Error(r(301));
            if (u += 1,
            Qe = Re = null,
            t.updateQueue != null) {
                var d = t.updateQueue;
                d.lastEffect = null,
                d.events = null,
                d.stores = null,
                d.memoCache != null && (d.memoCache.index = 0)
            }
            L.H = eS,
            d = n(a, l)
        } while (Ms);
        return d
    }
    function Qb() {
        var t = L.H
          , n = t.useState()[0];
        return n = typeof n.then == "function" ? Ka(n) : n,
        t = t.useState()[0],
        (Re !== null ? Re.memoizedState : null) !== t && (ue.flags |= 1024),
        n
    }
    function yu() {
        var t = jl !== 0;
        return jl = 0,
        t
    }
    function Eu(t, n, a) {
        n.updateQueue = t.updateQueue,
        n.flags &= -2053,
        t.lanes &= ~a
    }
    function bu(t) {
        if (Ll) {
            for (t = t.memoizedState; t !== null; ) {
                var n = t.queue;
                n !== null && (n.pending = null),
                t = t.next
            }
            Ll = !1
        }
        ei = 0,
        Qe = Re = ue = null,
        Ms = !1,
        Fa = jl = 0,
        ks = null
    }
    function Ct() {
        var t = {
            memoizedState: null,
            baseState: null,
            baseQueue: null,
            queue: null,
            next: null
        };
        return Qe === null ? ue.memoizedState = Qe = t : Qe = Qe.next = t,
        Qe
    }
    function We() {
        if (Re === null) {
            var t = ue.alternate;
            t = t !== null ? t.memoizedState : null
        } else
            t = Re.next;
        var n = Qe === null ? ue.memoizedState : Qe.next;
        if (n !== null)
            Qe = n,
            Re = t;
        else {
            if (t === null)
                throw ue.alternate === null ? Error(r(467)) : Error(r(310));
            Re = t,
            t = {
                memoizedState: Re.memoizedState,
                baseState: Re.baseState,
                baseQueue: Re.baseQueue,
                queue: Re.queue,
                next: null
            },
            Qe === null ? ue.memoizedState = Qe = t : Qe = Qe.next = t
        }
        return Qe
    }
    function Su() {
        return {
            lastEffect: null,
            events: null,
            stores: null,
            memoCache: null
        }
    }
    function Ka(t) {
        var n = Fa;
        return Fa += 1,
        ks === null && (ks = []),
        t = qp(ks, t, n),
        n = ue,
        (Qe === null ? n.memoizedState : Qe.next) === null && (n = n.alternate,
        L.H = n === null || n.memoizedState === null ? Om : Im),
        t
    }
    function Ul(t) {
        if (t !== null && typeof t == "object") {
            if (typeof t.then == "function")
                return Ka(t);
            if (t.$$typeof === F)
                return ht(t)
        }
        throw Error(r(438, String(t)))
    }
    function Cu(t) {
        var n = null
          , a = ue.updateQueue;
        if (a !== null && (n = a.memoCache),
        n == null) {
            var l = ue.alternate;
            l !== null && (l = l.updateQueue,
            l !== null && (l = l.memoCache,
            l != null && (n = {
                data: l.data.map(function(u) {
                    return u.slice()
                }),
                index: 0
            })))
        }
        if (n == null && (n = {
            data: [],
            index: 0
        }),
        a === null && (a = Su(),
        ue.updateQueue = a),
        a.memoCache = n,
        a = n.data[n.index],
        a === void 0)
            for (a = n.data[n.index] = Array(t),
            l = 0; l < t; l++)
                a[l] = Ie;
        return n.index++,
        a
    }
    function Rn(t, n) {
        return typeof n == "function" ? n(t) : n
    }
    function Pl(t) {
        var n = We();
        return Tu(n, Re, t)
    }
    function Tu(t, n, a) {
        var l = t.queue;
        if (l === null)
            throw Error(r(311));
        l.lastRenderedReducer = a;
        var u = t.baseQueue
          , d = l.pending;
        if (d !== null) {
            if (u !== null) {
                var g = u.next;
                u.next = d.next,
                d.next = g
            }
            n.baseQueue = u = d,
            l.pending = null
        }
        if (d = t.baseState,
        u === null)
            t.memoizedState = d;
        else {
            n = u.next;
            var v = g = null
              , S = null
              , O = n
              , j = !1;
            do {
                var P = O.lane & -536870913;
                if (P !== O.lane ? (Ee & P) === P : (ei & P) === P) {
                    var I = O.revertLane;
                    if (I === 0)
                        S !== null && (S = S.next = {
                            lane: 0,
                            revertLane: 0,
                            action: O.action,
                            hasEagerState: O.hasEagerState,
                            eagerState: O.eagerState,
                            next: null
                        }),
                        P === Os && (j = !0);
                    else if ((ei & I) === I) {
                        O = O.next,
                        I === Os && (j = !0);
                        continue
                    } else
                        P = {
                            lane: 0,
                            revertLane: O.revertLane,
                            action: O.action,
                            hasEagerState: O.hasEagerState,
                            eagerState: O.eagerState,
                            next: null
                        },
                        S === null ? (v = S = P,
                        g = d) : S = S.next = P,
                        ue.lanes |= I,
                        li |= I;
                    P = O.action,
                    Fi && a(d, P),
                    d = O.hasEagerState ? O.eagerState : a(d, P)
                } else
                    I = {
                        lane: P,
                        revertLane: O.revertLane,
                        action: O.action,
                        hasEagerState: O.hasEagerState,
                        eagerState: O.eagerState,
                        next: null
                    },
                    S === null ? (v = S = I,
                    g = d) : S = S.next = I,
                    ue.lanes |= P,
                    li |= P;
                O = O.next
            } while (O !== null && O !== n);
            if (S === null ? g = d : S.next = v,
            !Dt(d, t.memoizedState) && (nt = !0,
            j && (a = Is,
            a !== null)))
                throw a;
            t.memoizedState = d,
            t.baseState = g,
            t.baseQueue = S,
            l.lastRenderedState = d
        }
        return u === null && (l.lanes = 0),
        [t.memoizedState, l.dispatch]
    }
    function wu(t) {
        var n = We()
          , a = n.queue;
        if (a === null)
            throw Error(r(311));
        a.lastRenderedReducer = t;
        var l = a.dispatch
          , u = a.pending
          , d = n.memoizedState;
        if (u !== null) {
            a.pending = null;
            var g = u = u.next;
            do
                d = t(d, g.action),
                g = g.next;
            while (g !== u);
            Dt(d, n.memoizedState) || (nt = !0),
            n.memoizedState = d,
            n.baseQueue === null && (n.baseState = d),
            a.lastRenderedState = d
        }
        return [d, l]
    }
    function Xp(t, n, a) {
        var l = ue
          , u = We()
          , d = Ce;
        if (d) {
            if (a === void 0)
                throw Error(r(407));
            a = a()
        } else
            a = n();
        var g = !Dt((Re || u).memoizedState, a);
        g && (u.memoizedState = a,
        nt = !0),
        u = u.queue;
        var v = Jp.bind(null, l, u, t);
        if (Qa(2048, 8, v, [t]),
        u.getSnapshot !== n || g || Qe !== null && Qe.memoizedState.tag & 1) {
            if (l.flags |= 2048,
            Ls(9, zl(), Zp.bind(null, l, u, a, n), null),
            ke === null)
                throw Error(r(349));
            d || (ei & 124) !== 0 || $p(l, n, a)
        }
        return a
    }
    function $p(t, n, a) {
        t.flags |= 16384,
        t = {
            getSnapshot: n,
            value: a
        },
        n = ue.updateQueue,
        n === null ? (n = Su(),
        ue.updateQueue = n,
        n.stores = [t]) : (a = n.stores,
        a === null ? n.stores = [t] : a.push(t))
    }
    function Zp(t, n, a, l) {
        n.value = a,
        n.getSnapshot = l,
        em(n) && tm(t)
    }
    function Jp(t, n, a) {
        return a(function() {
            em(n) && tm(t)
        })
    }
    function em(t) {
        var n = t.getSnapshot;
        t = t.value;
        try {
            var a = n();
            return !Dt(t, a)
        } catch {
            return !0
        }
    }
    function tm(t) {
        var n = Ns(t, 2);
        n !== null && Pt(n, t, 2)
    }
    function Nu(t) {
        var n = Ct();
        if (typeof t == "function") {
            var a = t;
            if (t = a(),
            Fi) {
                Kn(!0);
                try {
                    a()
                } finally {
                    Kn(!1)
                }
            }
        }
        return n.memoizedState = n.baseState = t,
        n.queue = {
            pending: null,
            lanes: 0,
            dispatch: null,
            lastRenderedReducer: Rn,
            lastRenderedState: t
        },
        n
    }
    function nm(t, n, a, l) {
        return t.baseState = a,
        Tu(t, Re, typeof l == "function" ? l : Rn)
    }
    function Wb(t, n, a, l, u) {
        if (Bl(t))
            throw Error(r(485));
        if (t = n.action,
        t !== null) {
            var d = {
                payload: u,
                action: t,
                next: null,
                isTransition: !0,
                status: "pending",
                value: null,
                reason: null,
                listeners: [],
                then: function(g) {
                    d.listeners.push(g)
                }
            };
            L.T !== null ? a(!0) : d.isTransition = !1,
            l(d),
            a = n.pending,
            a === null ? (d.next = n.pending = d,
            im(n, d)) : (d.next = a.next,
            n.pending = a.next = d)
        }
    }
    function im(t, n) {
        var a = n.action
          , l = n.payload
          , u = t.state;
        if (n.isTransition) {
            var d = L.T
              , g = {};
            L.T = g;
            try {
                var v = a(u, l)
                  , S = L.S;
                S !== null && S(g, v),
                sm(t, n, v)
            } catch (O) {
                Ru(t, n, O)
            } finally {
                L.T = d
            }
        } else
            try {
                d = a(u, l),
                sm(t, n, d)
            } catch (O) {
                Ru(t, n, O)
            }
    }
    function sm(t, n, a) {
        a !== null && typeof a == "object" && typeof a.then == "function" ? a.then(function(l) {
            am(t, n, l)
        }, function(l) {
            return Ru(t, n, l)
        }) : am(t, n, a)
    }
    function am(t, n, a) {
        n.status = "fulfilled",
        n.value = a,
        rm(n),
        t.state = a,
        n = t.pending,
        n !== null && (a = n.next,
        a === n ? t.pending = null : (a = a.next,
        n.next = a,
        im(t, a)))
    }
    function Ru(t, n, a) {
        var l = t.pending;
        if (t.pending = null,
        l !== null) {
            l = l.next;
            do
                n.status = "rejected",
                n.reason = a,
                rm(n),
                n = n.next;
            while (n !== l)
        }
        t.action = null
    }
    function rm(t) {
        t = t.listeners;
        for (var n = 0; n < t.length; n++)
            (0,
            t[n])()
    }
    function lm(t, n) {
        return n
    }
    function om(t, n) {
        if (Ce) {
            var a = ke.formState;
            if (a !== null) {
                e: {
                    var l = ue;
                    if (Ce) {
                        if (qe) {
                            t: {
                                for (var u = qe, d = fn; u.nodeType !== 8; ) {
                                    if (!d) {
                                        u = null;
                                        break t
                                    }
                                    if (u = tn(u.nextSibling),
                                    u === null) {
                                        u = null;
                                        break t
                                    }
                                }
                                d = u.data,
                                u = d === "F!" || d === "F" ? u : null
                            }
                            if (u) {
                                qe = tn(u.nextSibling),
                                l = u.data === "F!";
                                break e
                            }
                        }
                        qi(l)
                    }
                    l = !1
                }
                l && (n = a[0])
            }
        }
        return a = Ct(),
        a.memoizedState = a.baseState = n,
        l = {
            pending: null,
            lanes: 0,
            dispatch: null,
            lastRenderedReducer: lm,
            lastRenderedState: n
        },
        a.queue = l,
        a = Rm.bind(null, ue, l),
        l.dispatch = a,
        l = Nu(!1),
        d = Du.bind(null, ue, !1, l.queue),
        l = Ct(),
        u = {
            state: n,
            dispatch: null,
            action: t,
            pending: null
        },
        l.queue = u,
        a = Wb.bind(null, ue, u, d, a),
        u.dispatch = a,
        l.memoizedState = t,
        [n, a, !1]
    }
    function cm(t) {
        var n = We();
        return um(n, Re, t)
    }
    function um(t, n, a) {
        if (n = Tu(t, n, lm)[0],
        t = Pl(Rn)[0],
        typeof n == "object" && n !== null && typeof n.then == "function")
            try {
                var l = Ka(n)
            } catch (g) {
                throw g === Ba ? Dl : g
            }
        else
            l = n;
        n = We();
        var u = n.queue
          , d = u.dispatch;
        return a !== n.memoizedState && (ue.flags |= 2048,
        Ls(9, zl(), Xb.bind(null, u, a), null)),
        [l, d, t]
    }
    function Xb(t, n) {
        t.action = n
    }
    function dm(t) {
        var n = We()
          , a = Re;
        if (a !== null)
            return um(n, a, t);
        We(),
        n = n.memoizedState,
        a = We();
        var l = a.queue.dispatch;
        return a.memoizedState = t,
        [n, l, !1]
    }
    function Ls(t, n, a, l) {
        return t = {
            tag: t,
            create: a,
            deps: l,
            inst: n,
            next: null
        },
        n = ue.updateQueue,
        n === null && (n = Su(),
        ue.updateQueue = n),
        a = n.lastEffect,
        a === null ? n.lastEffect = t.next = t : (l = a.next,
        a.next = t,
        t.next = l,
        n.lastEffect = t),
        t
    }
    function zl() {
        return {
            destroy: void 0,
            resource: void 0
        }
    }
    function fm() {
        return We().memoizedState
    }
    function Hl(t, n, a, l) {
        var u = Ct();
        l = l === void 0 ? null : l,
        ue.flags |= t,
        u.memoizedState = Ls(1 | n, zl(), a, l)
    }
    function Qa(t, n, a, l) {
        var u = We();
        l = l === void 0 ? null : l;
        var d = u.memoizedState.inst;
        Re !== null && l !== null && _u(l, Re.memoizedState.deps) ? u.memoizedState = Ls(n, d, a, l) : (ue.flags |= t,
        u.memoizedState = Ls(1 | n, d, a, l))
    }
    function hm(t, n) {
        Hl(8390656, 8, t, n)
    }
    function pm(t, n) {
        Qa(2048, 8, t, n)
    }
    function mm(t, n) {
        return Qa(4, 2, t, n)
    }
    function gm(t, n) {
        return Qa(4, 4, t, n)
    }
    function _m(t, n) {
        if (typeof n == "function") {
            t = t();
            var a = n(t);
            return function() {
                typeof a == "function" ? a() : n(null)
            }
        }
        if (n != null)
            return t = t(),
            n.current = t,
            function() {
                n.current = null
            }
    }
    function vm(t, n, a) {
        a = a != null ? a.concat([t]) : null,
        Qa(4, 4, _m.bind(null, n, t), a)
    }
    function Au() {}
    function ym(t, n) {
        var a = We();
        n = n === void 0 ? null : n;
        var l = a.memoizedState;
        return n !== null && _u(n, l[1]) ? l[0] : (a.memoizedState = [t, n],
        t)
    }
    function Em(t, n) {
        var a = We();
        n = n === void 0 ? null : n;
        var l = a.memoizedState;
        if (n !== null && _u(n, l[1]))
            return l[0];
        if (l = t(),
        Fi) {
            Kn(!0);
            try {
                t()
            } finally {
                Kn(!1)
            }
        }
        return a.memoizedState = [l, n],
        l
    }
    function xu(t, n, a) {
        return a === void 0 || (ei & 1073741824) !== 0 ? t.memoizedState = n : (t.memoizedState = a,
        t = Cg(),
        ue.lanes |= t,
        li |= t,
        a)
    }
    function bm(t, n, a, l) {
        return Dt(a, n) ? a : Ds.current !== null ? (t = xu(t, a, l),
        Dt(t, n) || (nt = !0),
        t) : (ei & 42) === 0 ? (nt = !0,
        t.memoizedState = a) : (t = Cg(),
        ue.lanes |= t,
        li |= t,
        n)
    }
    function Sm(t, n, a, l, u) {
        var d = K.p;
        K.p = d !== 0 && 8 > d ? d : 8;
        var g = L.T
          , v = {};
        L.T = v,
        Du(t, !1, n, a);
        try {
            var S = u()
              , O = L.S;
            if (O !== null && O(v, S),
            S !== null && typeof S == "object" && typeof S.then == "function") {
                var j = Fb(S, l);
                Wa(t, n, j, Ut(t))
            } else
                Wa(t, n, l, Ut(t))
        } catch (P) {
            Wa(t, n, {
                then: function() {},
                status: "rejected",
                reason: P
            }, Ut())
        } finally {
            K.p = d,
            L.T = g
        }
    }
    function $b() {}
    function Ou(t, n, a, l) {
        if (t.tag !== 5)
            throw Error(r(476));
        var u = Cm(t).queue;
        Sm(t, u, n, X, a === null ? $b : function() {
            return Tm(t),
            a(l)
        }
        )
    }
    function Cm(t) {
        var n = t.memoizedState;
        if (n !== null)
            return n;
        n = {
            memoizedState: X,
            baseState: X,
            baseQueue: null,
            queue: {
                pending: null,
                lanes: 0,
                dispatch: null,
                lastRenderedReducer: Rn,
                lastRenderedState: X
            },
            next: null
        };
        var a = {};
        return n.next = {
            memoizedState: a,
            baseState: a,
            baseQueue: null,
            queue: {
                pending: null,
                lanes: 0,
                dispatch: null,
                lastRenderedReducer: Rn,
                lastRenderedState: a
            },
            next: null
        },
        t.memoizedState = n,
        t = t.alternate,
        t !== null && (t.memoizedState = n),
        n
    }
    function Tm(t) {
        var n = Cm(t).next.queue;
        Wa(t, n, {}, Ut())
    }
    function Iu() {
        return ht(hr)
    }
    function wm() {
        return We().memoizedState
    }
    function Nm() {
        return We().memoizedState
    }
    function Zb(t) {
        for (var n = t.return; n !== null; ) {
            switch (n.tag) {
            case 24:
            case 3:
                var a = Ut();
                t = Zn(a);
                var l = Jn(n, t, a);
                l !== null && (Pt(l, n, a),
                Va(l, n, a)),
                n = {
                    cache: lu()
                },
                t.payload = n;
                return
            }
            n = n.return
        }
    }
    function Jb(t, n, a) {
        var l = Ut();
        a = {
            lane: l,
            revertLane: 0,
            action: a,
            hasEagerState: !1,
            eagerState: null,
            next: null
        },
        Bl(t) ? Am(n, a) : (a = $c(t, n, a, l),
        a !== null && (Pt(a, t, l),
        xm(a, n, l)))
    }
    function Rm(t, n, a) {
        var l = Ut();
        Wa(t, n, a, l)
    }
    function Wa(t, n, a, l) {
        var u = {
            lane: l,
            revertLane: 0,
            action: a,
            hasEagerState: !1,
            eagerState: null,
            next: null
        };
        if (Bl(t))
            Am(n, u);
        else {
            var d = t.alternate;
            if (t.lanes === 0 && (d === null || d.lanes === 0) && (d = n.lastRenderedReducer,
            d !== null))
                try {
                    var g = n.lastRenderedState
                      , v = d(g, a);
                    if (u.hasEagerState = !0,
                    u.eagerState = v,
                    Dt(v, g))
                        return Tl(t, n, u, 0),
                        ke === null && Cl(),
                        !1
                } catch {} finally {}
            if (a = $c(t, n, u, l),
            a !== null)
                return Pt(a, t, l),
                xm(a, n, l),
                !0
        }
        return !1
    }
    function Du(t, n, a, l) {
        if (l = {
            lane: 2,
            revertLane: ud(),
            action: l,
            hasEagerState: !1,
            eagerState: null,
            next: null
        },
        Bl(t)) {
            if (n)
                throw Error(r(479))
        } else
            n = $c(t, a, l, 2),
            n !== null && Pt(n, t, 2)
    }
    function Bl(t) {
        var n = t.alternate;
        return t === ue || n !== null && n === ue
    }
    function Am(t, n) {
        Ms = Ll = !0;
        var a = t.pending;
        a === null ? n.next = n : (n.next = a.next,
        a.next = n),
        t.pending = n
    }
    function xm(t, n, a) {
        if ((a & 4194048) !== 0) {
            var l = n.lanes;
            l &= t.pendingLanes,
            a |= l,
            n.lanes = a,
            Uh(t, a)
        }
    }
    var ql = {
        readContext: ht,
        use: Ul,
        useCallback: Fe,
        useContext: Fe,
        useEffect: Fe,
        useImperativeHandle: Fe,
        useLayoutEffect: Fe,
        useInsertionEffect: Fe,
        useMemo: Fe,
        useReducer: Fe,
        useRef: Fe,
        useState: Fe,
        useDebugValue: Fe,
        useDeferredValue: Fe,
        useTransition: Fe,
        useSyncExternalStore: Fe,
        useId: Fe,
        useHostTransitionStatus: Fe,
        useFormState: Fe,
        useActionState: Fe,
        useOptimistic: Fe,
        useMemoCache: Fe,
        useCacheRefresh: Fe
    }
      , Om = {
        readContext: ht,
        use: Ul,
        useCallback: function(t, n) {
            return Ct().memoizedState = [t, n === void 0 ? null : n],
            t
        },
        useContext: ht,
        useEffect: hm,
        useImperativeHandle: function(t, n, a) {
            a = a != null ? a.concat([t]) : null,
            Hl(4194308, 4, _m.bind(null, n, t), a)
        },
        useLayoutEffect: function(t, n) {
            return Hl(4194308, 4, t, n)
        },
        useInsertionEffect: function(t, n) {
            Hl(4, 2, t, n)
        },
        useMemo: function(t, n) {
            var a = Ct();
            n = n === void 0 ? null : n;
            var l = t();
            if (Fi) {
                Kn(!0);
                try {
                    t()
                } finally {
                    Kn(!1)
                }
            }
            return a.memoizedState = [l, n],
            l
        },
        useReducer: function(t, n, a) {
            var l = Ct();
            if (a !== void 0) {
                var u = a(n);
                if (Fi) {
                    Kn(!0);
                    try {
                        a(n)
                    } finally {
                        Kn(!1)
                    }
                }
            } else
                u = n;
            return l.memoizedState = l.baseState = u,
            t = {
                pending: null,
                lanes: 0,
                dispatch: null,
                lastRenderedReducer: t,
                lastRenderedState: u
            },
            l.queue = t,
            t = t.dispatch = Jb.bind(null, ue, t),
            [l.memoizedState, t]
        },
        useRef: function(t) {
            var n = Ct();
            return t = {
                current: t
            },
            n.memoizedState = t
        },
        useState: function(t) {
            t = Nu(t);
            var n = t.queue
              , a = Rm.bind(null, ue, n);
            return n.dispatch = a,
            [t.memoizedState, a]
        },
        useDebugValue: Au,
        useDeferredValue: function(t, n) {
            var a = Ct();
            return xu(a, t, n)
        },
        useTransition: function() {
            var t = Nu(!1);
            return t = Sm.bind(null, ue, t.queue, !0, !1),
            Ct().memoizedState = t,
            [!1, t]
        },
        useSyncExternalStore: function(t, n, a) {
            var l = ue
              , u = Ct();
            if (Ce) {
                if (a === void 0)
                    throw Error(r(407));
                a = a()
            } else {
                if (a = n(),
                ke === null)
                    throw Error(r(349));
                (Ee & 124) !== 0 || $p(l, n, a)
            }
            u.memoizedState = a;
            var d = {
                value: a,
                getSnapshot: n
            };
            return u.queue = d,
            hm(Jp.bind(null, l, d, t), [t]),
            l.flags |= 2048,
            Ls(9, zl(), Zp.bind(null, l, d, a, n), null),
            a
        },
        useId: function() {
            var t = Ct()
              , n = ke.identifierPrefix;
            if (Ce) {
                var a = Tn
                  , l = Cn;
                a = (l & ~(1 << 32 - It(l) - 1)).toString(32) + a,
                n = "" + n + "R" + a,
                a = jl++,
                0 < a && (n += "H" + a.toString(32)),
                n += ""
            } else
                a = Kb++,
                n = "" + n + "r" + a.toString(32) + "";
            return t.memoizedState = n
        },
        useHostTransitionStatus: Iu,
        useFormState: om,
        useActionState: om,
        useOptimistic: function(t) {
            var n = Ct();
            n.memoizedState = n.baseState = t;
            var a = {
                pending: null,
                lanes: 0,
                dispatch: null,
                lastRenderedReducer: null,
                lastRenderedState: null
            };
            return n.queue = a,
            n = Du.bind(null, ue, !0, a),
            a.dispatch = n,
            [t, n]
        },
        useMemoCache: Cu,
        useCacheRefresh: function() {
            return Ct().memoizedState = Zb.bind(null, ue)
        }
    }
      , Im = {
        readContext: ht,
        use: Ul,
        useCallback: ym,
        useContext: ht,
        useEffect: pm,
        useImperativeHandle: vm,
        useInsertionEffect: mm,
        useLayoutEffect: gm,
        useMemo: Em,
        useReducer: Pl,
        useRef: fm,
        useState: function() {
            return Pl(Rn)
        },
        useDebugValue: Au,
        useDeferredValue: function(t, n) {
            var a = We();
            return bm(a, Re.memoizedState, t, n)
        },
        useTransition: function() {
            var t = Pl(Rn)[0]
              , n = We().memoizedState;
            return [typeof t == "boolean" ? t : Ka(t), n]
        },
        useSyncExternalStore: Xp,
        useId: wm,
        useHostTransitionStatus: Iu,
        useFormState: cm,
        useActionState: cm,
        useOptimistic: function(t, n) {
            var a = We();
            return nm(a, Re, t, n)
        },
        useMemoCache: Cu,
        useCacheRefresh: Nm
    }
      , eS = {
        readContext: ht,
        use: Ul,
        useCallback: ym,
        useContext: ht,
        useEffect: pm,
        useImperativeHandle: vm,
        useInsertionEffect: mm,
        useLayoutEffect: gm,
        useMemo: Em,
        useReducer: wu,
        useRef: fm,
        useState: function() {
            return wu(Rn)
        },
        useDebugValue: Au,
        useDeferredValue: function(t, n) {
            var a = We();
            return Re === null ? xu(a, t, n) : bm(a, Re.memoizedState, t, n)
        },
        useTransition: function() {
            var t = wu(Rn)[0]
              , n = We().memoizedState;
            return [typeof t == "boolean" ? t : Ka(t), n]
        },
        useSyncExternalStore: Xp,
        useId: wm,
        useHostTransitionStatus: Iu,
        useFormState: dm,
        useActionState: dm,
        useOptimistic: function(t, n) {
            var a = We();
            return Re !== null ? nm(a, Re, t, n) : (a.baseState = t,
            [t, a.queue.dispatch])
        },
        useMemoCache: Cu,
        useCacheRefresh: Nm
    }
      , js = null
      , Xa = 0;
    function Vl(t) {
        var n = Xa;
        return Xa += 1,
        js === null && (js = []),
        qp(js, t, n)
    }
    function $a(t, n) {
        n = n.props.ref,
        t.ref = n !== void 0 ? n : null
    }
    function Gl(t, n) {
        throw n.$$typeof === b ? Error(r(525)) : (t = Object.prototype.toString.call(n),
        Error(r(31, t === "[object Object]" ? "object with keys {" + Object.keys(n).join(", ") + "}" : t)))
    }
    function Dm(t) {
        var n = t._init;
        return n(t._payload)
    }
    function Mm(t) {
        function n(R, w) {
            if (t) {
                var x = R.deletions;
                x === null ? (R.deletions = [w],
                R.flags |= 16) : x.push(w)
            }
        }
        function a(R, w) {
            if (!t)
                return null;
            for (; w !== null; )
                n(R, w),
                w = w.sibling;
            return null
        }
        function l(R) {
            for (var w = new Map; R !== null; )
                R.key !== null ? w.set(R.key, R) : w.set(R.index, R),
                R = R.sibling;
            return w
        }
        function u(R, w) {
            return R = Sn(R, w),
            R.index = 0,
            R.sibling = null,
            R
        }
        function d(R, w, x) {
            return R.index = x,
            t ? (x = R.alternate,
            x !== null ? (x = x.index,
            x < w ? (R.flags |= 67108866,
            w) : x) : (R.flags |= 67108866,
            w)) : (R.flags |= 1048576,
            w)
        }
        function g(R) {
            return t && R.alternate === null && (R.flags |= 67108866),
            R
        }
        function v(R, w, x, U) {
            return w === null || w.tag !== 6 ? (w = Jc(x, R.mode, U),
            w.return = R,
            w) : (w = u(w, x),
            w.return = R,
            w)
        }
        function S(R, w, x, U) {
            var W = x.type;
            return W === T ? j(R, w, x.props.children, U, x.key) : w !== null && (w.elementType === W || typeof W == "object" && W !== null && W.$$typeof === Te && Dm(W) === w.type) ? (w = u(w, x.props),
            $a(w, x),
            w.return = R,
            w) : (w = Nl(x.type, x.key, x.props, null, R.mode, U),
            $a(w, x),
            w.return = R,
            w)
        }
        function O(R, w, x, U) {
            return w === null || w.tag !== 4 || w.stateNode.containerInfo !== x.containerInfo || w.stateNode.implementation !== x.implementation ? (w = eu(x, R.mode, U),
            w.return = R,
            w) : (w = u(w, x.children || []),
            w.return = R,
            w)
        }
        function j(R, w, x, U, W) {
            return w === null || w.tag !== 7 ? (w = Pi(x, R.mode, U, W),
            w.return = R,
            w) : (w = u(w, x),
            w.return = R,
            w)
        }
        function P(R, w, x) {
            if (typeof w == "string" && w !== "" || typeof w == "number" || typeof w == "bigint")
                return w = Jc("" + w, R.mode, x),
                w.return = R,
                w;
            if (typeof w == "object" && w !== null) {
                switch (w.$$typeof) {
                case y:
                    return x = Nl(w.type, w.key, w.props, null, R.mode, x),
                    $a(x, w),
                    x.return = R,
                    x;
                case A:
                    return w = eu(w, R.mode, x),
                    w.return = R,
                    w;
                case Te:
                    var U = w._init;
                    return w = U(w._payload),
                    P(R, w, x)
                }
                if (Ye(w) || Be(w))
                    return w = Pi(w, R.mode, x, null),
                    w.return = R,
                    w;
                if (typeof w.then == "function")
                    return P(R, Vl(w), x);
                if (w.$$typeof === F)
                    return P(R, Ol(R, w), x);
                Gl(R, w)
            }
            return null
        }
        function I(R, w, x, U) {
            var W = w !== null ? w.key : null;
            if (typeof x == "string" && x !== "" || typeof x == "number" || typeof x == "bigint")
                return W !== null ? null : v(R, w, "" + x, U);
            if (typeof x == "object" && x !== null) {
                switch (x.$$typeof) {
                case y:
                    return x.key === W ? S(R, w, x, U) : null;
                case A:
                    return x.key === W ? O(R, w, x, U) : null;
                case Te:
                    return W = x._init,
                    x = W(x._payload),
                    I(R, w, x, U)
                }
                if (Ye(x) || Be(x))
                    return W !== null ? null : j(R, w, x, U, null);
                if (typeof x.then == "function")
                    return I(R, w, Vl(x), U);
                if (x.$$typeof === F)
                    return I(R, w, Ol(R, x), U);
                Gl(R, x)
            }
            return null
        }
        function M(R, w, x, U, W) {
            if (typeof U == "string" && U !== "" || typeof U == "number" || typeof U == "bigint")
                return R = R.get(x) || null,
                v(w, R, "" + U, W);
            if (typeof U == "object" && U !== null) {
                switch (U.$$typeof) {
                case y:
                    return R = R.get(U.key === null ? x : U.key) || null,
                    S(w, R, U, W);
                case A:
                    return R = R.get(U.key === null ? x : U.key) || null,
                    O(w, R, U, W);
                case Te:
                    var de = U._init;
                    return U = de(U._payload),
                    M(R, w, x, U, W)
                }
                if (Ye(U) || Be(U))
                    return R = R.get(x) || null,
                    j(w, R, U, W, null);
                if (typeof U.then == "function")
                    return M(R, w, x, Vl(U), W);
                if (U.$$typeof === F)
                    return M(R, w, x, Ol(w, U), W);
                Gl(w, U)
            }
            return null
        }
        function ae(R, w, x, U) {
            for (var W = null, de = null, Z = w, te = w = 0, st = null; Z !== null && te < x.length; te++) {
                Z.index > te ? (st = Z,
                Z = null) : st = Z.sibling;
                var be = I(R, Z, x[te], U);
                if (be === null) {
                    Z === null && (Z = st);
                    break
                }
                t && Z && be.alternate === null && n(R, Z),
                w = d(be, w, te),
                de === null ? W = be : de.sibling = be,
                de = be,
                Z = st
            }
            if (te === x.length)
                return a(R, Z),
                Ce && Hi(R, te),
                W;
            if (Z === null) {
                for (; te < x.length; te++)
                    Z = P(R, x[te], U),
                    Z !== null && (w = d(Z, w, te),
                    de === null ? W = Z : de.sibling = Z,
                    de = Z);
                return Ce && Hi(R, te),
                W
            }
            for (Z = l(Z); te < x.length; te++)
                st = M(Z, R, te, x[te], U),
                st !== null && (t && st.alternate !== null && Z.delete(st.key === null ? te : st.key),
                w = d(st, w, te),
                de === null ? W = st : de.sibling = st,
                de = st);
            return t && Z.forEach(function(gi) {
                return n(R, gi)
            }),
            Ce && Hi(R, te),
            W
        }
        function ee(R, w, x, U) {
            if (x == null)
                throw Error(r(151));
            for (var W = null, de = null, Z = w, te = w = 0, st = null, be = x.next(); Z !== null && !be.done; te++,
            be = x.next()) {
                Z.index > te ? (st = Z,
                Z = null) : st = Z.sibling;
                var gi = I(R, Z, be.value, U);
                if (gi === null) {
                    Z === null && (Z = st);
                    break
                }
                t && Z && gi.alternate === null && n(R, Z),
                w = d(gi, w, te),
                de === null ? W = gi : de.sibling = gi,
                de = gi,
                Z = st
            }
            if (be.done)
                return a(R, Z),
                Ce && Hi(R, te),
                W;
            if (Z === null) {
                for (; !be.done; te++,
                be = x.next())
                    be = P(R, be.value, U),
                    be !== null && (w = d(be, w, te),
                    de === null ? W = be : de.sibling = be,
                    de = be);
                return Ce && Hi(R, te),
                W
            }
            for (Z = l(Z); !be.done; te++,
            be = x.next())
                be = M(Z, R, te, be.value, U),
                be !== null && (t && be.alternate !== null && Z.delete(be.key === null ? te : be.key),
                w = d(be, w, te),
                de === null ? W = be : de.sibling = be,
                de = be);
            return t && Z.forEach(function(t1) {
                return n(R, t1)
            }),
            Ce && Hi(R, te),
            W
        }
        function xe(R, w, x, U) {
            if (typeof x == "object" && x !== null && x.type === T && x.key === null && (x = x.props.children),
            typeof x == "object" && x !== null) {
                switch (x.$$typeof) {
                case y:
                    e: {
                        for (var W = x.key; w !== null; ) {
                            if (w.key === W) {
                                if (W = x.type,
                                W === T) {
                                    if (w.tag === 7) {
                                        a(R, w.sibling),
                                        U = u(w, x.props.children),
                                        U.return = R,
                                        R = U;
                                        break e
                                    }
                                } else if (w.elementType === W || typeof W == "object" && W !== null && W.$$typeof === Te && Dm(W) === w.type) {
                                    a(R, w.sibling),
                                    U = u(w, x.props),
                                    $a(U, x),
                                    U.return = R,
                                    R = U;
                                    break e
                                }
                                a(R, w);
                                break
                            } else
                                n(R, w);
                            w = w.sibling
                        }
                        x.type === T ? (U = Pi(x.props.children, R.mode, U, x.key),
                        U.return = R,
                        R = U) : (U = Nl(x.type, x.key, x.props, null, R.mode, U),
                        $a(U, x),
                        U.return = R,
                        R = U)
                    }
                    return g(R);
                case A:
                    e: {
                        for (W = x.key; w !== null; ) {
                            if (w.key === W)
                                if (w.tag === 4 && w.stateNode.containerInfo === x.containerInfo && w.stateNode.implementation === x.implementation) {
                                    a(R, w.sibling),
                                    U = u(w, x.children || []),
                                    U.return = R,
                                    R = U;
                                    break e
                                } else {
                                    a(R, w);
                                    break
                                }
                            else
                                n(R, w);
                            w = w.sibling
                        }
                        U = eu(x, R.mode, U),
                        U.return = R,
                        R = U
                    }
                    return g(R);
                case Te:
                    return W = x._init,
                    x = W(x._payload),
                    xe(R, w, x, U)
                }
                if (Ye(x))
                    return ae(R, w, x, U);
                if (Be(x)) {
                    if (W = Be(x),
                    typeof W != "function")
                        throw Error(r(150));
                    return x = W.call(x),
                    ee(R, w, x, U)
                }
                if (typeof x.then == "function")
                    return xe(R, w, Vl(x), U);
                if (x.$$typeof === F)
                    return xe(R, w, Ol(R, x), U);
                Gl(R, x)
            }
            return typeof x == "string" && x !== "" || typeof x == "number" || typeof x == "bigint" ? (x = "" + x,
            w !== null && w.tag === 6 ? (a(R, w.sibling),
            U = u(w, x),
            U.return = R,
            R = U) : (a(R, w),
            U = Jc(x, R.mode, U),
            U.return = R,
            R = U),
            g(R)) : a(R, w)
        }
        return function(R, w, x, U) {
            try {
                Xa = 0;
                var W = xe(R, w, x, U);
                return js = null,
                W
            } catch (Z) {
                if (Z === Ba || Z === Dl)
                    throw Z;
                var de = Mt(29, Z, null, R.mode);
                return de.lanes = U,
                de.return = R,
                de
            } finally {}
        }
    }
    var Us = Mm(!0)
      , km = Mm(!1)
      , Ft = D(null)
      , hn = null;
    function ti(t) {
        var n = t.alternate;
        V($e, $e.current & 1),
        V(Ft, t),
        hn === null && (n === null || Ds.current !== null || n.memoizedState !== null) && (hn = t)
    }
    function Lm(t) {
        if (t.tag === 22) {
            if (V($e, $e.current),
            V(Ft, t),
            hn === null) {
                var n = t.alternate;
                n !== null && n.memoizedState !== null && (hn = t)
            }
        } else
            ni()
    }
    function ni() {
        V($e, $e.current),
        V(Ft, Ft.current)
    }
    function An(t) {
        q(Ft),
        hn === t && (hn = null),
        q($e)
    }
    var $e = D(0);
    function Yl(t) {
        for (var n = t; n !== null; ) {
            if (n.tag === 13) {
                var a = n.memoizedState;
                if (a !== null && (a = a.dehydrated,
                a === null || a.data === "$?" || Sd(a)))
                    return n
            } else if (n.tag === 19 && n.memoizedProps.revealOrder !== void 0) {
                if ((n.flags & 128) !== 0)
                    return n
            } else if (n.child !== null) {
                n.child.return = n,
                n = n.child;
                continue
            }
            if (n === t)
                break;
            for (; n.sibling === null; ) {
                if (n.return === null || n.return === t)
                    return null;
                n = n.return
            }
            n.sibling.return = n.return,
            n = n.sibling
        }
        return null
    }
    function Mu(t, n, a, l) {
        n = t.memoizedState,
        a = a(l, n),
        a = a == null ? n : E({}, n, a),
        t.memoizedState = a,
        t.lanes === 0 && (t.updateQueue.baseState = a)
    }
    var ku = {
        enqueueSetState: function(t, n, a) {
            t = t._reactInternals;
            var l = Ut()
              , u = Zn(l);
            u.payload = n,
            a != null && (u.callback = a),
            n = Jn(t, u, l),
            n !== null && (Pt(n, t, l),
            Va(n, t, l))
        },
        enqueueReplaceState: function(t, n, a) {
            t = t._reactInternals;
            var l = Ut()
              , u = Zn(l);
            u.tag = 1,
            u.payload = n,
            a != null && (u.callback = a),
            n = Jn(t, u, l),
            n !== null && (Pt(n, t, l),
            Va(n, t, l))
        },
        enqueueForceUpdate: function(t, n) {
            t = t._reactInternals;
            var a = Ut()
              , l = Zn(a);
            l.tag = 2,
            n != null && (l.callback = n),
            n = Jn(t, l, a),
            n !== null && (Pt(n, t, a),
            Va(n, t, a))
        }
    };
    function jm(t, n, a, l, u, d, g) {
        return t = t.stateNode,
        typeof t.shouldComponentUpdate == "function" ? t.shouldComponentUpdate(l, d, g) : n.prototype && n.prototype.isPureReactComponent ? !Ma(a, l) || !Ma(u, d) : !0
    }
    function Um(t, n, a, l) {
        t = n.state,
        typeof n.componentWillReceiveProps == "function" && n.componentWillReceiveProps(a, l),
        typeof n.UNSAFE_componentWillReceiveProps == "function" && n.UNSAFE_componentWillReceiveProps(a, l),
        n.state !== t && ku.enqueueReplaceState(n, n.state, null)
    }
    function Ki(t, n) {
        var a = n;
        if ("ref"in n) {
            a = {};
            for (var l in n)
                l !== "ref" && (a[l] = n[l])
        }
        if (t = t.defaultProps) {
            a === n && (a = E({}, a));
            for (var u in t)
                a[u] === void 0 && (a[u] = t[u])
        }
        return a
    }
    var Fl = typeof reportError == "function" ? reportError : function(t) {
        if (typeof window == "object" && typeof window.ErrorEvent == "function") {
            var n = new window.ErrorEvent("error",{
                bubbles: !0,
                cancelable: !0,
                message: typeof t == "object" && t !== null && typeof t.message == "string" ? String(t.message) : String(t),
                error: t
            });
            if (!window.dispatchEvent(n))
                return
        } else if (typeof process == "object" && typeof process.emit == "function") {
            process.emit("uncaughtException", t);
            return
        }
        console.error(t)
    }
    ;
    function Pm(t) {
        Fl(t)
    }
    function zm(t) {
        console.error(t)
    }
    function Hm(t) {
        Fl(t)
    }
    function Kl(t, n) {
        try {
            var a = t.onUncaughtError;
            a(n.value, {
                componentStack: n.stack
            })
        } catch (l) {
            setTimeout(function() {
                throw l
            })
        }
    }
    function Bm(t, n, a) {
        try {
            var l = t.onCaughtError;
            l(a.value, {
                componentStack: a.stack,
                errorBoundary: n.tag === 1 ? n.stateNode : null
            })
        } catch (u) {
            setTimeout(function() {
                throw u
            })
        }
    }
    function Lu(t, n, a) {
        return a = Zn(a),
        a.tag = 3,
        a.payload = {
            element: null
        },
        a.callback = function() {
            Kl(t, n)
        }
        ,
        a
    }
    function qm(t) {
        return t = Zn(t),
        t.tag = 3,
        t
    }
    function Vm(t, n, a, l) {
        var u = a.type.getDerivedStateFromError;
        if (typeof u == "function") {
            var d = l.value;
            t.payload = function() {
                return u(d)
            }
            ,
            t.callback = function() {
                Bm(n, a, l)
            }
        }
        var g = a.stateNode;
        g !== null && typeof g.componentDidCatch == "function" && (t.callback = function() {
            Bm(n, a, l),
            typeof u != "function" && (oi === null ? oi = new Set([this]) : oi.add(this));
            var v = l.stack;
            this.componentDidCatch(l.value, {
                componentStack: v !== null ? v : ""
            })
        }
        )
    }
    function tS(t, n, a, l, u) {
        if (a.flags |= 32768,
        l !== null && typeof l == "object" && typeof l.then == "function") {
            if (n = a.alternate,
            n !== null && Pa(n, a, u, !0),
            a = Ft.current,
            a !== null) {
                switch (a.tag) {
                case 13:
                    return hn === null ? ad() : a.alternate === null && Ve === 0 && (Ve = 3),
                    a.flags &= -257,
                    a.flags |= 65536,
                    a.lanes = u,
                    l === uu ? a.flags |= 16384 : (n = a.updateQueue,
                    n === null ? a.updateQueue = new Set([l]) : n.add(l),
                    ld(t, l, u)),
                    !1;
                case 22:
                    return a.flags |= 65536,
                    l === uu ? a.flags |= 16384 : (n = a.updateQueue,
                    n === null ? (n = {
                        transitions: null,
                        markerInstances: null,
                        retryQueue: new Set([l])
                    },
                    a.updateQueue = n) : (a = n.retryQueue,
                    a === null ? n.retryQueue = new Set([l]) : a.add(l)),
                    ld(t, l, u)),
                    !1
                }
                throw Error(r(435, a.tag))
            }
            return ld(t, l, u),
            ad(),
            !1
        }
        if (Ce)
            return n = Ft.current,
            n !== null ? ((n.flags & 65536) === 0 && (n.flags |= 256),
            n.flags |= 65536,
            n.lanes = u,
            l !== iu && (t = Error(r(422), {
                cause: l
            }),
            Ua(qt(t, a)))) : (l !== iu && (n = Error(r(423), {
                cause: l
            }),
            Ua(qt(n, a))),
            t = t.current.alternate,
            t.flags |= 65536,
            u &= -u,
            t.lanes |= u,
            l = qt(l, a),
            u = Lu(t.stateNode, l, u),
            hu(t, u),
            Ve !== 4 && (Ve = 2)),
            !1;
        var d = Error(r(520), {
            cause: l
        });
        if (d = qt(d, a),
        sr === null ? sr = [d] : sr.push(d),
        Ve !== 4 && (Ve = 2),
        n === null)
            return !0;
        l = qt(l, a),
        a = n;
        do {
            switch (a.tag) {
            case 3:
                return a.flags |= 65536,
                t = u & -u,
                a.lanes |= t,
                t = Lu(a.stateNode, l, t),
                hu(a, t),
                !1;
            case 1:
                if (n = a.type,
                d = a.stateNode,
                (a.flags & 128) === 0 && (typeof n.getDerivedStateFromError == "function" || d !== null && typeof d.componentDidCatch == "function" && (oi === null || !oi.has(d))))
                    return a.flags |= 65536,
                    u &= -u,
                    a.lanes |= u,
                    u = qm(u),
                    Vm(u, t, a, l),
                    hu(a, u),
                    !1
            }
            a = a.return
        } while (a !== null);
        return !1
    }
    var Gm = Error(r(461))
      , nt = !1;
    function ot(t, n, a, l) {
        n.child = t === null ? km(n, null, a, l) : Us(n, t.child, a, l)
    }
    function Ym(t, n, a, l, u) {
        a = a.render;
        var d = n.ref;
        if ("ref"in l) {
            var g = {};
            for (var v in l)
                v !== "ref" && (g[v] = l[v])
        } else
            g = l;
        return Gi(n),
        l = vu(t, n, a, g, d, u),
        v = yu(),
        t !== null && !nt ? (Eu(t, n, u),
        xn(t, n, u)) : (Ce && v && tu(n),
        n.flags |= 1,
        ot(t, n, l, u),
        n.child)
    }
    function Fm(t, n, a, l, u) {
        if (t === null) {
            var d = a.type;
            return typeof d == "function" && !Zc(d) && d.defaultProps === void 0 && a.compare === null ? (n.tag = 15,
            n.type = d,
            Km(t, n, d, l, u)) : (t = Nl(a.type, null, l, n, n.mode, u),
            t.ref = n.ref,
            t.return = n,
            n.child = t)
        }
        if (d = t.child,
        !Vu(t, u)) {
            var g = d.memoizedProps;
            if (a = a.compare,
            a = a !== null ? a : Ma,
            a(g, l) && t.ref === n.ref)
                return xn(t, n, u)
        }
        return n.flags |= 1,
        t = Sn(d, l),
        t.ref = n.ref,
        t.return = n,
        n.child = t
    }
    function Km(t, n, a, l, u) {
        if (t !== null) {
            var d = t.memoizedProps;
            if (Ma(d, l) && t.ref === n.ref)
                if (nt = !1,
                n.pendingProps = l = d,
                Vu(t, u))
                    (t.flags & 131072) !== 0 && (nt = !0);
                else
                    return n.lanes = t.lanes,
                    xn(t, n, u)
        }
        return ju(t, n, a, l, u)
    }
    function Qm(t, n, a) {
        var l = n.pendingProps
          , u = l.children
          , d = t !== null ? t.memoizedState : null;
        if (l.mode === "hidden") {
            if ((n.flags & 128) !== 0) {
                if (l = d !== null ? d.baseLanes | a : a,
                t !== null) {
                    for (u = n.child = t.child,
                    d = 0; u !== null; )
                        d = d | u.lanes | u.childLanes,
                        u = u.sibling;
                    n.childLanes = d & ~l
                } else
                    n.childLanes = 0,
                    n.child = null;
                return Wm(t, n, l, a)
            }
            if ((a & 536870912) !== 0)
                n.memoizedState = {
                    baseLanes: 0,
                    cachePool: null
                },
                t !== null && Il(n, d !== null ? d.cachePool : null),
                d !== null ? Kp(n, d) : mu(),
                Lm(n);
            else
                return n.lanes = n.childLanes = 536870912,
                Wm(t, n, d !== null ? d.baseLanes | a : a, a)
        } else
            d !== null ? (Il(n, d.cachePool),
            Kp(n, d),
            ni(),
            n.memoizedState = null) : (t !== null && Il(n, null),
            mu(),
            ni());
        return ot(t, n, u, a),
        n.child
    }
    function Wm(t, n, a, l) {
        var u = cu();
        return u = u === null ? null : {
            parent: Xe._currentValue,
            pool: u
        },
        n.memoizedState = {
            baseLanes: a,
            cachePool: u
        },
        t !== null && Il(n, null),
        mu(),
        Lm(n),
        t !== null && Pa(t, n, l, !0),
        null
    }
    function Ql(t, n) {
        var a = n.ref;
        if (a === null)
            t !== null && t.ref !== null && (n.flags |= 4194816);
        else {
            if (typeof a != "function" && typeof a != "object")
                throw Error(r(284));
            (t === null || t.ref !== a) && (n.flags |= 4194816)
        }
    }
    function ju(t, n, a, l, u) {
        return Gi(n),
        a = vu(t, n, a, l, void 0, u),
        l = yu(),
        t !== null && !nt ? (Eu(t, n, u),
        xn(t, n, u)) : (Ce && l && tu(n),
        n.flags |= 1,
        ot(t, n, a, u),
        n.child)
    }
    function Xm(t, n, a, l, u, d) {
        return Gi(n),
        n.updateQueue = null,
        a = Wp(n, l, a, u),
        Qp(t),
        l = yu(),
        t !== null && !nt ? (Eu(t, n, d),
        xn(t, n, d)) : (Ce && l && tu(n),
        n.flags |= 1,
        ot(t, n, a, d),
        n.child)
    }
    function $m(t, n, a, l, u) {
        if (Gi(n),
        n.stateNode === null) {
            var d = Rs
              , g = a.contextType;
            typeof g == "object" && g !== null && (d = ht(g)),
            d = new a(l,d),
            n.memoizedState = d.state !== null && d.state !== void 0 ? d.state : null,
            d.updater = ku,
            n.stateNode = d,
            d._reactInternals = n,
            d = n.stateNode,
            d.props = l,
            d.state = n.memoizedState,
            d.refs = {},
            du(n),
            g = a.contextType,
            d.context = typeof g == "object" && g !== null ? ht(g) : Rs,
            d.state = n.memoizedState,
            g = a.getDerivedStateFromProps,
            typeof g == "function" && (Mu(n, a, g, l),
            d.state = n.memoizedState),
            typeof a.getDerivedStateFromProps == "function" || typeof d.getSnapshotBeforeUpdate == "function" || typeof d.UNSAFE_componentWillMount != "function" && typeof d.componentWillMount != "function" || (g = d.state,
            typeof d.componentWillMount == "function" && d.componentWillMount(),
            typeof d.UNSAFE_componentWillMount == "function" && d.UNSAFE_componentWillMount(),
            g !== d.state && ku.enqueueReplaceState(d, d.state, null),
            Ya(n, l, d, u),
            Ga(),
            d.state = n.memoizedState),
            typeof d.componentDidMount == "function" && (n.flags |= 4194308),
            l = !0
        } else if (t === null) {
            d = n.stateNode;
            var v = n.memoizedProps
              , S = Ki(a, v);
            d.props = S;
            var O = d.context
              , j = a.contextType;
            g = Rs,
            typeof j == "object" && j !== null && (g = ht(j));
            var P = a.getDerivedStateFromProps;
            j = typeof P == "function" || typeof d.getSnapshotBeforeUpdate == "function",
            v = n.pendingProps !== v,
            j || typeof d.UNSAFE_componentWillReceiveProps != "function" && typeof d.componentWillReceiveProps != "function" || (v || O !== g) && Um(n, d, l, g),
            $n = !1;
            var I = n.memoizedState;
            d.state = I,
            Ya(n, l, d, u),
            Ga(),
            O = n.memoizedState,
            v || I !== O || $n ? (typeof P == "function" && (Mu(n, a, P, l),
            O = n.memoizedState),
            (S = $n || jm(n, a, S, l, I, O, g)) ? (j || typeof d.UNSAFE_componentWillMount != "function" && typeof d.componentWillMount != "function" || (typeof d.componentWillMount == "function" && d.componentWillMount(),
            typeof d.UNSAFE_componentWillMount == "function" && d.UNSAFE_componentWillMount()),
            typeof d.componentDidMount == "function" && (n.flags |= 4194308)) : (typeof d.componentDidMount == "function" && (n.flags |= 4194308),
            n.memoizedProps = l,
            n.memoizedState = O),
            d.props = l,
            d.state = O,
            d.context = g,
            l = S) : (typeof d.componentDidMount == "function" && (n.flags |= 4194308),
            l = !1)
        } else {
            d = n.stateNode,
            fu(t, n),
            g = n.memoizedProps,
            j = Ki(a, g),
            d.props = j,
            P = n.pendingProps,
            I = d.context,
            O = a.contextType,
            S = Rs,
            typeof O == "object" && O !== null && (S = ht(O)),
            v = a.getDerivedStateFromProps,
            (O = typeof v == "function" || typeof d.getSnapshotBeforeUpdate == "function") || typeof d.UNSAFE_componentWillReceiveProps != "function" && typeof d.componentWillReceiveProps != "function" || (g !== P || I !== S) && Um(n, d, l, S),
            $n = !1,
            I = n.memoizedState,
            d.state = I,
            Ya(n, l, d, u),
            Ga();
            var M = n.memoizedState;
            g !== P || I !== M || $n || t !== null && t.dependencies !== null && xl(t.dependencies) ? (typeof v == "function" && (Mu(n, a, v, l),
            M = n.memoizedState),
            (j = $n || jm(n, a, j, l, I, M, S) || t !== null && t.dependencies !== null && xl(t.dependencies)) ? (O || typeof d.UNSAFE_componentWillUpdate != "function" && typeof d.componentWillUpdate != "function" || (typeof d.componentWillUpdate == "function" && d.componentWillUpdate(l, M, S),
            typeof d.UNSAFE_componentWillUpdate == "function" && d.UNSAFE_componentWillUpdate(l, M, S)),
            typeof d.componentDidUpdate == "function" && (n.flags |= 4),
            typeof d.getSnapshotBeforeUpdate == "function" && (n.flags |= 1024)) : (typeof d.componentDidUpdate != "function" || g === t.memoizedProps && I === t.memoizedState || (n.flags |= 4),
            typeof d.getSnapshotBeforeUpdate != "function" || g === t.memoizedProps && I === t.memoizedState || (n.flags |= 1024),
            n.memoizedProps = l,
            n.memoizedState = M),
            d.props = l,
            d.state = M,
            d.context = S,
            l = j) : (typeof d.componentDidUpdate != "function" || g === t.memoizedProps && I === t.memoizedState || (n.flags |= 4),
            typeof d.getSnapshotBeforeUpdate != "function" || g === t.memoizedProps && I === t.memoizedState || (n.flags |= 1024),
            l = !1)
        }
        return d = l,
        Ql(t, n),
        l = (n.flags & 128) !== 0,
        d || l ? (d = n.stateNode,
        a = l && typeof a.getDerivedStateFromError != "function" ? null : d.render(),
        n.flags |= 1,
        t !== null && l ? (n.child = Us(n, t.child, null, u),
        n.child = Us(n, null, a, u)) : ot(t, n, a, u),
        n.memoizedState = d.state,
        t = n.child) : t = xn(t, n, u),
        t
    }
    function Zm(t, n, a, l) {
        return ja(),
        n.flags |= 256,
        ot(t, n, a, l),
        n.child
    }
    var Uu = {
        dehydrated: null,
        treeContext: null,
        retryLane: 0,
        hydrationErrors: null
    };
    function Pu(t) {
        return {
            baseLanes: t,
            cachePool: zp()
        }
    }
    function zu(t, n, a) {
        return t = t !== null ? t.childLanes & ~a : 0,
        n && (t |= Kt),
        t
    }
    function Jm(t, n, a) {
        var l = n.pendingProps, u = !1, d = (n.flags & 128) !== 0, g;
        if ((g = d) || (g = t !== null && t.memoizedState === null ? !1 : ($e.current & 2) !== 0),
        g && (u = !0,
        n.flags &= -129),
        g = (n.flags & 32) !== 0,
        n.flags &= -33,
        t === null) {
            if (Ce) {
                if (u ? ti(n) : ni(),
                Ce) {
                    var v = qe, S;
                    if (S = v) {
                        e: {
                            for (S = v,
                            v = fn; S.nodeType !== 8; ) {
                                if (!v) {
                                    v = null;
                                    break e
                                }
                                if (S = tn(S.nextSibling),
                                S === null) {
                                    v = null;
                                    break e
                                }
                            }
                            v = S
                        }
                        v !== null ? (n.memoizedState = {
                            dehydrated: v,
                            treeContext: zi !== null ? {
                                id: Cn,
                                overflow: Tn
                            } : null,
                            retryLane: 536870912,
                            hydrationErrors: null
                        },
                        S = Mt(18, null, null, 0),
                        S.stateNode = v,
                        S.return = n,
                        n.child = S,
                        _t = n,
                        qe = null,
                        S = !0) : S = !1
                    }
                    S || qi(n)
                }
                if (v = n.memoizedState,
                v !== null && (v = v.dehydrated,
                v !== null))
                    return Sd(v) ? n.lanes = 32 : n.lanes = 536870912,
                    null;
                An(n)
            }
            return v = l.children,
            l = l.fallback,
            u ? (ni(),
            u = n.mode,
            v = Wl({
                mode: "hidden",
                children: v
            }, u),
            l = Pi(l, u, a, null),
            v.return = n,
            l.return = n,
            v.sibling = l,
            n.child = v,
            u = n.child,
            u.memoizedState = Pu(a),
            u.childLanes = zu(t, g, a),
            n.memoizedState = Uu,
            l) : (ti(n),
            Hu(n, v))
        }
        if (S = t.memoizedState,
        S !== null && (v = S.dehydrated,
        v !== null)) {
            if (d)
                n.flags & 256 ? (ti(n),
                n.flags &= -257,
                n = Bu(t, n, a)) : n.memoizedState !== null ? (ni(),
                n.child = t.child,
                n.flags |= 128,
                n = null) : (ni(),
                u = l.fallback,
                v = n.mode,
                l = Wl({
                    mode: "visible",
                    children: l.children
                }, v),
                u = Pi(u, v, a, null),
                u.flags |= 2,
                l.return = n,
                u.return = n,
                l.sibling = u,
                n.child = l,
                Us(n, t.child, null, a),
                l = n.child,
                l.memoizedState = Pu(a),
                l.childLanes = zu(t, g, a),
                n.memoizedState = Uu,
                n = u);
            else if (ti(n),
            Sd(v)) {
                if (g = v.nextSibling && v.nextSibling.dataset,
                g)
                    var O = g.dgst;
                g = O,
                l = Error(r(419)),
                l.stack = "",
                l.digest = g,
                Ua({
                    value: l,
                    source: null,
                    stack: null
                }),
                n = Bu(t, n, a)
            } else if (nt || Pa(t, n, a, !1),
            g = (a & t.childLanes) !== 0,
            nt || g) {
                if (g = ke,
                g !== null && (l = a & -a,
                l = (l & 42) !== 0 ? 1 : Cc(l),
                l = (l & (g.suspendedLanes | a)) !== 0 ? 0 : l,
                l !== 0 && l !== S.retryLane))
                    throw S.retryLane = l,
                    Ns(t, l),
                    Pt(g, t, l),
                    Gm;
                v.data === "$?" || ad(),
                n = Bu(t, n, a)
            } else
                v.data === "$?" ? (n.flags |= 192,
                n.child = t.child,
                n = null) : (t = S.treeContext,
                qe = tn(v.nextSibling),
                _t = n,
                Ce = !0,
                Bi = null,
                fn = !1,
                t !== null && (Gt[Yt++] = Cn,
                Gt[Yt++] = Tn,
                Gt[Yt++] = zi,
                Cn = t.id,
                Tn = t.overflow,
                zi = n),
                n = Hu(n, l.children),
                n.flags |= 4096);
            return n
        }
        return u ? (ni(),
        u = l.fallback,
        v = n.mode,
        S = t.child,
        O = S.sibling,
        l = Sn(S, {
            mode: "hidden",
            children: l.children
        }),
        l.subtreeFlags = S.subtreeFlags & 65011712,
        O !== null ? u = Sn(O, u) : (u = Pi(u, v, a, null),
        u.flags |= 2),
        u.return = n,
        l.return = n,
        l.sibling = u,
        n.child = l,
        l = u,
        u = n.child,
        v = t.child.memoizedState,
        v === null ? v = Pu(a) : (S = v.cachePool,
        S !== null ? (O = Xe._currentValue,
        S = S.parent !== O ? {
            parent: O,
            pool: O
        } : S) : S = zp(),
        v = {
            baseLanes: v.baseLanes | a,
            cachePool: S
        }),
        u.memoizedState = v,
        u.childLanes = zu(t, g, a),
        n.memoizedState = Uu,
        l) : (ti(n),
        a = t.child,
        t = a.sibling,
        a = Sn(a, {
            mode: "visible",
            children: l.children
        }),
        a.return = n,
        a.sibling = null,
        t !== null && (g = n.deletions,
        g === null ? (n.deletions = [t],
        n.flags |= 16) : g.push(t)),
        n.child = a,
        n.memoizedState = null,
        a)
    }
    function Hu(t, n) {
        return n = Wl({
            mode: "visible",
            children: n
        }, t.mode),
        n.return = t,
        t.child = n
    }
    function Wl(t, n) {
        return t = Mt(22, t, null, n),
        t.lanes = 0,
        t.stateNode = {
            _visibility: 1,
            _pendingMarkers: null,
            _retryCache: null,
            _transitions: null
        },
        t
    }
    function Bu(t, n, a) {
        return Us(n, t.child, null, a),
        t = Hu(n, n.pendingProps.children),
        t.flags |= 2,
        n.memoizedState = null,
        t
    }
    function eg(t, n, a) {
        t.lanes |= n;
        var l = t.alternate;
        l !== null && (l.lanes |= n),
        au(t.return, n, a)
    }
    function qu(t, n, a, l, u) {
        var d = t.memoizedState;
        d === null ? t.memoizedState = {
            isBackwards: n,
            rendering: null,
            renderingStartTime: 0,
            last: l,
            tail: a,
            tailMode: u
        } : (d.isBackwards = n,
        d.rendering = null,
        d.renderingStartTime = 0,
        d.last = l,
        d.tail = a,
        d.tailMode = u)
    }
    function tg(t, n, a) {
        var l = n.pendingProps
          , u = l.revealOrder
          , d = l.tail;
        if (ot(t, n, l.children, a),
        l = $e.current,
        (l & 2) !== 0)
            l = l & 1 | 2,
            n.flags |= 128;
        else {
            if (t !== null && (t.flags & 128) !== 0)
                e: for (t = n.child; t !== null; ) {
                    if (t.tag === 13)
                        t.memoizedState !== null && eg(t, a, n);
                    else if (t.tag === 19)
                        eg(t, a, n);
                    else if (t.child !== null) {
                        t.child.return = t,
                        t = t.child;
                        continue
                    }
                    if (t === n)
                        break e;
                    for (; t.sibling === null; ) {
                        if (t.return === null || t.return === n)
                            break e;
                        t = t.return
                    }
                    t.sibling.return = t.return,
                    t = t.sibling
                }
            l &= 1
        }
        switch (V($e, l),
        u) {
        case "forwards":
            for (a = n.child,
            u = null; a !== null; )
                t = a.alternate,
                t !== null && Yl(t) === null && (u = a),
                a = a.sibling;
            a = u,
            a === null ? (u = n.child,
            n.child = null) : (u = a.sibling,
            a.sibling = null),
            qu(n, !1, u, a, d);
            break;
        case "backwards":
            for (a = null,
            u = n.child,
            n.child = null; u !== null; ) {
                if (t = u.alternate,
                t !== null && Yl(t) === null) {
                    n.child = u;
                    break
                }
                t = u.sibling,
                u.sibling = a,
                a = u,
                u = t
            }
            qu(n, !0, a, null, d);
            break;
        case "together":
            qu(n, !1, null, null, void 0);
            break;
        default:
            n.memoizedState = null
        }
        return n.child
    }
    function xn(t, n, a) {
        if (t !== null && (n.dependencies = t.dependencies),
        li |= n.lanes,
        (a & n.childLanes) === 0)
            if (t !== null) {
                if (Pa(t, n, a, !1),
                (a & n.childLanes) === 0)
                    return null
            } else
                return null;
        if (t !== null && n.child !== t.child)
            throw Error(r(153));
        if (n.child !== null) {
            for (t = n.child,
            a = Sn(t, t.pendingProps),
            n.child = a,
            a.return = n; t.sibling !== null; )
                t = t.sibling,
                a = a.sibling = Sn(t, t.pendingProps),
                a.return = n;
            a.sibling = null
        }
        return n.child
    }
    function Vu(t, n) {
        return (t.lanes & n) !== 0 ? !0 : (t = t.dependencies,
        !!(t !== null && xl(t)))
    }
    function nS(t, n, a) {
        switch (n.tag) {
        case 3:
            oe(n, n.stateNode.containerInfo),
            Xn(n, Xe, t.memoizedState.cache),
            ja();
            break;
        case 27:
        case 5:
            $t(n);
            break;
        case 4:
            oe(n, n.stateNode.containerInfo);
            break;
        case 10:
            Xn(n, n.type, n.memoizedProps.value);
            break;
        case 13:
            var l = n.memoizedState;
            if (l !== null)
                return l.dehydrated !== null ? (ti(n),
                n.flags |= 128,
                null) : (a & n.child.childLanes) !== 0 ? Jm(t, n, a) : (ti(n),
                t = xn(t, n, a),
                t !== null ? t.sibling : null);
            ti(n);
            break;
        case 19:
            var u = (t.flags & 128) !== 0;
            if (l = (a & n.childLanes) !== 0,
            l || (Pa(t, n, a, !1),
            l = (a & n.childLanes) !== 0),
            u) {
                if (l)
                    return tg(t, n, a);
                n.flags |= 128
            }
            if (u = n.memoizedState,
            u !== null && (u.rendering = null,
            u.tail = null,
            u.lastEffect = null),
            V($e, $e.current),
            l)
                break;
            return null;
        case 22:
        case 23:
            return n.lanes = 0,
            Qm(t, n, a);
        case 24:
            Xn(n, Xe, t.memoizedState.cache)
        }
        return xn(t, n, a)
    }
    function ng(t, n, a) {
        if (t !== null)
            if (t.memoizedProps !== n.pendingProps)
                nt = !0;
            else {
                if (!Vu(t, a) && (n.flags & 128) === 0)
                    return nt = !1,
                    nS(t, n, a);
                nt = (t.flags & 131072) !== 0
            }
        else
            nt = !1,
            Ce && (n.flags & 1048576) !== 0 && Dp(n, Al, n.index);
        switch (n.lanes = 0,
        n.tag) {
        case 16:
            e: {
                t = n.pendingProps;
                var l = n.elementType
                  , u = l._init;
                if (l = u(l._payload),
                n.type = l,
                typeof l == "function")
                    Zc(l) ? (t = Ki(l, t),
                    n.tag = 1,
                    n = $m(null, n, l, t, a)) : (n.tag = 0,
                    n = ju(null, n, l, t, a));
                else {
                    if (l != null) {
                        if (u = l.$$typeof,
                        u === Q) {
                            n.tag = 11,
                            n = Ym(null, n, l, t, a);
                            break e
                        } else if (u === ye) {
                            n.tag = 14,
                            n = Fm(null, n, l, t, a);
                            break e
                        }
                    }
                    throw n = xt(l) || l,
                    Error(r(306, n, ""))
                }
            }
            return n;
        case 0:
            return ju(t, n, n.type, n.pendingProps, a);
        case 1:
            return l = n.type,
            u = Ki(l, n.pendingProps),
            $m(t, n, l, u, a);
        case 3:
            e: {
                if (oe(n, n.stateNode.containerInfo),
                t === null)
                    throw Error(r(387));
                l = n.pendingProps;
                var d = n.memoizedState;
                u = d.element,
                fu(t, n),
                Ya(n, l, null, a);
                var g = n.memoizedState;
                if (l = g.cache,
                Xn(n, Xe, l),
                l !== d.cache && ru(n, [Xe], a, !0),
                Ga(),
                l = g.element,
                d.isDehydrated)
                    if (d = {
                        element: l,
                        isDehydrated: !1,
                        cache: g.cache
                    },
                    n.updateQueue.baseState = d,
                    n.memoizedState = d,
                    n.flags & 256) {
                        n = Zm(t, n, l, a);
                        break e
                    } else if (l !== u) {
                        u = qt(Error(r(424)), n),
                        Ua(u),
                        n = Zm(t, n, l, a);
                        break e
                    } else {
                        switch (t = n.stateNode.containerInfo,
                        t.nodeType) {
                        case 9:
                            t = t.body;
                            break;
                        default:
                            t = t.nodeName === "HTML" ? t.ownerDocument.body : t
                        }
                        for (qe = tn(t.firstChild),
                        _t = n,
                        Ce = !0,
                        Bi = null,
                        fn = !0,
                        a = km(n, null, l, a),
                        n.child = a; a; )
                            a.flags = a.flags & -3 | 4096,
                            a = a.sibling
                    }
                else {
                    if (ja(),
                    l === u) {
                        n = xn(t, n, a);
                        break e
                    }
                    ot(t, n, l, a)
                }
                n = n.child
            }
            return n;
        case 26:
            return Ql(t, n),
            t === null ? (a = r_(n.type, null, n.pendingProps, null)) ? n.memoizedState = a : Ce || (a = n.type,
            t = n.pendingProps,
            l = co(ne.current).createElement(a),
            l[ft] = n,
            l[bt] = t,
            ut(l, a, t),
            tt(l),
            n.stateNode = l) : n.memoizedState = r_(n.type, t.memoizedProps, n.pendingProps, t.memoizedState),
            null;
        case 27:
            return $t(n),
            t === null && Ce && (l = n.stateNode = i_(n.type, n.pendingProps, ne.current),
            _t = n,
            fn = !0,
            u = qe,
            di(n.type) ? (Cd = u,
            qe = tn(l.firstChild)) : qe = u),
            ot(t, n, n.pendingProps.children, a),
            Ql(t, n),
            t === null && (n.flags |= 4194304),
            n.child;
        case 5:
            return t === null && Ce && ((u = l = qe) && (l = OS(l, n.type, n.pendingProps, fn),
            l !== null ? (n.stateNode = l,
            _t = n,
            qe = tn(l.firstChild),
            fn = !1,
            u = !0) : u = !1),
            u || qi(n)),
            $t(n),
            u = n.type,
            d = n.pendingProps,
            g = t !== null ? t.memoizedProps : null,
            l = d.children,
            yd(u, d) ? l = null : g !== null && yd(u, g) && (n.flags |= 32),
            n.memoizedState !== null && (u = vu(t, n, Qb, null, null, a),
            hr._currentValue = u),
            Ql(t, n),
            ot(t, n, l, a),
            n.child;
        case 6:
            return t === null && Ce && ((t = a = qe) && (a = IS(a, n.pendingProps, fn),
            a !== null ? (n.stateNode = a,
            _t = n,
            qe = null,
            t = !0) : t = !1),
            t || qi(n)),
            null;
        case 13:
            return Jm(t, n, a);
        case 4:
            return oe(n, n.stateNode.containerInfo),
            l = n.pendingProps,
            t === null ? n.child = Us(n, null, l, a) : ot(t, n, l, a),
            n.child;
        case 11:
            return Ym(t, n, n.type, n.pendingProps, a);
        case 7:
            return ot(t, n, n.pendingProps, a),
            n.child;
        case 8:
            return ot(t, n, n.pendingProps.children, a),
            n.child;
        case 12:
            return ot(t, n, n.pendingProps.children, a),
            n.child;
        case 10:
            return l = n.pendingProps,
            Xn(n, n.type, l.value),
            ot(t, n, l.children, a),
            n.child;
        case 9:
            return u = n.type._context,
            l = n.pendingProps.children,
            Gi(n),
            u = ht(u),
            l = l(u),
            n.flags |= 1,
            ot(t, n, l, a),
            n.child;
        case 14:
            return Fm(t, n, n.type, n.pendingProps, a);
        case 15:
            return Km(t, n, n.type, n.pendingProps, a);
        case 19:
            return tg(t, n, a);
        case 31:
            return l = n.pendingProps,
            a = n.mode,
            l = {
                mode: l.mode,
                children: l.children
            },
            t === null ? (a = Wl(l, a),
            a.ref = n.ref,
            n.child = a,
            a.return = n,
            n = a) : (a = Sn(t.child, l),
            a.ref = n.ref,
            n.child = a,
            a.return = n,
            n = a),
            n;
        case 22:
            return Qm(t, n, a);
        case 24:
            return Gi(n),
            l = ht(Xe),
            t === null ? (u = cu(),
            u === null && (u = ke,
            d = lu(),
            u.pooledCache = d,
            d.refCount++,
            d !== null && (u.pooledCacheLanes |= a),
            u = d),
            n.memoizedState = {
                parent: l,
                cache: u
            },
            du(n),
            Xn(n, Xe, u)) : ((t.lanes & a) !== 0 && (fu(t, n),
            Ya(n, null, null, a),
            Ga()),
            u = t.memoizedState,
            d = n.memoizedState,
            u.parent !== l ? (u = {
                parent: l,
                cache: l
            },
            n.memoizedState = u,
            n.lanes === 0 && (n.memoizedState = n.updateQueue.baseState = u),
            Xn(n, Xe, l)) : (l = d.cache,
            Xn(n, Xe, l),
            l !== u.cache && ru(n, [Xe], a, !0))),
            ot(t, n, n.pendingProps.children, a),
            n.child;
        case 29:
            throw n.pendingProps
        }
        throw Error(r(156, n.tag))
    }
    function On(t) {
        t.flags |= 4
    }
    function ig(t, n) {
        if (n.type !== "stylesheet" || (n.state.loading & 4) !== 0)
            t.flags &= -16777217;
        else if (t.flags |= 16777216,
        !d_(n)) {
            if (n = Ft.current,
            n !== null && ((Ee & 4194048) === Ee ? hn !== null : (Ee & 62914560) !== Ee && (Ee & 536870912) === 0 || n !== hn))
                throw qa = uu,
                Hp;
            t.flags |= 8192
        }
    }
    function Xl(t, n) {
        n !== null && (t.flags |= 4),
        t.flags & 16384 && (n = t.tag !== 22 ? Lh() : 536870912,
        t.lanes |= n,
        Bs |= n)
    }
    function Za(t, n) {
        if (!Ce)
            switch (t.tailMode) {
            case "hidden":
                n = t.tail;
                for (var a = null; n !== null; )
                    n.alternate !== null && (a = n),
                    n = n.sibling;
                a === null ? t.tail = null : a.sibling = null;
                break;
            case "collapsed":
                a = t.tail;
                for (var l = null; a !== null; )
                    a.alternate !== null && (l = a),
                    a = a.sibling;
                l === null ? n || t.tail === null ? t.tail = null : t.tail.sibling = null : l.sibling = null
            }
    }
    function He(t) {
        var n = t.alternate !== null && t.alternate.child === t.child
          , a = 0
          , l = 0;
        if (n)
            for (var u = t.child; u !== null; )
                a |= u.lanes | u.childLanes,
                l |= u.subtreeFlags & 65011712,
                l |= u.flags & 65011712,
                u.return = t,
                u = u.sibling;
        else
            for (u = t.child; u !== null; )
                a |= u.lanes | u.childLanes,
                l |= u.subtreeFlags,
                l |= u.flags,
                u.return = t,
                u = u.sibling;
        return t.subtreeFlags |= l,
        t.childLanes = a,
        n
    }
    function iS(t, n, a) {
        var l = n.pendingProps;
        switch (nu(n),
        n.tag) {
        case 31:
        case 16:
        case 15:
        case 0:
        case 11:
        case 7:
        case 8:
        case 12:
        case 9:
        case 14:
            return He(n),
            null;
        case 1:
            return He(n),
            null;
        case 3:
            return a = n.stateNode,
            l = null,
            t !== null && (l = t.memoizedState.cache),
            n.memoizedState.cache !== l && (n.flags |= 2048),
            Nn(Xe),
            Ue(),
            a.pendingContext && (a.context = a.pendingContext,
            a.pendingContext = null),
            (t === null || t.child === null) && (La(n) ? On(n) : t === null || t.memoizedState.isDehydrated && (n.flags & 256) === 0 || (n.flags |= 1024,
            Lp())),
            He(n),
            null;
        case 26:
            return a = n.memoizedState,
            t === null ? (On(n),
            a !== null ? (He(n),
            ig(n, a)) : (He(n),
            n.flags &= -16777217)) : a ? a !== t.memoizedState ? (On(n),
            He(n),
            ig(n, a)) : (He(n),
            n.flags &= -16777217) : (t.memoizedProps !== l && On(n),
            He(n),
            n.flags &= -16777217),
            null;
        case 27:
            zt(n),
            a = ne.current;
            var u = n.type;
            if (t !== null && n.stateNode != null)
                t.memoizedProps !== l && On(n);
            else {
                if (!l) {
                    if (n.stateNode === null)
                        throw Error(r(166));
                    return He(n),
                    null
                }
                t = $.current,
                La(n) ? Mp(n) : (t = i_(u, l, a),
                n.stateNode = t,
                On(n))
            }
            return He(n),
            null;
        case 5:
            if (zt(n),
            a = n.type,
            t !== null && n.stateNode != null)
                t.memoizedProps !== l && On(n);
            else {
                if (!l) {
                    if (n.stateNode === null)
                        throw Error(r(166));
                    return He(n),
                    null
                }
                if (t = $.current,
                La(n))
                    Mp(n);
                else {
                    switch (u = co(ne.current),
                    t) {
                    case 1:
                        t = u.createElementNS("http://www.w3.org/2000/svg", a);
                        break;
                    case 2:
                        t = u.createElementNS("http://www.w3.org/1998/Math/MathML", a);
                        break;
                    default:
                        switch (a) {
                        case "svg":
                            t = u.createElementNS("http://www.w3.org/2000/svg", a);
                            break;
                        case "math":
                            t = u.createElementNS("http://www.w3.org/1998/Math/MathML", a);
                            break;
                        case "script":
                            t = u.createElement("div"),
                            t.innerHTML = "<script><\/script>",
                            t = t.removeChild(t.firstChild);
                            break;
                        case "select":
                            t = typeof l.is == "string" ? u.createElement("select", {
                                is: l.is
                            }) : u.createElement("select"),
                            l.multiple ? t.multiple = !0 : l.size && (t.size = l.size);
                            break;
                        default:
                            t = typeof l.is == "string" ? u.createElement(a, {
                                is: l.is
                            }) : u.createElement(a)
                        }
                    }
                    t[ft] = n,
                    t[bt] = l;
                    e: for (u = n.child; u !== null; ) {
                        if (u.tag === 5 || u.tag === 6)
                            t.appendChild(u.stateNode);
                        else if (u.tag !== 4 && u.tag !== 27 && u.child !== null) {
                            u.child.return = u,
                            u = u.child;
                            continue
                        }
                        if (u === n)
                            break e;
                        for (; u.sibling === null; ) {
                            if (u.return === null || u.return === n)
                                break e;
                            u = u.return
                        }
                        u.sibling.return = u.return,
                        u = u.sibling
                    }
                    n.stateNode = t;
                    e: switch (ut(t, a, l),
                    a) {
                    case "button":
                    case "input":
                    case "select":
                    case "textarea":
                        t = !!l.autoFocus;
                        break e;
                    case "img":
                        t = !0;
                        break e;
                    default:
                        t = !1
                    }
                    t && On(n)
                }
            }
            return He(n),
            n.flags &= -16777217,
            null;
        case 6:
            if (t && n.stateNode != null)
                t.memoizedProps !== l && On(n);
            else {
                if (typeof l != "string" && n.stateNode === null)
                    throw Error(r(166));
                if (t = ne.current,
                La(n)) {
                    if (t = n.stateNode,
                    a = n.memoizedProps,
                    l = null,
                    u = _t,
                    u !== null)
                        switch (u.tag) {
                        case 27:
                        case 5:
                            l = u.memoizedProps
                        }
                    t[ft] = n,
                    t = !!(t.nodeValue === a || l !== null && l.suppressHydrationWarning === !0 || Xg(t.nodeValue, a)),
                    t || qi(n)
                } else
                    t = co(t).createTextNode(l),
                    t[ft] = n,
                    n.stateNode = t
            }
            return He(n),
            null;
        case 13:
            if (l = n.memoizedState,
            t === null || t.memoizedState !== null && t.memoizedState.dehydrated !== null) {
                if (u = La(n),
                l !== null && l.dehydrated !== null) {
                    if (t === null) {
                        if (!u)
                            throw Error(r(318));
                        if (u = n.memoizedState,
                        u = u !== null ? u.dehydrated : null,
                        !u)
                            throw Error(r(317));
                        u[ft] = n
                    } else
                        ja(),
                        (n.flags & 128) === 0 && (n.memoizedState = null),
                        n.flags |= 4;
                    He(n),
                    u = !1
                } else
                    u = Lp(),
                    t !== null && t.memoizedState !== null && (t.memoizedState.hydrationErrors = u),
                    u = !0;
                if (!u)
                    return n.flags & 256 ? (An(n),
                    n) : (An(n),
                    null)
            }
            if (An(n),
            (n.flags & 128) !== 0)
                return n.lanes = a,
                n;
            if (a = l !== null,
            t = t !== null && t.memoizedState !== null,
            a) {
                l = n.child,
                u = null,
                l.alternate !== null && l.alternate.memoizedState !== null && l.alternate.memoizedState.cachePool !== null && (u = l.alternate.memoizedState.cachePool.pool);
                var d = null;
                l.memoizedState !== null && l.memoizedState.cachePool !== null && (d = l.memoizedState.cachePool.pool),
                d !== u && (l.flags |= 2048)
            }
            return a !== t && a && (n.child.flags |= 8192),
            Xl(n, n.updateQueue),
            He(n),
            null;
        case 4:
            return Ue(),
            t === null && pd(n.stateNode.containerInfo),
            He(n),
            null;
        case 10:
            return Nn(n.type),
            He(n),
            null;
        case 19:
            if (q($e),
            u = n.memoizedState,
            u === null)
                return He(n),
                null;
            if (l = (n.flags & 128) !== 0,
            d = u.rendering,
            d === null)
                if (l)
                    Za(u, !1);
                else {
                    if (Ve !== 0 || t !== null && (t.flags & 128) !== 0)
                        for (t = n.child; t !== null; ) {
                            if (d = Yl(t),
                            d !== null) {
                                for (n.flags |= 128,
                                Za(u, !1),
                                t = d.updateQueue,
                                n.updateQueue = t,
                                Xl(n, t),
                                n.subtreeFlags = 0,
                                t = a,
                                a = n.child; a !== null; )
                                    Ip(a, t),
                                    a = a.sibling;
                                return V($e, $e.current & 1 | 2),
                                n.child
                            }
                            t = t.sibling
                        }
                    u.tail !== null && dn() > Jl && (n.flags |= 128,
                    l = !0,
                    Za(u, !1),
                    n.lanes = 4194304)
                }
            else {
                if (!l)
                    if (t = Yl(d),
                    t !== null) {
                        if (n.flags |= 128,
                        l = !0,
                        t = t.updateQueue,
                        n.updateQueue = t,
                        Xl(n, t),
                        Za(u, !0),
                        u.tail === null && u.tailMode === "hidden" && !d.alternate && !Ce)
                            return He(n),
                            null
                    } else
                        2 * dn() - u.renderingStartTime > Jl && a !== 536870912 && (n.flags |= 128,
                        l = !0,
                        Za(u, !1),
                        n.lanes = 4194304);
                u.isBackwards ? (d.sibling = n.child,
                n.child = d) : (t = u.last,
                t !== null ? t.sibling = d : n.child = d,
                u.last = d)
            }
            return u.tail !== null ? (n = u.tail,
            u.rendering = n,
            u.tail = n.sibling,
            u.renderingStartTime = dn(),
            n.sibling = null,
            t = $e.current,
            V($e, l ? t & 1 | 2 : t & 1),
            n) : (He(n),
            null);
        case 22:
        case 23:
            return An(n),
            gu(),
            l = n.memoizedState !== null,
            t !== null ? t.memoizedState !== null !== l && (n.flags |= 8192) : l && (n.flags |= 8192),
            l ? (a & 536870912) !== 0 && (n.flags & 128) === 0 && (He(n),
            n.subtreeFlags & 6 && (n.flags |= 8192)) : He(n),
            a = n.updateQueue,
            a !== null && Xl(n, a.retryQueue),
            a = null,
            t !== null && t.memoizedState !== null && t.memoizedState.cachePool !== null && (a = t.memoizedState.cachePool.pool),
            l = null,
            n.memoizedState !== null && n.memoizedState.cachePool !== null && (l = n.memoizedState.cachePool.pool),
            l !== a && (n.flags |= 2048),
            t !== null && q(Yi),
            null;
        case 24:
            return a = null,
            t !== null && (a = t.memoizedState.cache),
            n.memoizedState.cache !== a && (n.flags |= 2048),
            Nn(Xe),
            He(n),
            null;
        case 25:
            return null;
        case 30:
            return null
        }
        throw Error(r(156, n.tag))
    }
    function sS(t, n) {
        switch (nu(n),
        n.tag) {
        case 1:
            return t = n.flags,
            t & 65536 ? (n.flags = t & -65537 | 128,
            n) : null;
        case 3:
            return Nn(Xe),
            Ue(),
            t = n.flags,
            (t & 65536) !== 0 && (t & 128) === 0 ? (n.flags = t & -65537 | 128,
            n) : null;
        case 26:
        case 27:
        case 5:
            return zt(n),
            null;
        case 13:
            if (An(n),
            t = n.memoizedState,
            t !== null && t.dehydrated !== null) {
                if (n.alternate === null)
                    throw Error(r(340));
                ja()
            }
            return t = n.flags,
            t & 65536 ? (n.flags = t & -65537 | 128,
            n) : null;
        case 19:
            return q($e),
            null;
        case 4:
            return Ue(),
            null;
        case 10:
            return Nn(n.type),
            null;
        case 22:
        case 23:
            return An(n),
            gu(),
            t !== null && q(Yi),
            t = n.flags,
            t & 65536 ? (n.flags = t & -65537 | 128,
            n) : null;
        case 24:
            return Nn(Xe),
            null;
        case 25:
            return null;
        default:
            return null
        }
    }
    function sg(t, n) {
        switch (nu(n),
        n.tag) {
        case 3:
            Nn(Xe),
            Ue();
            break;
        case 26:
        case 27:
        case 5:
            zt(n);
            break;
        case 4:
            Ue();
            break;
        case 13:
            An(n);
            break;
        case 19:
            q($e);
            break;
        case 10:
            Nn(n.type);
            break;
        case 22:
        case 23:
            An(n),
            gu(),
            t !== null && q(Yi);
            break;
        case 24:
            Nn(Xe)
        }
    }
    function Ja(t, n) {
        try {
            var a = n.updateQueue
              , l = a !== null ? a.lastEffect : null;
            if (l !== null) {
                var u = l.next;
                a = u;
                do {
                    if ((a.tag & t) === t) {
                        l = void 0;
                        var d = a.create
                          , g = a.inst;
                        l = d(),
                        g.destroy = l
                    }
                    a = a.next
                } while (a !== u)
            }
        } catch (v) {
            De(n, n.return, v)
        }
    }
    function ii(t, n, a) {
        try {
            var l = n.updateQueue
              , u = l !== null ? l.lastEffect : null;
            if (u !== null) {
                var d = u.next;
                l = d;
                do {
                    if ((l.tag & t) === t) {
                        var g = l.inst
                          , v = g.destroy;
                        if (v !== void 0) {
                            g.destroy = void 0,
                            u = n;
                            var S = a
                              , O = v;
                            try {
                                O()
                            } catch (j) {
                                De(u, S, j)
                            }
                        }
                    }
                    l = l.next
                } while (l !== d)
            }
        } catch (j) {
            De(n, n.return, j)
        }
    }
    function ag(t) {
        var n = t.updateQueue;
        if (n !== null) {
            var a = t.stateNode;
            try {
                Fp(n, a)
            } catch (l) {
                De(t, t.return, l)
            }
        }
    }
    function rg(t, n, a) {
        a.props = Ki(t.type, t.memoizedProps),
        a.state = t.memoizedState;
        try {
            a.componentWillUnmount()
        } catch (l) {
            De(t, n, l)
        }
    }
    function er(t, n) {
        try {
            var a = t.ref;
            if (a !== null) {
                switch (t.tag) {
                case 26:
                case 27:
                case 5:
                    var l = t.stateNode;
                    break;
                case 30:
                    l = t.stateNode;
                    break;
                default:
                    l = t.stateNode
                }
                typeof a == "function" ? t.refCleanup = a(l) : a.current = l
            }
        } catch (u) {
            De(t, n, u)
        }
    }
    function pn(t, n) {
        var a = t.ref
          , l = t.refCleanup;
        if (a !== null)
            if (typeof l == "function")
                try {
                    l()
                } catch (u) {
                    De(t, n, u)
                } finally {
                    t.refCleanup = null,
                    t = t.alternate,
                    t != null && (t.refCleanup = null)
                }
            else if (typeof a == "function")
                try {
                    a(null)
                } catch (u) {
                    De(t, n, u)
                }
            else
                a.current = null
    }
    function lg(t) {
        var n = t.type
          , a = t.memoizedProps
          , l = t.stateNode;
        try {
            e: switch (n) {
            case "button":
            case "input":
            case "select":
            case "textarea":
                a.autoFocus && l.focus();
                break e;
            case "img":
                a.src ? l.src = a.src : a.srcSet && (l.srcset = a.srcSet)
            }
        } catch (u) {
            De(t, t.return, u)
        }
    }
    function Gu(t, n, a) {
        try {
            var l = t.stateNode;
            wS(l, t.type, a, n),
            l[bt] = n
        } catch (u) {
            De(t, t.return, u)
        }
    }
    function og(t) {
        return t.tag === 5 || t.tag === 3 || t.tag === 26 || t.tag === 27 && di(t.type) || t.tag === 4
    }
    function Yu(t) {
        e: for (; ; ) {
            for (; t.sibling === null; ) {
                if (t.return === null || og(t.return))
                    return null;
                t = t.return
            }
            for (t.sibling.return = t.return,
            t = t.sibling; t.tag !== 5 && t.tag !== 6 && t.tag !== 18; ) {
                if (t.tag === 27 && di(t.type) || t.flags & 2 || t.child === null || t.tag === 4)
                    continue e;
                t.child.return = t,
                t = t.child
            }
            if (!(t.flags & 2))
                return t.stateNode
        }
    }
    function Fu(t, n, a) {
        var l = t.tag;
        if (l === 5 || l === 6)
            t = t.stateNode,
            n ? (a.nodeType === 9 ? a.body : a.nodeName === "HTML" ? a.ownerDocument.body : a).insertBefore(t, n) : (n = a.nodeType === 9 ? a.body : a.nodeName === "HTML" ? a.ownerDocument.body : a,
            n.appendChild(t),
            a = a._reactRootContainer,
            a != null || n.onclick !== null || (n.onclick = oo));
        else if (l !== 4 && (l === 27 && di(t.type) && (a = t.stateNode,
        n = null),
        t = t.child,
        t !== null))
            for (Fu(t, n, a),
            t = t.sibling; t !== null; )
                Fu(t, n, a),
                t = t.sibling
    }
    function $l(t, n, a) {
        var l = t.tag;
        if (l === 5 || l === 6)
            t = t.stateNode,
            n ? a.insertBefore(t, n) : a.appendChild(t);
        else if (l !== 4 && (l === 27 && di(t.type) && (a = t.stateNode),
        t = t.child,
        t !== null))
            for ($l(t, n, a),
            t = t.sibling; t !== null; )
                $l(t, n, a),
                t = t.sibling
    }
    function cg(t) {
        var n = t.stateNode
          , a = t.memoizedProps;
        try {
            for (var l = t.type, u = n.attributes; u.length; )
                n.removeAttributeNode(u[0]);
            ut(n, l, a),
            n[ft] = t,
            n[bt] = a
        } catch (d) {
            De(t, t.return, d)
        }
    }
    var In = !1
      , Ke = !1
      , Ku = !1
      , ug = typeof WeakSet == "function" ? WeakSet : Set
      , it = null;
    function aS(t, n) {
        if (t = t.containerInfo,
        _d = go,
        t = bp(t),
        Yc(t)) {
            if ("selectionStart"in t)
                var a = {
                    start: t.selectionStart,
                    end: t.selectionEnd
                };
            else
                e: {
                    a = (a = t.ownerDocument) && a.defaultView || window;
                    var l = a.getSelection && a.getSelection();
                    if (l && l.rangeCount !== 0) {
                        a = l.anchorNode;
                        var u = l.anchorOffset
                          , d = l.focusNode;
                        l = l.focusOffset;
                        try {
                            a.nodeType,
                            d.nodeType
                        } catch {
                            a = null;
                            break e
                        }
                        var g = 0
                          , v = -1
                          , S = -1
                          , O = 0
                          , j = 0
                          , P = t
                          , I = null;
                        t: for (; ; ) {
                            for (var M; P !== a || u !== 0 && P.nodeType !== 3 || (v = g + u),
                            P !== d || l !== 0 && P.nodeType !== 3 || (S = g + l),
                            P.nodeType === 3 && (g += P.nodeValue.length),
                            (M = P.firstChild) !== null; )
                                I = P,
                                P = M;
                            for (; ; ) {
                                if (P === t)
                                    break t;
                                if (I === a && ++O === u && (v = g),
                                I === d && ++j === l && (S = g),
                                (M = P.nextSibling) !== null)
                                    break;
                                P = I,
                                I = P.parentNode
                            }
                            P = M
                        }
                        a = v === -1 || S === -1 ? null : {
                            start: v,
                            end: S
                        }
                    } else
                        a = null
                }
            a = a || {
                start: 0,
                end: 0
            }
        } else
            a = null;
        for (vd = {
            focusedElem: t,
            selectionRange: a
        },
        go = !1,
        it = n; it !== null; )
            if (n = it,
            t = n.child,
            (n.subtreeFlags & 1024) !== 0 && t !== null)
                t.return = n,
                it = t;
            else
                for (; it !== null; ) {
                    switch (n = it,
                    d = n.alternate,
                    t = n.flags,
                    n.tag) {
                    case 0:
                        break;
                    case 11:
                    case 15:
                        break;
                    case 1:
                        if ((t & 1024) !== 0 && d !== null) {
                            t = void 0,
                            a = n,
                            u = d.memoizedProps,
                            d = d.memoizedState,
                            l = a.stateNode;
                            try {
                                var ae = Ki(a.type, u, a.elementType === a.type);
                                t = l.getSnapshotBeforeUpdate(ae, d),
                                l.__reactInternalSnapshotBeforeUpdate = t
                            } catch (ee) {
                                De(a, a.return, ee)
                            }
                        }
                        break;
                    case 3:
                        if ((t & 1024) !== 0) {
                            if (t = n.stateNode.containerInfo,
                            a = t.nodeType,
                            a === 9)
                                bd(t);
                            else if (a === 1)
                                switch (t.nodeName) {
                                case "HEAD":
                                case "HTML":
                                case "BODY":
                                    bd(t);
                                    break;
                                default:
                                    t.textContent = ""
                                }
                        }
                        break;
                    case 5:
                    case 26:
                    case 27:
                    case 6:
                    case 4:
                    case 17:
                        break;
                    default:
                        if ((t & 1024) !== 0)
                            throw Error(r(163))
                    }
                    if (t = n.sibling,
                    t !== null) {
                        t.return = n.return,
                        it = t;
                        break
                    }
                    it = n.return
                }
    }
    function dg(t, n, a) {
        var l = a.flags;
        switch (a.tag) {
        case 0:
        case 11:
        case 15:
            si(t, a),
            l & 4 && Ja(5, a);
            break;
        case 1:
            if (si(t, a),
            l & 4)
                if (t = a.stateNode,
                n === null)
                    try {
                        t.componentDidMount()
                    } catch (g) {
                        De(a, a.return, g)
                    }
                else {
                    var u = Ki(a.type, n.memoizedProps);
                    n = n.memoizedState;
                    try {
                        t.componentDidUpdate(u, n, t.__reactInternalSnapshotBeforeUpdate)
                    } catch (g) {
                        De(a, a.return, g)
                    }
                }
            l & 64 && ag(a),
            l & 512 && er(a, a.return);
            break;
        case 3:
            if (si(t, a),
            l & 64 && (t = a.updateQueue,
            t !== null)) {
                if (n = null,
                a.child !== null)
                    switch (a.child.tag) {
                    case 27:
                    case 5:
                        n = a.child.stateNode;
                        break;
                    case 1:
                        n = a.child.stateNode
                    }
                try {
                    Fp(t, n)
                } catch (g) {
                    De(a, a.return, g)
                }
            }
            break;
        case 27:
            n === null && l & 4 && cg(a);
        case 26:
        case 5:
            si(t, a),
            n === null && l & 4 && lg(a),
            l & 512 && er(a, a.return);
            break;
        case 12:
            si(t, a);
            break;
        case 13:
            si(t, a),
            l & 4 && pg(t, a),
            l & 64 && (t = a.memoizedState,
            t !== null && (t = t.dehydrated,
            t !== null && (a = pS.bind(null, a),
            DS(t, a))));
            break;
        case 22:
            if (l = a.memoizedState !== null || In,
            !l) {
                n = n !== null && n.memoizedState !== null || Ke,
                u = In;
                var d = Ke;
                In = l,
                (Ke = n) && !d ? ai(t, a, (a.subtreeFlags & 8772) !== 0) : si(t, a),
                In = u,
                Ke = d
            }
            break;
        case 30:
            break;
        default:
            si(t, a)
        }
    }
    function fg(t) {
        var n = t.alternate;
        n !== null && (t.alternate = null,
        fg(n)),
        t.child = null,
        t.deletions = null,
        t.sibling = null,
        t.tag === 5 && (n = t.stateNode,
        n !== null && Nc(n)),
        t.stateNode = null,
        t.return = null,
        t.dependencies = null,
        t.memoizedProps = null,
        t.memoizedState = null,
        t.pendingProps = null,
        t.stateNode = null,
        t.updateQueue = null
    }
    var Pe = null
      , Tt = !1;
    function Dn(t, n, a) {
        for (a = a.child; a !== null; )
            hg(t, n, a),
            a = a.sibling
    }
    function hg(t, n, a) {
        if (Ot && typeof Ot.onCommitFiberUnmount == "function")
            try {
                Ot.onCommitFiberUnmount(ba, a)
            } catch {}
        switch (a.tag) {
        case 26:
            Ke || pn(a, n),
            Dn(t, n, a),
            a.memoizedState ? a.memoizedState.count-- : a.stateNode && (a = a.stateNode,
            a.parentNode.removeChild(a));
            break;
        case 27:
            Ke || pn(a, n);
            var l = Pe
              , u = Tt;
            di(a.type) && (Pe = a.stateNode,
            Tt = !1),
            Dn(t, n, a),
            cr(a.stateNode),
            Pe = l,
            Tt = u;
            break;
        case 5:
            Ke || pn(a, n);
        case 6:
            if (l = Pe,
            u = Tt,
            Pe = null,
            Dn(t, n, a),
            Pe = l,
            Tt = u,
            Pe !== null)
                if (Tt)
                    try {
                        (Pe.nodeType === 9 ? Pe.body : Pe.nodeName === "HTML" ? Pe.ownerDocument.body : Pe).removeChild(a.stateNode)
                    } catch (d) {
                        De(a, n, d)
                    }
                else
                    try {
                        Pe.removeChild(a.stateNode)
                    } catch (d) {
                        De(a, n, d)
                    }
            break;
        case 18:
            Pe !== null && (Tt ? (t = Pe,
            t_(t.nodeType === 9 ? t.body : t.nodeName === "HTML" ? t.ownerDocument.body : t, a.stateNode),
            _r(t)) : t_(Pe, a.stateNode));
            break;
        case 4:
            l = Pe,
            u = Tt,
            Pe = a.stateNode.containerInfo,
            Tt = !0,
            Dn(t, n, a),
            Pe = l,
            Tt = u;
            break;
        case 0:
        case 11:
        case 14:
        case 15:
            Ke || ii(2, a, n),
            Ke || ii(4, a, n),
            Dn(t, n, a);
            break;
        case 1:
            Ke || (pn(a, n),
            l = a.stateNode,
            typeof l.componentWillUnmount == "function" && rg(a, n, l)),
            Dn(t, n, a);
            break;
        case 21:
            Dn(t, n, a);
            break;
        case 22:
            Ke = (l = Ke) || a.memoizedState !== null,
            Dn(t, n, a),
            Ke = l;
            break;
        default:
            Dn(t, n, a)
        }
    }
    function pg(t, n) {
        if (n.memoizedState === null && (t = n.alternate,
        t !== null && (t = t.memoizedState,
        t !== null && (t = t.dehydrated,
        t !== null))))
            try {
                _r(t)
            } catch (a) {
                De(n, n.return, a)
            }
    }
    function rS(t) {
        switch (t.tag) {
        case 13:
        case 19:
            var n = t.stateNode;
            return n === null && (n = t.stateNode = new ug),
            n;
        case 22:
            return t = t.stateNode,
            n = t._retryCache,
            n === null && (n = t._retryCache = new ug),
            n;
        default:
            throw Error(r(435, t.tag))
        }
    }
    function Qu(t, n) {
        var a = rS(t);
        n.forEach(function(l) {
            var u = mS.bind(null, t, l);
            a.has(l) || (a.add(l),
            l.then(u, u))
        })
    }
    function kt(t, n) {
        var a = n.deletions;
        if (a !== null)
            for (var l = 0; l < a.length; l++) {
                var u = a[l]
                  , d = t
                  , g = n
                  , v = g;
                e: for (; v !== null; ) {
                    switch (v.tag) {
                    case 27:
                        if (di(v.type)) {
                            Pe = v.stateNode,
                            Tt = !1;
                            break e
                        }
                        break;
                    case 5:
                        Pe = v.stateNode,
                        Tt = !1;
                        break e;
                    case 3:
                    case 4:
                        Pe = v.stateNode.containerInfo,
                        Tt = !0;
                        break e
                    }
                    v = v.return
                }
                if (Pe === null)
                    throw Error(r(160));
                hg(d, g, u),
                Pe = null,
                Tt = !1,
                d = u.alternate,
                d !== null && (d.return = null),
                u.return = null
            }
        if (n.subtreeFlags & 13878)
            for (n = n.child; n !== null; )
                mg(n, t),
                n = n.sibling
    }
    var en = null;
    function mg(t, n) {
        var a = t.alternate
          , l = t.flags;
        switch (t.tag) {
        case 0:
        case 11:
        case 14:
        case 15:
            kt(n, t),
            Lt(t),
            l & 4 && (ii(3, t, t.return),
            Ja(3, t),
            ii(5, t, t.return));
            break;
        case 1:
            kt(n, t),
            Lt(t),
            l & 512 && (Ke || a === null || pn(a, a.return)),
            l & 64 && In && (t = t.updateQueue,
            t !== null && (l = t.callbacks,
            l !== null && (a = t.shared.hiddenCallbacks,
            t.shared.hiddenCallbacks = a === null ? l : a.concat(l))));
            break;
        case 26:
            var u = en;
            if (kt(n, t),
            Lt(t),
            l & 512 && (Ke || a === null || pn(a, a.return)),
            l & 4) {
                var d = a !== null ? a.memoizedState : null;
                if (l = t.memoizedState,
                a === null)
                    if (l === null)
                        if (t.stateNode === null) {
                            e: {
                                l = t.type,
                                a = t.memoizedProps,
                                u = u.ownerDocument || u;
                                t: switch (l) {
                                case "title":
                                    d = u.getElementsByTagName("title")[0],
                                    (!d || d[Ta] || d[ft] || d.namespaceURI === "http://www.w3.org/2000/svg" || d.hasAttribute("itemprop")) && (d = u.createElement(l),
                                    u.head.insertBefore(d, u.querySelector("head > title"))),
                                    ut(d, l, a),
                                    d[ft] = t,
                                    tt(d),
                                    l = d;
                                    break e;
                                case "link":
                                    var g = c_("link", "href", u).get(l + (a.href || ""));
                                    if (g) {
                                        for (var v = 0; v < g.length; v++)
                                            if (d = g[v],
                                            d.getAttribute("href") === (a.href == null || a.href === "" ? null : a.href) && d.getAttribute("rel") === (a.rel == null ? null : a.rel) && d.getAttribute("title") === (a.title == null ? null : a.title) && d.getAttribute("crossorigin") === (a.crossOrigin == null ? null : a.crossOrigin)) {
                                                g.splice(v, 1);
                                                break t
                                            }
                                    }
                                    d = u.createElement(l),
                                    ut(d, l, a),
                                    u.head.appendChild(d);
                                    break;
                                case "meta":
                                    if (g = c_("meta", "content", u).get(l + (a.content || ""))) {
                                        for (v = 0; v < g.length; v++)
                                            if (d = g[v],
                                            d.getAttribute("content") === (a.content == null ? null : "" + a.content) && d.getAttribute("name") === (a.name == null ? null : a.name) && d.getAttribute("property") === (a.property == null ? null : a.property) && d.getAttribute("http-equiv") === (a.httpEquiv == null ? null : a.httpEquiv) && d.getAttribute("charset") === (a.charSet == null ? null : a.charSet)) {
                                                g.splice(v, 1);
                                                break t
                                            }
                                    }
                                    d = u.createElement(l),
                                    ut(d, l, a),
                                    u.head.appendChild(d);
                                    break;
                                default:
                                    throw Error(r(468, l))
                                }
                                d[ft] = t,
                                tt(d),
                                l = d
                            }
                            t.stateNode = l
                        } else
                            u_(u, t.type, t.stateNode);
                    else
                        t.stateNode = o_(u, l, t.memoizedProps);
                else
                    d !== l ? (d === null ? a.stateNode !== null && (a = a.stateNode,
                    a.parentNode.removeChild(a)) : d.count--,
                    l === null ? u_(u, t.type, t.stateNode) : o_(u, l, t.memoizedProps)) : l === null && t.stateNode !== null && Gu(t, t.memoizedProps, a.memoizedProps)
            }
            break;
        case 27:
            kt(n, t),
            Lt(t),
            l & 512 && (Ke || a === null || pn(a, a.return)),
            a !== null && l & 4 && Gu(t, t.memoizedProps, a.memoizedProps);
            break;
        case 5:
            if (kt(n, t),
            Lt(t),
            l & 512 && (Ke || a === null || pn(a, a.return)),
            t.flags & 32) {
                u = t.stateNode;
                try {
                    ys(u, "")
                } catch (M) {
                    De(t, t.return, M)
                }
            }
            l & 4 && t.stateNode != null && (u = t.memoizedProps,
            Gu(t, u, a !== null ? a.memoizedProps : u)),
            l & 1024 && (Ku = !0);
            break;
        case 6:
            if (kt(n, t),
            Lt(t),
            l & 4) {
                if (t.stateNode === null)
                    throw Error(r(162));
                l = t.memoizedProps,
                a = t.stateNode;
                try {
                    a.nodeValue = l
                } catch (M) {
                    De(t, t.return, M)
                }
            }
            break;
        case 3:
            if (ho = null,
            u = en,
            en = uo(n.containerInfo),
            kt(n, t),
            en = u,
            Lt(t),
            l & 4 && a !== null && a.memoizedState.isDehydrated)
                try {
                    _r(n.containerInfo)
                } catch (M) {
                    De(t, t.return, M)
                }
            Ku && (Ku = !1,
            gg(t));
            break;
        case 4:
            l = en,
            en = uo(t.stateNode.containerInfo),
            kt(n, t),
            Lt(t),
            en = l;
            break;
        case 12:
            kt(n, t),
            Lt(t);
            break;
        case 13:
            kt(n, t),
            Lt(t),
            t.child.flags & 8192 && t.memoizedState !== null != (a !== null && a.memoizedState !== null) && (ed = dn()),
            l & 4 && (l = t.updateQueue,
            l !== null && (t.updateQueue = null,
            Qu(t, l)));
            break;
        case 22:
            u = t.memoizedState !== null;
            var S = a !== null && a.memoizedState !== null
              , O = In
              , j = Ke;
            if (In = O || u,
            Ke = j || S,
            kt(n, t),
            Ke = j,
            In = O,
            Lt(t),
            l & 8192)
                e: for (n = t.stateNode,
                n._visibility = u ? n._visibility & -2 : n._visibility | 1,
                u && (a === null || S || In || Ke || Qi(t)),
                a = null,
                n = t; ; ) {
                    if (n.tag === 5 || n.tag === 26) {
                        if (a === null) {
                            S = a = n;
                            try {
                                if (d = S.stateNode,
                                u)
                                    g = d.style,
                                    typeof g.setProperty == "function" ? g.setProperty("display", "none", "important") : g.display = "none";
                                else {
                                    v = S.stateNode;
                                    var P = S.memoizedProps.style
                                      , I = P != null && P.hasOwnProperty("display") ? P.display : null;
                                    v.style.display = I == null || typeof I == "boolean" ? "" : ("" + I).trim()
                                }
                            } catch (M) {
                                De(S, S.return, M)
                            }
                        }
                    } else if (n.tag === 6) {
                        if (a === null) {
                            S = n;
                            try {
                                S.stateNode.nodeValue = u ? "" : S.memoizedProps
                            } catch (M) {
                                De(S, S.return, M)
                            }
                        }
                    } else if ((n.tag !== 22 && n.tag !== 23 || n.memoizedState === null || n === t) && n.child !== null) {
                        n.child.return = n,
                        n = n.child;
                        continue
                    }
                    if (n === t)
                        break e;
                    for (; n.sibling === null; ) {
                        if (n.return === null || n.return === t)
                            break e;
                        a === n && (a = null),
                        n = n.return
                    }
                    a === n && (a = null),
                    n.sibling.return = n.return,
                    n = n.sibling
                }
            l & 4 && (l = t.updateQueue,
            l !== null && (a = l.retryQueue,
            a !== null && (l.retryQueue = null,
            Qu(t, a))));
            break;
        case 19:
            kt(n, t),
            Lt(t),
            l & 4 && (l = t.updateQueue,
            l !== null && (t.updateQueue = null,
            Qu(t, l)));
            break;
        case 30:
            break;
        case 21:
            break;
        default:
            kt(n, t),
            Lt(t)
        }
    }
    function Lt(t) {
        var n = t.flags;
        if (n & 2) {
            try {
                for (var a, l = t.return; l !== null; ) {
                    if (og(l)) {
                        a = l;
                        break
                    }
                    l = l.return
                }
                if (a == null)
                    throw Error(r(160));
                switch (a.tag) {
                case 27:
                    var u = a.stateNode
                      , d = Yu(t);
                    $l(t, d, u);
                    break;
                case 5:
                    var g = a.stateNode;
                    a.flags & 32 && (ys(g, ""),
                    a.flags &= -33);
                    var v = Yu(t);
                    $l(t, v, g);
                    break;
                case 3:
                case 4:
                    var S = a.stateNode.containerInfo
                      , O = Yu(t);
                    Fu(t, O, S);
                    break;
                default:
                    throw Error(r(161))
                }
            } catch (j) {
                De(t, t.return, j)
            }
            t.flags &= -3
        }
        n & 4096 && (t.flags &= -4097)
    }
    function gg(t) {
        if (t.subtreeFlags & 1024)
            for (t = t.child; t !== null; ) {
                var n = t;
                gg(n),
                n.tag === 5 && n.flags & 1024 && n.stateNode.reset(),
                t = t.sibling
            }
    }
    function si(t, n) {
        if (n.subtreeFlags & 8772)
            for (n = n.child; n !== null; )
                dg(t, n.alternate, n),
                n = n.sibling
    }
    function Qi(t) {
        for (t = t.child; t !== null; ) {
            var n = t;
            switch (n.tag) {
            case 0:
            case 11:
            case 14:
            case 15:
                ii(4, n, n.return),
                Qi(n);
                break;
            case 1:
                pn(n, n.return);
                var a = n.stateNode;
                typeof a.componentWillUnmount == "function" && rg(n, n.return, a),
                Qi(n);
                break;
            case 27:
                cr(n.stateNode);
            case 26:
            case 5:
                pn(n, n.return),
                Qi(n);
                break;
            case 22:
                n.memoizedState === null && Qi(n);
                break;
            case 30:
                Qi(n);
                break;
            default:
                Qi(n)
            }
            t = t.sibling
        }
    }
    function ai(t, n, a) {
        for (a = a && (n.subtreeFlags & 8772) !== 0,
        n = n.child; n !== null; ) {
            var l = n.alternate
              , u = t
              , d = n
              , g = d.flags;
            switch (d.tag) {
            case 0:
            case 11:
            case 15:
                ai(u, d, a),
                Ja(4, d);
                break;
            case 1:
                if (ai(u, d, a),
                l = d,
                u = l.stateNode,
                typeof u.componentDidMount == "function")
                    try {
                        u.componentDidMount()
                    } catch (O) {
                        De(l, l.return, O)
                    }
                if (l = d,
                u = l.updateQueue,
                u !== null) {
                    var v = l.stateNode;
                    try {
                        var S = u.shared.hiddenCallbacks;
                        if (S !== null)
                            for (u.shared.hiddenCallbacks = null,
                            u = 0; u < S.length; u++)
                                Yp(S[u], v)
                    } catch (O) {
                        De(l, l.return, O)
                    }
                }
                a && g & 64 && ag(d),
                er(d, d.return);
                break;
            case 27:
                cg(d);
            case 26:
            case 5:
                ai(u, d, a),
                a && l === null && g & 4 && lg(d),
                er(d, d.return);
                break;
            case 12:
                ai(u, d, a);
                break;
            case 13:
                ai(u, d, a),
                a && g & 4 && pg(u, d);
                break;
            case 22:
                d.memoizedState === null && ai(u, d, a),
                er(d, d.return);
                break;
            case 30:
                break;
            default:
                ai(u, d, a)
            }
            n = n.sibling
        }
    }
    function Wu(t, n) {
        var a = null;
        t !== null && t.memoizedState !== null && t.memoizedState.cachePool !== null && (a = t.memoizedState.cachePool.pool),
        t = null,
        n.memoizedState !== null && n.memoizedState.cachePool !== null && (t = n.memoizedState.cachePool.pool),
        t !== a && (t != null && t.refCount++,
        a != null && za(a))
    }
    function Xu(t, n) {
        t = null,
        n.alternate !== null && (t = n.alternate.memoizedState.cache),
        n = n.memoizedState.cache,
        n !== t && (n.refCount++,
        t != null && za(t))
    }
    function mn(t, n, a, l) {
        if (n.subtreeFlags & 10256)
            for (n = n.child; n !== null; )
                _g(t, n, a, l),
                n = n.sibling
    }
    function _g(t, n, a, l) {
        var u = n.flags;
        switch (n.tag) {
        case 0:
        case 11:
        case 15:
            mn(t, n, a, l),
            u & 2048 && Ja(9, n);
            break;
        case 1:
            mn(t, n, a, l);
            break;
        case 3:
            mn(t, n, a, l),
            u & 2048 && (t = null,
            n.alternate !== null && (t = n.alternate.memoizedState.cache),
            n = n.memoizedState.cache,
            n !== t && (n.refCount++,
            t != null && za(t)));
            break;
        case 12:
            if (u & 2048) {
                mn(t, n, a, l),
                t = n.stateNode;
                try {
                    var d = n.memoizedProps
                      , g = d.id
                      , v = d.onPostCommit;
                    typeof v == "function" && v(g, n.alternate === null ? "mount" : "update", t.passiveEffectDuration, -0)
                } catch (S) {
                    De(n, n.return, S)
                }
            } else
                mn(t, n, a, l);
            break;
        case 13:
            mn(t, n, a, l);
            break;
        case 23:
            break;
        case 22:
            d = n.stateNode,
            g = n.alternate,
            n.memoizedState !== null ? d._visibility & 2 ? mn(t, n, a, l) : tr(t, n) : d._visibility & 2 ? mn(t, n, a, l) : (d._visibility |= 2,
            Ps(t, n, a, l, (n.subtreeFlags & 10256) !== 0)),
            u & 2048 && Wu(g, n);
            break;
        case 24:
            mn(t, n, a, l),
            u & 2048 && Xu(n.alternate, n);
            break;
        default:
            mn(t, n, a, l)
        }
    }
    function Ps(t, n, a, l, u) {
        for (u = u && (n.subtreeFlags & 10256) !== 0,
        n = n.child; n !== null; ) {
            var d = t
              , g = n
              , v = a
              , S = l
              , O = g.flags;
            switch (g.tag) {
            case 0:
            case 11:
            case 15:
                Ps(d, g, v, S, u),
                Ja(8, g);
                break;
            case 23:
                break;
            case 22:
                var j = g.stateNode;
                g.memoizedState !== null ? j._visibility & 2 ? Ps(d, g, v, S, u) : tr(d, g) : (j._visibility |= 2,
                Ps(d, g, v, S, u)),
                u && O & 2048 && Wu(g.alternate, g);
                break;
            case 24:
                Ps(d, g, v, S, u),
                u && O & 2048 && Xu(g.alternate, g);
                break;
            default:
                Ps(d, g, v, S, u)
            }
            n = n.sibling
        }
    }
    function tr(t, n) {
        if (n.subtreeFlags & 10256)
            for (n = n.child; n !== null; ) {
                var a = t
                  , l = n
                  , u = l.flags;
                switch (l.tag) {
                case 22:
                    tr(a, l),
                    u & 2048 && Wu(l.alternate, l);
                    break;
                case 24:
                    tr(a, l),
                    u & 2048 && Xu(l.alternate, l);
                    break;
                default:
                    tr(a, l)
                }
                n = n.sibling
            }
    }
    var nr = 8192;
    function zs(t) {
        if (t.subtreeFlags & nr)
            for (t = t.child; t !== null; )
                vg(t),
                t = t.sibling
    }
    function vg(t) {
        switch (t.tag) {
        case 26:
            zs(t),
            t.flags & nr && t.memoizedState !== null && YS(en, t.memoizedState, t.memoizedProps);
            break;
        case 5:
            zs(t);
            break;
        case 3:
        case 4:
            var n = en;
            en = uo(t.stateNode.containerInfo),
            zs(t),
            en = n;
            break;
        case 22:
            t.memoizedState === null && (n = t.alternate,
            n !== null && n.memoizedState !== null ? (n = nr,
            nr = 16777216,
            zs(t),
            nr = n) : zs(t));
            break;
        default:
            zs(t)
        }
    }
    function yg(t) {
        var n = t.alternate;
        if (n !== null && (t = n.child,
        t !== null)) {
            n.child = null;
            do
                n = t.sibling,
                t.sibling = null,
                t = n;
            while (t !== null)
        }
    }
    function ir(t) {
        var n = t.deletions;
        if ((t.flags & 16) !== 0) {
            if (n !== null)
                for (var a = 0; a < n.length; a++) {
                    var l = n[a];
                    it = l,
                    bg(l, t)
                }
            yg(t)
        }
        if (t.subtreeFlags & 10256)
            for (t = t.child; t !== null; )
                Eg(t),
                t = t.sibling
    }
    function Eg(t) {
        switch (t.tag) {
        case 0:
        case 11:
        case 15:
            ir(t),
            t.flags & 2048 && ii(9, t, t.return);
            break;
        case 3:
            ir(t);
            break;
        case 12:
            ir(t);
            break;
        case 22:
            var n = t.stateNode;
            t.memoizedState !== null && n._visibility & 2 && (t.return === null || t.return.tag !== 13) ? (n._visibility &= -3,
            Zl(t)) : ir(t);
            break;
        default:
            ir(t)
        }
    }
    function Zl(t) {
        var n = t.deletions;
        if ((t.flags & 16) !== 0) {
            if (n !== null)
                for (var a = 0; a < n.length; a++) {
                    var l = n[a];
                    it = l,
                    bg(l, t)
                }
            yg(t)
        }
        for (t = t.child; t !== null; ) {
            switch (n = t,
            n.tag) {
            case 0:
            case 11:
            case 15:
                ii(8, n, n.return),
                Zl(n);
                break;
            case 22:
                a = n.stateNode,
                a._visibility & 2 && (a._visibility &= -3,
                Zl(n));
                break;
            default:
                Zl(n)
            }
            t = t.sibling
        }
    }
    function bg(t, n) {
        for (; it !== null; ) {
            var a = it;
            switch (a.tag) {
            case 0:
            case 11:
            case 15:
                ii(8, a, n);
                break;
            case 23:
            case 22:
                if (a.memoizedState !== null && a.memoizedState.cachePool !== null) {
                    var l = a.memoizedState.cachePool.pool;
                    l != null && l.refCount++
                }
                break;
            case 24:
                za(a.memoizedState.cache)
            }
            if (l = a.child,
            l !== null)
                l.return = a,
                it = l;
            else
                e: for (a = t; it !== null; ) {
                    l = it;
                    var u = l.sibling
                      , d = l.return;
                    if (fg(l),
                    l === a) {
                        it = null;
                        break e
                    }
                    if (u !== null) {
                        u.return = d,
                        it = u;
                        break e
                    }
                    it = d
                }
        }
    }
    var lS = {
        getCacheForType: function(t) {
            var n = ht(Xe)
              , a = n.data.get(t);
            return a === void 0 && (a = t(),
            n.data.set(t, a)),
            a
        }
    }
      , oS = typeof WeakMap == "function" ? WeakMap : Map
      , we = 0
      , ke = null
      , he = null
      , Ee = 0
      , Ne = 0
      , jt = null
      , ri = !1
      , Hs = !1
      , $u = !1
      , Mn = 0
      , Ve = 0
      , li = 0
      , Wi = 0
      , Zu = 0
      , Kt = 0
      , Bs = 0
      , sr = null
      , wt = null
      , Ju = !1
      , ed = 0
      , Jl = 1 / 0
      , eo = null
      , oi = null
      , ct = 0
      , ci = null
      , qs = null
      , Vs = 0
      , td = 0
      , nd = null
      , Sg = null
      , ar = 0
      , id = null;
    function Ut() {
        if ((we & 2) !== 0 && Ee !== 0)
            return Ee & -Ee;
        if (L.T !== null) {
            var t = Os;
            return t !== 0 ? t : ud()
        }
        return Ph()
    }
    function Cg() {
        Kt === 0 && (Kt = (Ee & 536870912) === 0 || Ce ? kh() : 536870912);
        var t = Ft.current;
        return t !== null && (t.flags |= 32),
        Kt
    }
    function Pt(t, n, a) {
        (t === ke && (Ne === 2 || Ne === 9) || t.cancelPendingCommit !== null) && (Gs(t, 0),
        ui(t, Ee, Kt, !1)),
        Ca(t, a),
        ((we & 2) === 0 || t !== ke) && (t === ke && ((we & 2) === 0 && (Wi |= a),
        Ve === 4 && ui(t, Ee, Kt, !1)),
        gn(t))
    }
    function Tg(t, n, a) {
        if ((we & 6) !== 0)
            throw Error(r(327));
        var l = !a && (n & 124) === 0 && (n & t.expiredLanes) === 0 || Sa(t, n)
          , u = l ? dS(t, n) : rd(t, n, !0)
          , d = l;
        do {
            if (u === 0) {
                Hs && !l && ui(t, n, 0, !1);
                break
            } else {
                if (a = t.current.alternate,
                d && !cS(a)) {
                    u = rd(t, n, !1),
                    d = !1;
                    continue
                }
                if (u === 2) {
                    if (d = n,
                    t.errorRecoveryDisabledLanes & d)
                        var g = 0;
                    else
                        g = t.pendingLanes & -536870913,
                        g = g !== 0 ? g : g & 536870912 ? 536870912 : 0;
                    if (g !== 0) {
                        n = g;
                        e: {
                            var v = t;
                            u = sr;
                            var S = v.current.memoizedState.isDehydrated;
                            if (S && (Gs(v, g).flags |= 256),
                            g = rd(v, g, !1),
                            g !== 2) {
                                if ($u && !S) {
                                    v.errorRecoveryDisabledLanes |= d,
                                    Wi |= d,
                                    u = 4;
                                    break e
                                }
                                d = wt,
                                wt = u,
                                d !== null && (wt === null ? wt = d : wt.push.apply(wt, d))
                            }
                            u = g
                        }
                        if (d = !1,
                        u !== 2)
                            continue
                    }
                }
                if (u === 1) {
                    Gs(t, 0),
                    ui(t, n, 0, !0);
                    break
                }
                e: {
                    switch (l = t,
                    d = u,
                    d) {
                    case 0:
                    case 1:
                        throw Error(r(345));
                    case 4:
                        if ((n & 4194048) !== n)
                            break;
                    case 6:
                        ui(l, n, Kt, !ri);
                        break e;
                    case 2:
                        wt = null;
                        break;
                    case 3:
                    case 5:
                        break;
                    default:
                        throw Error(r(329))
                    }
                    if ((n & 62914560) === n && (u = ed + 300 - dn(),
                    10 < u)) {
                        if (ui(l, n, Kt, !ri),
                        dl(l, 0, !0) !== 0)
                            break e;
                        l.timeoutHandle = Jg(wg.bind(null, l, a, wt, eo, Ju, n, Kt, Wi, Bs, ri, d, 2, -0, 0), u);
                        break e
                    }
                    wg(l, a, wt, eo, Ju, n, Kt, Wi, Bs, ri, d, 0, -0, 0)
                }
            }
            break
        } while (!0);
        gn(t)
    }
    function wg(t, n, a, l, u, d, g, v, S, O, j, P, I, M) {
        if (t.timeoutHandle = -1,
        P = n.subtreeFlags,
        (P & 8192 || (P & 16785408) === 16785408) && (fr = {
            stylesheets: null,
            count: 0,
            unsuspend: GS
        },
        vg(n),
        P = FS(),
        P !== null)) {
            t.cancelPendingCommit = P(Dg.bind(null, t, n, d, a, l, u, g, v, S, j, 1, I, M)),
            ui(t, d, g, !O);
            return
        }
        Dg(t, n, d, a, l, u, g, v, S)
    }
    function cS(t) {
        for (var n = t; ; ) {
            var a = n.tag;
            if ((a === 0 || a === 11 || a === 15) && n.flags & 16384 && (a = n.updateQueue,
            a !== null && (a = a.stores,
            a !== null)))
                for (var l = 0; l < a.length; l++) {
                    var u = a[l]
                      , d = u.getSnapshot;
                    u = u.value;
                    try {
                        if (!Dt(d(), u))
                            return !1
                    } catch {
                        return !1
                    }
                }
            if (a = n.child,
            n.subtreeFlags & 16384 && a !== null)
                a.return = n,
                n = a;
            else {
                if (n === t)
                    break;
                for (; n.sibling === null; ) {
                    if (n.return === null || n.return === t)
                        return !0;
                    n = n.return
                }
                n.sibling.return = n.return,
                n = n.sibling
            }
        }
        return !0
    }
    function ui(t, n, a, l) {
        n &= ~Zu,
        n &= ~Wi,
        t.suspendedLanes |= n,
        t.pingedLanes &= ~n,
        l && (t.warmLanes |= n),
        l = t.expirationTimes;
        for (var u = n; 0 < u; ) {
            var d = 31 - It(u)
              , g = 1 << d;
            l[d] = -1,
            u &= ~g
        }
        a !== 0 && jh(t, a, n)
    }
    function to() {
        return (we & 6) === 0 ? (rr(0),
        !1) : !0
    }
    function sd() {
        if (he !== null) {
            if (Ne === 0)
                var t = he.return;
            else
                t = he,
                wn = Vi = null,
                bu(t),
                js = null,
                Xa = 0,
                t = he;
            for (; t !== null; )
                sg(t.alternate, t),
                t = t.return;
            he = null
        }
    }
    function Gs(t, n) {
        var a = t.timeoutHandle;
        a !== -1 && (t.timeoutHandle = -1,
        RS(a)),
        a = t.cancelPendingCommit,
        a !== null && (t.cancelPendingCommit = null,
        a()),
        sd(),
        ke = t,
        he = a = Sn(t.current, null),
        Ee = n,
        Ne = 0,
        jt = null,
        ri = !1,
        Hs = Sa(t, n),
        $u = !1,
        Bs = Kt = Zu = Wi = li = Ve = 0,
        wt = sr = null,
        Ju = !1,
        (n & 8) !== 0 && (n |= n & 32);
        var l = t.entangledLanes;
        if (l !== 0)
            for (t = t.entanglements,
            l &= n; 0 < l; ) {
                var u = 31 - It(l)
                  , d = 1 << u;
                n |= t[u],
                l &= ~d
            }
        return Mn = n,
        Cl(),
        a
    }
    function Ng(t, n) {
        ue = null,
        L.H = ql,
        n === Ba || n === Dl ? (n = Vp(),
        Ne = 3) : n === Hp ? (n = Vp(),
        Ne = 4) : Ne = n === Gm ? 8 : n !== null && typeof n == "object" && typeof n.then == "function" ? 6 : 1,
        jt = n,
        he === null && (Ve = 1,
        Kl(t, qt(n, t.current)))
    }
    function Rg() {
        var t = L.H;
        return L.H = ql,
        t === null ? ql : t
    }
    function Ag() {
        var t = L.A;
        return L.A = lS,
        t
    }
    function ad() {
        Ve = 4,
        ri || (Ee & 4194048) !== Ee && Ft.current !== null || (Hs = !0),
        (li & 134217727) === 0 && (Wi & 134217727) === 0 || ke === null || ui(ke, Ee, Kt, !1)
    }
    function rd(t, n, a) {
        var l = we;
        we |= 2;
        var u = Rg()
          , d = Ag();
        (ke !== t || Ee !== n) && (eo = null,
        Gs(t, n)),
        n = !1;
        var g = Ve;
        e: do
            try {
                if (Ne !== 0 && he !== null) {
                    var v = he
                      , S = jt;
                    switch (Ne) {
                    case 8:
                        sd(),
                        g = 6;
                        break e;
                    case 3:
                    case 2:
                    case 9:
                    case 6:
                        Ft.current === null && (n = !0);
                        var O = Ne;
                        if (Ne = 0,
                        jt = null,
                        Ys(t, v, S, O),
                        a && Hs) {
                            g = 0;
                            break e
                        }
                        break;
                    default:
                        O = Ne,
                        Ne = 0,
                        jt = null,
                        Ys(t, v, S, O)
                    }
                }
                uS(),
                g = Ve;
                break
            } catch (j) {
                Ng(t, j)
            }
        while (!0);
        return n && t.shellSuspendCounter++,
        wn = Vi = null,
        we = l,
        L.H = u,
        L.A = d,
        he === null && (ke = null,
        Ee = 0,
        Cl()),
        g
    }
    function uS() {
        for (; he !== null; )
            xg(he)
    }
    function dS(t, n) {
        var a = we;
        we |= 2;
        var l = Rg()
          , u = Ag();
        ke !== t || Ee !== n ? (eo = null,
        Jl = dn() + 500,
        Gs(t, n)) : Hs = Sa(t, n);
        e: do
            try {
                if (Ne !== 0 && he !== null) {
                    n = he;
                    var d = jt;
                    t: switch (Ne) {
                    case 1:
                        Ne = 0,
                        jt = null,
                        Ys(t, n, d, 1);
                        break;
                    case 2:
                    case 9:
                        if (Bp(d)) {
                            Ne = 0,
                            jt = null,
                            Og(n);
                            break
                        }
                        n = function() {
                            Ne !== 2 && Ne !== 9 || ke !== t || (Ne = 7),
                            gn(t)
                        }
                        ,
                        d.then(n, n);
                        break e;
                    case 3:
                        Ne = 7;
                        break e;
                    case 4:
                        Ne = 5;
                        break e;
                    case 7:
                        Bp(d) ? (Ne = 0,
                        jt = null,
                        Og(n)) : (Ne = 0,
                        jt = null,
                        Ys(t, n, d, 7));
                        break;
                    case 5:
                        var g = null;
                        switch (he.tag) {
                        case 26:
                            g = he.memoizedState;
                        case 5:
                        case 27:
                            var v = he;
                            if (!g || d_(g)) {
                                Ne = 0,
                                jt = null;
                                var S = v.sibling;
                                if (S !== null)
                                    he = S;
                                else {
                                    var O = v.return;
                                    O !== null ? (he = O,
                                    no(O)) : he = null
                                }
                                break t
                            }
                        }
                        Ne = 0,
                        jt = null,
                        Ys(t, n, d, 5);
                        break;
                    case 6:
                        Ne = 0,
                        jt = null,
                        Ys(t, n, d, 6);
                        break;
                    case 8:
                        sd(),
                        Ve = 6;
                        break e;
                    default:
                        throw Error(r(462))
                    }
                }
                fS();
                break
            } catch (j) {
                Ng(t, j)
            }
        while (!0);
        return wn = Vi = null,
        L.H = l,
        L.A = u,
        we = a,
        he !== null ? 0 : (ke = null,
        Ee = 0,
        Cl(),
        Ve)
    }
    function fS() {
        for (; he !== null && !kE(); )
            xg(he)
    }
    function xg(t) {
        var n = ng(t.alternate, t, Mn);
        t.memoizedProps = t.pendingProps,
        n === null ? no(t) : he = n
    }
    function Og(t) {
        var n = t
          , a = n.alternate;
        switch (n.tag) {
        case 15:
        case 0:
            n = Xm(a, n, n.pendingProps, n.type, void 0, Ee);
            break;
        case 11:
            n = Xm(a, n, n.pendingProps, n.type.render, n.ref, Ee);
            break;
        case 5:
            bu(n);
        default:
            sg(a, n),
            n = he = Ip(n, Mn),
            n = ng(a, n, Mn)
        }
        t.memoizedProps = t.pendingProps,
        n === null ? no(t) : he = n
    }
    function Ys(t, n, a, l) {
        wn = Vi = null,
        bu(n),
        js = null,
        Xa = 0;
        var u = n.return;
        try {
            if (tS(t, u, n, a, Ee)) {
                Ve = 1,
                Kl(t, qt(a, t.current)),
                he = null;
                return
            }
        } catch (d) {
            if (u !== null)
                throw he = u,
                d;
            Ve = 1,
            Kl(t, qt(a, t.current)),
            he = null;
            return
        }
        n.flags & 32768 ? (Ce || l === 1 ? t = !0 : Hs || (Ee & 536870912) !== 0 ? t = !1 : (ri = t = !0,
        (l === 2 || l === 9 || l === 3 || l === 6) && (l = Ft.current,
        l !== null && l.tag === 13 && (l.flags |= 16384))),
        Ig(n, t)) : no(n)
    }
    function no(t) {
        var n = t;
        do {
            if ((n.flags & 32768) !== 0) {
                Ig(n, ri);
                return
            }
            t = n.return;
            var a = iS(n.alternate, n, Mn);
            if (a !== null) {
                he = a;
                return
            }
            if (n = n.sibling,
            n !== null) {
                he = n;
                return
            }
            he = n = t
        } while (n !== null);
        Ve === 0 && (Ve = 5)
    }
    function Ig(t, n) {
        do {
            var a = sS(t.alternate, t);
            if (a !== null) {
                a.flags &= 32767,
                he = a;
                return
            }
            if (a = t.return,
            a !== null && (a.flags |= 32768,
            a.subtreeFlags = 0,
            a.deletions = null),
            !n && (t = t.sibling,
            t !== null)) {
                he = t;
                return
            }
            he = t = a
        } while (t !== null);
        Ve = 6,
        he = null
    }
    function Dg(t, n, a, l, u, d, g, v, S) {
        t.cancelPendingCommit = null;
        do
            io();
        while (ct !== 0);
        if ((we & 6) !== 0)
            throw Error(r(327));
        if (n !== null) {
            if (n === t.current)
                throw Error(r(177));
            if (d = n.lanes | n.childLanes,
            d |= Xc,
            GE(t, a, d, g, v, S),
            t === ke && (he = ke = null,
            Ee = 0),
            qs = n,
            ci = t,
            Vs = a,
            td = d,
            nd = u,
            Sg = l,
            (n.subtreeFlags & 10256) !== 0 || (n.flags & 10256) !== 0 ? (t.callbackNode = null,
            t.callbackPriority = 0,
            gS(ol, function() {
                return Ug(),
                null
            })) : (t.callbackNode = null,
            t.callbackPriority = 0),
            l = (n.flags & 13878) !== 0,
            (n.subtreeFlags & 13878) !== 0 || l) {
                l = L.T,
                L.T = null,
                u = K.p,
                K.p = 2,
                g = we,
                we |= 4;
                try {
                    aS(t, n, a)
                } finally {
                    we = g,
                    K.p = u,
                    L.T = l
                }
            }
            ct = 1,
            Mg(),
            kg(),
            Lg()
        }
    }
    function Mg() {
        if (ct === 1) {
            ct = 0;
            var t = ci
              , n = qs
              , a = (n.flags & 13878) !== 0;
            if ((n.subtreeFlags & 13878) !== 0 || a) {
                a = L.T,
                L.T = null;
                var l = K.p;
                K.p = 2;
                var u = we;
                we |= 4;
                try {
                    mg(n, t);
                    var d = vd
                      , g = bp(t.containerInfo)
                      , v = d.focusedElem
                      , S = d.selectionRange;
                    if (g !== v && v && v.ownerDocument && Ep(v.ownerDocument.documentElement, v)) {
                        if (S !== null && Yc(v)) {
                            var O = S.start
                              , j = S.end;
                            if (j === void 0 && (j = O),
                            "selectionStart"in v)
                                v.selectionStart = O,
                                v.selectionEnd = Math.min(j, v.value.length);
                            else {
                                var P = v.ownerDocument || document
                                  , I = P && P.defaultView || window;
                                if (I.getSelection) {
                                    var M = I.getSelection()
                                      , ae = v.textContent.length
                                      , ee = Math.min(S.start, ae)
                                      , xe = S.end === void 0 ? ee : Math.min(S.end, ae);
                                    !M.extend && ee > xe && (g = xe,
                                    xe = ee,
                                    ee = g);
                                    var R = yp(v, ee)
                                      , w = yp(v, xe);
                                    if (R && w && (M.rangeCount !== 1 || M.anchorNode !== R.node || M.anchorOffset !== R.offset || M.focusNode !== w.node || M.focusOffset !== w.offset)) {
                                        var x = P.createRange();
                                        x.setStart(R.node, R.offset),
                                        M.removeAllRanges(),
                                        ee > xe ? (M.addRange(x),
                                        M.extend(w.node, w.offset)) : (x.setEnd(w.node, w.offset),
                                        M.addRange(x))
                                    }
                                }
                            }
                        }
                        for (P = [],
                        M = v; M = M.parentNode; )
                            M.nodeType === 1 && P.push({
                                element: M,
                                left: M.scrollLeft,
                                top: M.scrollTop
                            });
                        for (typeof v.focus == "function" && v.focus(),
                        v = 0; v < P.length; v++) {
                            var U = P[v];
                            U.element.scrollLeft = U.left,
                            U.element.scrollTop = U.top
                        }
                    }
                    go = !!_d,
                    vd = _d = null
                } finally {
                    we = u,
                    K.p = l,
                    L.T = a
                }
            }
            t.current = n,
            ct = 2
        }
    }
    function kg() {
        if (ct === 2) {
            ct = 0;
            var t = ci
              , n = qs
              , a = (n.flags & 8772) !== 0;
            if ((n.subtreeFlags & 8772) !== 0 || a) {
                a = L.T,
                L.T = null;
                var l = K.p;
                K.p = 2;
                var u = we;
                we |= 4;
                try {
                    dg(t, n.alternate, n)
                } finally {
                    we = u,
                    K.p = l,
                    L.T = a
                }
            }
            ct = 3
        }
    }
    function Lg() {
        if (ct === 4 || ct === 3) {
            ct = 0,
            LE();
            var t = ci
              , n = qs
              , a = Vs
              , l = Sg;
            (n.subtreeFlags & 10256) !== 0 || (n.flags & 10256) !== 0 ? ct = 5 : (ct = 0,
            qs = ci = null,
            jg(t, t.pendingLanes));
            var u = t.pendingLanes;
            if (u === 0 && (oi = null),
            Tc(a),
            n = n.stateNode,
            Ot && typeof Ot.onCommitFiberRoot == "function")
                try {
                    Ot.onCommitFiberRoot(ba, n, void 0, (n.current.flags & 128) === 128)
                } catch {}
            if (l !== null) {
                n = L.T,
                u = K.p,
                K.p = 2,
                L.T = null;
                try {
                    for (var d = t.onRecoverableError, g = 0; g < l.length; g++) {
                        var v = l[g];
                        d(v.value, {
                            componentStack: v.stack
                        })
                    }
                } finally {
                    L.T = n,
                    K.p = u
                }
            }
            (Vs & 3) !== 0 && io(),
            gn(t),
            u = t.pendingLanes,
            (a & 4194090) !== 0 && (u & 42) !== 0 ? t === id ? ar++ : (ar = 0,
            id = t) : ar = 0,
            rr(0)
        }
    }
    function jg(t, n) {
        (t.pooledCacheLanes &= n) === 0 && (n = t.pooledCache,
        n != null && (t.pooledCache = null,
        za(n)))
    }
    function io(t) {
        return Mg(),
        kg(),
        Lg(),
        Ug()
    }
    function Ug() {
        if (ct !== 5)
            return !1;
        var t = ci
          , n = td;
        td = 0;
        var a = Tc(Vs)
          , l = L.T
          , u = K.p;
        try {
            K.p = 32 > a ? 32 : a,
            L.T = null,
            a = nd,
            nd = null;
            var d = ci
              , g = Vs;
            if (ct = 0,
            qs = ci = null,
            Vs = 0,
            (we & 6) !== 0)
                throw Error(r(331));
            var v = we;
            if (we |= 4,
            Eg(d.current),
            _g(d, d.current, g, a),
            we = v,
            rr(0, !1),
            Ot && typeof Ot.onPostCommitFiberRoot == "function")
                try {
                    Ot.onPostCommitFiberRoot(ba, d)
                } catch {}
            return !0
        } finally {
            K.p = u,
            L.T = l,
            jg(t, n)
        }
    }
    function Pg(t, n, a) {
        n = qt(a, n),
        n = Lu(t.stateNode, n, 2),
        t = Jn(t, n, 2),
        t !== null && (Ca(t, 2),
        gn(t))
    }
    function De(t, n, a) {
        if (t.tag === 3)
            Pg(t, t, a);
        else
            for (; n !== null; ) {
                if (n.tag === 3) {
                    Pg(n, t, a);
                    break
                } else if (n.tag === 1) {
                    var l = n.stateNode;
                    if (typeof n.type.getDerivedStateFromError == "function" || typeof l.componentDidCatch == "function" && (oi === null || !oi.has(l))) {
                        t = qt(a, t),
                        a = qm(2),
                        l = Jn(n, a, 2),
                        l !== null && (Vm(a, l, n, t),
                        Ca(l, 2),
                        gn(l));
                        break
                    }
                }
                n = n.return
            }
    }
    function ld(t, n, a) {
        var l = t.pingCache;
        if (l === null) {
            l = t.pingCache = new oS;
            var u = new Set;
            l.set(n, u)
        } else
            u = l.get(n),
            u === void 0 && (u = new Set,
            l.set(n, u));
        u.has(a) || ($u = !0,
        u.add(a),
        t = hS.bind(null, t, n, a),
        n.then(t, t))
    }
    function hS(t, n, a) {
        var l = t.pingCache;
        l !== null && l.delete(n),
        t.pingedLanes |= t.suspendedLanes & a,
        t.warmLanes &= ~a,
        ke === t && (Ee & a) === a && (Ve === 4 || Ve === 3 && (Ee & 62914560) === Ee && 300 > dn() - ed ? (we & 2) === 0 && Gs(t, 0) : Zu |= a,
        Bs === Ee && (Bs = 0)),
        gn(t)
    }
    function zg(t, n) {
        n === 0 && (n = Lh()),
        t = Ns(t, n),
        t !== null && (Ca(t, n),
        gn(t))
    }
    function pS(t) {
        var n = t.memoizedState
          , a = 0;
        n !== null && (a = n.retryLane),
        zg(t, a)
    }
    function mS(t, n) {
        var a = 0;
        switch (t.tag) {
        case 13:
            var l = t.stateNode
              , u = t.memoizedState;
            u !== null && (a = u.retryLane);
            break;
        case 19:
            l = t.stateNode;
            break;
        case 22:
            l = t.stateNode._retryCache;
            break;
        default:
            throw Error(r(314))
        }
        l !== null && l.delete(n),
        zg(t, a)
    }
    function gS(t, n) {
        return ds(t, n)
    }
    var so = null
      , Fs = null
      , od = !1
      , ao = !1
      , cd = !1
      , Xi = 0;
    function gn(t) {
        t !== Fs && t.next === null && (Fs === null ? so = Fs = t : Fs = Fs.next = t),
        ao = !0,
        od || (od = !0,
        vS())
    }
    function rr(t, n) {
        if (!cd && ao) {
            cd = !0;
            do
                for (var a = !1, l = so; l !== null; ) {
                    if (t !== 0) {
                        var u = l.pendingLanes;
                        if (u === 0)
                            var d = 0;
                        else {
                            var g = l.suspendedLanes
                              , v = l.pingedLanes;
                            d = (1 << 31 - It(42 | t) + 1) - 1,
                            d &= u & ~(g & ~v),
                            d = d & 201326741 ? d & 201326741 | 1 : d ? d | 2 : 0
                        }
                        d !== 0 && (a = !0,
                        Vg(l, d))
                    } else
                        d = Ee,
                        d = dl(l, l === ke ? d : 0, l.cancelPendingCommit !== null || l.timeoutHandle !== -1),
                        (d & 3) === 0 || Sa(l, d) || (a = !0,
                        Vg(l, d));
                    l = l.next
                }
            while (a);
            cd = !1
        }
    }
    function _S() {
        Hg()
    }
    function Hg() {
        ao = od = !1;
        var t = 0;
        Xi !== 0 && (NS() && (t = Xi),
        Xi = 0);
        for (var n = dn(), a = null, l = so; l !== null; ) {
            var u = l.next
              , d = Bg(l, n);
            d === 0 ? (l.next = null,
            a === null ? so = u : a.next = u,
            u === null && (Fs = a)) : (a = l,
            (t !== 0 || (d & 3) !== 0) && (ao = !0)),
            l = u
        }
        rr(t)
    }
    function Bg(t, n) {
        for (var a = t.suspendedLanes, l = t.pingedLanes, u = t.expirationTimes, d = t.pendingLanes & -62914561; 0 < d; ) {
            var g = 31 - It(d)
              , v = 1 << g
              , S = u[g];
            S === -1 ? ((v & a) === 0 || (v & l) !== 0) && (u[g] = VE(v, n)) : S <= n && (t.expiredLanes |= v),
            d &= ~v
        }
        if (n = ke,
        a = Ee,
        a = dl(t, t === n ? a : 0, t.cancelPendingCommit !== null || t.timeoutHandle !== -1),
        l = t.callbackNode,
        a === 0 || t === n && (Ne === 2 || Ne === 9) || t.cancelPendingCommit !== null)
            return l !== null && l !== null && bc(l),
            t.callbackNode = null,
            t.callbackPriority = 0;
        if ((a & 3) === 0 || Sa(t, a)) {
            if (n = a & -a,
            n === t.callbackPriority)
                return n;
            switch (l !== null && bc(l),
            Tc(a)) {
            case 2:
            case 8:
                a = Dh;
                break;
            case 32:
                a = ol;
                break;
            case 268435456:
                a = Mh;
                break;
            default:
                a = ol
            }
            return l = qg.bind(null, t),
            a = ds(a, l),
            t.callbackPriority = n,
            t.callbackNode = a,
            n
        }
        return l !== null && l !== null && bc(l),
        t.callbackPriority = 2,
        t.callbackNode = null,
        2
    }
    function qg(t, n) {
        if (ct !== 0 && ct !== 5)
            return t.callbackNode = null,
            t.callbackPriority = 0,
            null;
        var a = t.callbackNode;
        if (io() && t.callbackNode !== a)
            return null;
        var l = Ee;
        return l = dl(t, t === ke ? l : 0, t.cancelPendingCommit !== null || t.timeoutHandle !== -1),
        l === 0 ? null : (Tg(t, l, n),
        Bg(t, dn()),
        t.callbackNode != null && t.callbackNode === a ? qg.bind(null, t) : null)
    }
    function Vg(t, n) {
        if (io())
            return null;
        Tg(t, n, !0)
    }
    function vS() {
        AS(function() {
            (we & 6) !== 0 ? ds(Ih, _S) : Hg()
        })
    }
    function ud() {
        return Xi === 0 && (Xi = kh()),
        Xi
    }
    function Gg(t) {
        return t == null || typeof t == "symbol" || typeof t == "boolean" ? null : typeof t == "function" ? t : gl("" + t)
    }
    function Yg(t, n) {
        var a = n.ownerDocument.createElement("input");
        return a.name = n.name,
        a.value = n.value,
        t.id && a.setAttribute("form", t.id),
        n.parentNode.insertBefore(a, n),
        t = new FormData(t),
        a.parentNode.removeChild(a),
        t
    }
    function yS(t, n, a, l, u) {
        if (n === "submit" && a && a.stateNode === u) {
            var d = Gg((u[bt] || null).action)
              , g = l.submitter;
            g && (n = (n = g[bt] || null) ? Gg(n.formAction) : g.getAttribute("formAction"),
            n !== null && (d = n,
            g = null));
            var v = new El("action","action",null,l,u);
            t.push({
                event: v,
                listeners: [{
                    instance: null,
                    listener: function() {
                        if (l.defaultPrevented) {
                            if (Xi !== 0) {
                                var S = g ? Yg(u, g) : new FormData(u);
                                Ou(a, {
                                    pending: !0,
                                    data: S,
                                    method: u.method,
                                    action: d
                                }, null, S)
                            }
                        } else
                            typeof d == "function" && (v.preventDefault(),
                            S = g ? Yg(u, g) : new FormData(u),
                            Ou(a, {
                                pending: !0,
                                data: S,
                                method: u.method,
                                action: d
                            }, d, S))
                    },
                    currentTarget: u
                }]
            })
        }
    }
    for (var dd = 0; dd < Wc.length; dd++) {
        var fd = Wc[dd]
          , ES = fd.toLowerCase()
          , bS = fd[0].toUpperCase() + fd.slice(1);
        Jt(ES, "on" + bS)
    }
    Jt(Tp, "onAnimationEnd"),
    Jt(wp, "onAnimationIteration"),
    Jt(Np, "onAnimationStart"),
    Jt("dblclick", "onDoubleClick"),
    Jt("focusin", "onFocus"),
    Jt("focusout", "onBlur"),
    Jt(Pb, "onTransitionRun"),
    Jt(zb, "onTransitionStart"),
    Jt(Hb, "onTransitionCancel"),
    Jt(Rp, "onTransitionEnd"),
    gs("onMouseEnter", ["mouseout", "mouseover"]),
    gs("onMouseLeave", ["mouseout", "mouseover"]),
    gs("onPointerEnter", ["pointerout", "pointerover"]),
    gs("onPointerLeave", ["pointerout", "pointerover"]),
    ki("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")),
    ki("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),
    ki("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]),
    ki("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")),
    ki("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")),
    ki("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" "));
    var lr = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" ")
      , SS = new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lr));
    function Fg(t, n) {
        n = (n & 4) !== 0;
        for (var a = 0; a < t.length; a++) {
            var l = t[a]
              , u = l.event;
            l = l.listeners;
            e: {
                var d = void 0;
                if (n)
                    for (var g = l.length - 1; 0 <= g; g--) {
                        var v = l[g]
                          , S = v.instance
                          , O = v.currentTarget;
                        if (v = v.listener,
                        S !== d && u.isPropagationStopped())
                            break e;
                        d = v,
                        u.currentTarget = O;
                        try {
                            d(u)
                        } catch (j) {
                            Fl(j)
                        }
                        u.currentTarget = null,
                        d = S
                    }
                else
                    for (g = 0; g < l.length; g++) {
                        if (v = l[g],
                        S = v.instance,
                        O = v.currentTarget,
                        v = v.listener,
                        S !== d && u.isPropagationStopped())
                            break e;
                        d = v,
                        u.currentTarget = O;
                        try {
                            d(u)
                        } catch (j) {
                            Fl(j)
                        }
                        u.currentTarget = null,
                        d = S
                    }
            }
        }
    }
    function pe(t, n) {
        var a = n[wc];
        a === void 0 && (a = n[wc] = new Set);
        var l = t + "__bubble";
        a.has(l) || (Kg(n, t, 2, !1),
        a.add(l))
    }
    function hd(t, n, a) {
        var l = 0;
        n && (l |= 4),
        Kg(a, t, l, n)
    }
    var ro = "_reactListening" + Math.random().toString(36).slice(2);
    function pd(t) {
        if (!t[ro]) {
            t[ro] = !0,
            Hh.forEach(function(a) {
                a !== "selectionchange" && (SS.has(a) || hd(a, !1, t),
                hd(a, !0, t))
            });
            var n = t.nodeType === 9 ? t : t.ownerDocument;
            n === null || n[ro] || (n[ro] = !0,
            hd("selectionchange", !1, n))
        }
    }
    function Kg(t, n, a, l) {
        switch (__(n)) {
        case 2:
            var u = WS;
            break;
        case 8:
            u = XS;
            break;
        default:
            u = Ad
        }
        a = u.bind(null, n, a, t),
        u = void 0,
        !jc || n !== "touchstart" && n !== "touchmove" && n !== "wheel" || (u = !0),
        l ? u !== void 0 ? t.addEventListener(n, a, {
            capture: !0,
            passive: u
        }) : t.addEventListener(n, a, !0) : u !== void 0 ? t.addEventListener(n, a, {
            passive: u
        }) : t.addEventListener(n, a, !1)
    }
    function md(t, n, a, l, u) {
        var d = l;
        if ((n & 1) === 0 && (n & 2) === 0 && l !== null)
            e: for (; ; ) {
                if (l === null)
                    return;
                var g = l.tag;
                if (g === 3 || g === 4) {
                    var v = l.stateNode.containerInfo;
                    if (v === u)
                        break;
                    if (g === 4)
                        for (g = l.return; g !== null; ) {
                            var S = g.tag;
                            if ((S === 3 || S === 4) && g.stateNode.containerInfo === u)
                                return;
                            g = g.return
                        }
                    for (; v !== null; ) {
                        if (g = hs(v),
                        g === null)
                            return;
                        if (S = g.tag,
                        S === 5 || S === 6 || S === 26 || S === 27) {
                            l = d = g;
                            continue e
                        }
                        v = v.parentNode
                    }
                }
                l = l.return
            }
        ep(function() {
            var O = d
              , j = kc(a)
              , P = [];
            e: {
                var I = Ap.get(t);
                if (I !== void 0) {
                    var M = El
                      , ae = t;
                    switch (t) {
                    case "keypress":
                        if (vl(a) === 0)
                            break e;
                    case "keydown":
                    case "keyup":
                        M = gb;
                        break;
                    case "focusin":
                        ae = "focus",
                        M = Hc;
                        break;
                    case "focusout":
                        ae = "blur",
                        M = Hc;
                        break;
                    case "beforeblur":
                    case "afterblur":
                        M = Hc;
                        break;
                    case "click":
                        if (a.button === 2)
                            break e;
                    case "auxclick":
                    case "dblclick":
                    case "mousedown":
                    case "mousemove":
                    case "mouseup":
                    case "mouseout":
                    case "mouseover":
                    case "contextmenu":
                        M = ip;
                        break;
                    case "drag":
                    case "dragend":
                    case "dragenter":
                    case "dragexit":
                    case "dragleave":
                    case "dragover":
                    case "dragstart":
                    case "drop":
                        M = sb;
                        break;
                    case "touchcancel":
                    case "touchend":
                    case "touchmove":
                    case "touchstart":
                        M = yb;
                        break;
                    case Tp:
                    case wp:
                    case Np:
                        M = lb;
                        break;
                    case Rp:
                        M = bb;
                        break;
                    case "scroll":
                    case "scrollend":
                        M = nb;
                        break;
                    case "wheel":
                        M = Cb;
                        break;
                    case "copy":
                    case "cut":
                    case "paste":
                        M = cb;
                        break;
                    case "gotpointercapture":
                    case "lostpointercapture":
                    case "pointercancel":
                    case "pointerdown":
                    case "pointermove":
                    case "pointerout":
                    case "pointerover":
                    case "pointerup":
                        M = ap;
                        break;
                    case "toggle":
                    case "beforetoggle":
                        M = wb
                    }
                    var ee = (n & 4) !== 0
                      , xe = !ee && (t === "scroll" || t === "scrollend")
                      , R = ee ? I !== null ? I + "Capture" : null : I;
                    ee = [];
                    for (var w = O, x; w !== null; ) {
                        var U = w;
                        if (x = U.stateNode,
                        U = U.tag,
                        U !== 5 && U !== 26 && U !== 27 || x === null || R === null || (U = Na(w, R),
                        U != null && ee.push(or(w, U, x))),
                        xe)
                            break;
                        w = w.return
                    }
                    0 < ee.length && (I = new M(I,ae,null,a,j),
                    P.push({
                        event: I,
                        listeners: ee
                    }))
                }
            }
            if ((n & 7) === 0) {
                e: {
                    if (I = t === "mouseover" || t === "pointerover",
                    M = t === "mouseout" || t === "pointerout",
                    I && a !== Mc && (ae = a.relatedTarget || a.fromElement) && (hs(ae) || ae[fs]))
                        break e;
                    if ((M || I) && (I = j.window === j ? j : (I = j.ownerDocument) ? I.defaultView || I.parentWindow : window,
                    M ? (ae = a.relatedTarget || a.toElement,
                    M = O,
                    ae = ae ? hs(ae) : null,
                    ae !== null && (xe = c(ae),
                    ee = ae.tag,
                    ae !== xe || ee !== 5 && ee !== 27 && ee !== 6) && (ae = null)) : (M = null,
                    ae = O),
                    M !== ae)) {
                        if (ee = ip,
                        U = "onMouseLeave",
                        R = "onMouseEnter",
                        w = "mouse",
                        (t === "pointerout" || t === "pointerover") && (ee = ap,
                        U = "onPointerLeave",
                        R = "onPointerEnter",
                        w = "pointer"),
                        xe = M == null ? I : wa(M),
                        x = ae == null ? I : wa(ae),
                        I = new ee(U,w + "leave",M,a,j),
                        I.target = xe,
                        I.relatedTarget = x,
                        U = null,
                        hs(j) === O && (ee = new ee(R,w + "enter",ae,a,j),
                        ee.target = x,
                        ee.relatedTarget = xe,
                        U = ee),
                        xe = U,
                        M && ae)
                            t: {
                                for (ee = M,
                                R = ae,
                                w = 0,
                                x = ee; x; x = Ks(x))
                                    w++;
                                for (x = 0,
                                U = R; U; U = Ks(U))
                                    x++;
                                for (; 0 < w - x; )
                                    ee = Ks(ee),
                                    w--;
                                for (; 0 < x - w; )
                                    R = Ks(R),
                                    x--;
                                for (; w--; ) {
                                    if (ee === R || R !== null && ee === R.alternate)
                                        break t;
                                    ee = Ks(ee),
                                    R = Ks(R)
                                }
                                ee = null
                            }
                        else
                            ee = null;
                        M !== null && Qg(P, I, M, ee, !1),
                        ae !== null && xe !== null && Qg(P, xe, ae, ee, !0)
                    }
                }
                e: {
                    if (I = O ? wa(O) : window,
                    M = I.nodeName && I.nodeName.toLowerCase(),
                    M === "select" || M === "input" && I.type === "file")
                        var W = hp;
                    else if (dp(I))
                        if (pp)
                            W = Lb;
                        else {
                            W = Mb;
                            var de = Db
                        }
                    else
                        M = I.nodeName,
                        !M || M.toLowerCase() !== "input" || I.type !== "checkbox" && I.type !== "radio" ? O && Dc(O.elementType) && (W = hp) : W = kb;
                    if (W && (W = W(t, O))) {
                        fp(P, W, a, j);
                        break e
                    }
                    de && de(t, I, O),
                    t === "focusout" && O && I.type === "number" && O.memoizedProps.value != null && Ic(I, "number", I.value)
                }
                switch (de = O ? wa(O) : window,
                t) {
                case "focusin":
                    (dp(de) || de.contentEditable === "true") && (Cs = de,
                    Fc = O,
                    ka = null);
                    break;
                case "focusout":
                    ka = Fc = Cs = null;
                    break;
                case "mousedown":
                    Kc = !0;
                    break;
                case "contextmenu":
                case "mouseup":
                case "dragend":
                    Kc = !1,
                    Sp(P, a, j);
                    break;
                case "selectionchange":
                    if (Ub)
                        break;
                case "keydown":
                case "keyup":
                    Sp(P, a, j)
                }
                var Z;
                if (qc)
                    e: {
                        switch (t) {
                        case "compositionstart":
                            var te = "onCompositionStart";
                            break e;
                        case "compositionend":
                            te = "onCompositionEnd";
                            break e;
                        case "compositionupdate":
                            te = "onCompositionUpdate";
                            break e
                        }
                        te = void 0
                    }
                else
                    Ss ? cp(t, a) && (te = "onCompositionEnd") : t === "keydown" && a.keyCode === 229 && (te = "onCompositionStart");
                te && (rp && a.locale !== "ko" && (Ss || te !== "onCompositionStart" ? te === "onCompositionEnd" && Ss && (Z = tp()) : (Wn = j,
                Uc = "value"in Wn ? Wn.value : Wn.textContent,
                Ss = !0)),
                de = lo(O, te),
                0 < de.length && (te = new sp(te,t,null,a,j),
                P.push({
                    event: te,
                    listeners: de
                }),
                Z ? te.data = Z : (Z = up(a),
                Z !== null && (te.data = Z)))),
                (Z = Rb ? Ab(t, a) : xb(t, a)) && (te = lo(O, "onBeforeInput"),
                0 < te.length && (de = new sp("onBeforeInput","beforeinput",null,a,j),
                P.push({
                    event: de,
                    listeners: te
                }),
                de.data = Z)),
                yS(P, t, O, a, j)
            }
            Fg(P, n)
        })
    }
    function or(t, n, a) {
        return {
            instance: t,
            listener: n,
            currentTarget: a
        }
    }
    function lo(t, n) {
        for (var a = n + "Capture", l = []; t !== null; ) {
            var u = t
              , d = u.stateNode;
            if (u = u.tag,
            u !== 5 && u !== 26 && u !== 27 || d === null || (u = Na(t, a),
            u != null && l.unshift(or(t, u, d)),
            u = Na(t, n),
            u != null && l.push(or(t, u, d))),
            t.tag === 3)
                return l;
            t = t.return
        }
        return []
    }
    function Ks(t) {
        if (t === null)
            return null;
        do
            t = t.return;
        while (t && t.tag !== 5 && t.tag !== 27);
        return t || null
    }
    function Qg(t, n, a, l, u) {
        for (var d = n._reactName, g = []; a !== null && a !== l; ) {
            var v = a
              , S = v.alternate
              , O = v.stateNode;
            if (v = v.tag,
            S !== null && S === l)
                break;
            v !== 5 && v !== 26 && v !== 27 || O === null || (S = O,
            u ? (O = Na(a, d),
            O != null && g.unshift(or(a, O, S))) : u || (O = Na(a, d),
            O != null && g.push(or(a, O, S)))),
            a = a.return
        }
        g.length !== 0 && t.push({
            event: n,
            listeners: g
        })
    }
    var CS = /\r\n?/g
      , TS = /\u0000|\uFFFD/g;
    function Wg(t) {
        return (typeof t == "string" ? t : "" + t).replace(CS, `
`).replace(TS, "")
    }
    function Xg(t, n) {
        return n = Wg(n),
        Wg(t) === n
    }
    function oo() {}
    function Ae(t, n, a, l, u, d) {
        switch (a) {
        case "children":
            typeof l == "string" ? n === "body" || n === "textarea" && l === "" || ys(t, l) : (typeof l == "number" || typeof l == "bigint") && n !== "body" && ys(t, "" + l);
            break;
        case "className":
            hl(t, "class", l);
            break;
        case "tabIndex":
            hl(t, "tabindex", l);
            break;
        case "dir":
        case "role":
        case "viewBox":
        case "width":
        case "height":
            hl(t, a, l);
            break;
        case "style":
            Zh(t, l, d);
            break;
        case "data":
            if (n !== "object") {
                hl(t, "data", l);
                break
            }
        case "src":
        case "href":
            if (l === "" && (n !== "a" || a !== "href")) {
                t.removeAttribute(a);
                break
            }
            if (l == null || typeof l == "function" || typeof l == "symbol" || typeof l == "boolean") {
                t.removeAttribute(a);
                break
            }
            l = gl("" + l),
            t.setAttribute(a, l);
            break;
        case "action":
        case "formAction":
            if (typeof l == "function") {
                t.setAttribute(a, "javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");
                break
            } else
                typeof d == "function" && (a === "formAction" ? (n !== "input" && Ae(t, n, "name", u.name, u, null),
                Ae(t, n, "formEncType", u.formEncType, u, null),
                Ae(t, n, "formMethod", u.formMethod, u, null),
                Ae(t, n, "formTarget", u.formTarget, u, null)) : (Ae(t, n, "encType", u.encType, u, null),
                Ae(t, n, "method", u.method, u, null),
                Ae(t, n, "target", u.target, u, null)));
            if (l == null || typeof l == "symbol" || typeof l == "boolean") {
                t.removeAttribute(a);
                break
            }
            l = gl("" + l),
            t.setAttribute(a, l);
            break;
        case "onClick":
            l != null && (t.onclick = oo);
            break;
        case "onScroll":
            l != null && pe("scroll", t);
            break;
        case "onScrollEnd":
            l != null && pe("scrollend", t);
            break;
        case "dangerouslySetInnerHTML":
            if (l != null) {
                if (typeof l != "object" || !("__html"in l))
                    throw Error(r(61));
                if (a = l.__html,
                a != null) {
                    if (u.children != null)
                        throw Error(r(60));
                    t.innerHTML = a
                }
            }
            break;
        case "multiple":
            t.multiple = l && typeof l != "function" && typeof l != "symbol";
            break;
        case "muted":
            t.muted = l && typeof l != "function" && typeof l != "symbol";
            break;
        case "suppressContentEditableWarning":
        case "suppressHydrationWarning":
        case "defaultValue":
        case "defaultChecked":
        case "innerHTML":
        case "ref":
            break;
        case "autoFocus":
            break;
        case "xlinkHref":
            if (l == null || typeof l == "function" || typeof l == "boolean" || typeof l == "symbol") {
                t.removeAttribute("xlink:href");
                break
            }
            a = gl("" + l),
            t.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", a);
            break;
        case "contentEditable":
        case "spellCheck":
        case "draggable":
        case "value":
        case "autoReverse":
        case "externalResourcesRequired":
        case "focusable":
        case "preserveAlpha":
            l != null && typeof l != "function" && typeof l != "symbol" ? t.setAttribute(a, "" + l) : t.removeAttribute(a);
            break;
        case "inert":
        case "allowFullScreen":
        case "async":
        case "autoPlay":
        case "controls":
        case "default":
        case "defer":
        case "disabled":
        case "disablePictureInPicture":
        case "disableRemotePlayback":
        case "formNoValidate":
        case "hidden":
        case "loop":
        case "noModule":
        case "noValidate":
        case "open":
        case "playsInline":
        case "readOnly":
        case "required":
        case "reversed":
        case "scoped":
        case "seamless":
        case "itemScope":
            l && typeof l != "function" && typeof l != "symbol" ? t.setAttribute(a, "") : t.removeAttribute(a);
            break;
        case "capture":
        case "download":
            l === !0 ? t.setAttribute(a, "") : l !== !1 && l != null && typeof l != "function" && typeof l != "symbol" ? t.setAttribute(a, l) : t.removeAttribute(a);
            break;
        case "cols":
        case "rows":
        case "size":
        case "span":
            l != null && typeof l != "function" && typeof l != "symbol" && !isNaN(l) && 1 <= l ? t.setAttribute(a, l) : t.removeAttribute(a);
            break;
        case "rowSpan":
        case "start":
            l == null || typeof l == "function" || typeof l == "symbol" || isNaN(l) ? t.removeAttribute(a) : t.setAttribute(a, l);
            break;
        case "popover":
            pe("beforetoggle", t),
            pe("toggle", t),
            fl(t, "popover", l);
            break;
        case "xlinkActuate":
            En(t, "http://www.w3.org/1999/xlink", "xlink:actuate", l);
            break;
        case "xlinkArcrole":
            En(t, "http://www.w3.org/1999/xlink", "xlink:arcrole", l);
            break;
        case "xlinkRole":
            En(t, "http://www.w3.org/1999/xlink", "xlink:role", l);
            break;
        case "xlinkShow":
            En(t, "http://www.w3.org/1999/xlink", "xlink:show", l);
            break;
        case "xlinkTitle":
            En(t, "http://www.w3.org/1999/xlink", "xlink:title", l);
            break;
        case "xlinkType":
            En(t, "http://www.w3.org/1999/xlink", "xlink:type", l);
            break;
        case "xmlBase":
            En(t, "http://www.w3.org/XML/1998/namespace", "xml:base", l);
            break;
        case "xmlLang":
            En(t, "http://www.w3.org/XML/1998/namespace", "xml:lang", l);
            break;
        case "xmlSpace":
            En(t, "http://www.w3.org/XML/1998/namespace", "xml:space", l);
            break;
        case "is":
            fl(t, "is", l);
            break;
        case "innerText":
        case "textContent":
            break;
        default:
            (!(2 < a.length) || a[0] !== "o" && a[0] !== "O" || a[1] !== "n" && a[1] !== "N") && (a = eb.get(a) || a,
            fl(t, a, l))
        }
    }
    function gd(t, n, a, l, u, d) {
        switch (a) {
        case "style":
            Zh(t, l, d);
            break;
        case "dangerouslySetInnerHTML":
            if (l != null) {
                if (typeof l != "object" || !("__html"in l))
                    throw Error(r(61));
                if (a = l.__html,
                a != null) {
                    if (u.children != null)
                        throw Error(r(60));
                    t.innerHTML = a
                }
            }
            break;
        case "children":
            typeof l == "string" ? ys(t, l) : (typeof l == "number" || typeof l == "bigint") && ys(t, "" + l);
            break;
        case "onScroll":
            l != null && pe("scroll", t);
            break;
        case "onScrollEnd":
            l != null && pe("scrollend", t);
            break;
        case "onClick":
            l != null && (t.onclick = oo);
            break;
        case "suppressContentEditableWarning":
        case "suppressHydrationWarning":
        case "innerHTML":
        case "ref":
            break;
        case "innerText":
        case "textContent":
            break;
        default:
            if (!Bh.hasOwnProperty(a))
                e: {
                    if (a[0] === "o" && a[1] === "n" && (u = a.endsWith("Capture"),
                    n = a.slice(2, u ? a.length - 7 : void 0),
                    d = t[bt] || null,
                    d = d != null ? d[a] : null,
                    typeof d == "function" && t.removeEventListener(n, d, u),
                    typeof l == "function")) {
                        typeof d != "function" && d !== null && (a in t ? t[a] = null : t.hasAttribute(a) && t.removeAttribute(a)),
                        t.addEventListener(n, l, u);
                        break e
                    }
                    a in t ? t[a] = l : l === !0 ? t.setAttribute(a, "") : fl(t, a, l)
                }
        }
    }
    function ut(t, n, a) {
        switch (n) {
        case "div":
        case "span":
        case "svg":
        case "path":
        case "a":
        case "g":
        case "p":
        case "li":
            break;
        case "img":
            pe("error", t),
            pe("load", t);
            var l = !1, u = !1, d;
            for (d in a)
                if (a.hasOwnProperty(d)) {
                    var g = a[d];
                    if (g != null)
                        switch (d) {
                        case "src":
                            l = !0;
                            break;
                        case "srcSet":
                            u = !0;
                            break;
                        case "children":
                        case "dangerouslySetInnerHTML":
                            throw Error(r(137, n));
                        default:
                            Ae(t, n, d, g, a, null)
                        }
                }
            u && Ae(t, n, "srcSet", a.srcSet, a, null),
            l && Ae(t, n, "src", a.src, a, null);
            return;
        case "input":
            pe("invalid", t);
            var v = d = g = u = null
              , S = null
              , O = null;
            for (l in a)
                if (a.hasOwnProperty(l)) {
                    var j = a[l];
                    if (j != null)
                        switch (l) {
                        case "name":
                            u = j;
                            break;
                        case "type":
                            g = j;
                            break;
                        case "checked":
                            S = j;
                            break;
                        case "defaultChecked":
                            O = j;
                            break;
                        case "value":
                            d = j;
                            break;
                        case "defaultValue":
                            v = j;
                            break;
                        case "children":
                        case "dangerouslySetInnerHTML":
                            if (j != null)
                                throw Error(r(137, n));
                            break;
                        default:
                            Ae(t, n, l, j, a, null)
                        }
                }
            Qh(t, d, v, S, O, g, u, !1),
            pl(t);
            return;
        case "select":
            pe("invalid", t),
            l = g = d = null;
            for (u in a)
                if (a.hasOwnProperty(u) && (v = a[u],
                v != null))
                    switch (u) {
                    case "value":
                        d = v;
                        break;
                    case "defaultValue":
                        g = v;
                        break;
                    case "multiple":
                        l = v;
                    default:
                        Ae(t, n, u, v, a, null)
                    }
            n = d,
            a = g,
            t.multiple = !!l,
            n != null ? vs(t, !!l, n, !1) : a != null && vs(t, !!l, a, !0);
            return;
        case "textarea":
            pe("invalid", t),
            d = u = l = null;
            for (g in a)
                if (a.hasOwnProperty(g) && (v = a[g],
                v != null))
                    switch (g) {
                    case "value":
                        l = v;
                        break;
                    case "defaultValue":
                        u = v;
                        break;
                    case "children":
                        d = v;
                        break;
                    case "dangerouslySetInnerHTML":
                        if (v != null)
                            throw Error(r(91));
                        break;
                    default:
                        Ae(t, n, g, v, a, null)
                    }
            Xh(t, l, u, d),
            pl(t);
            return;
        case "option":
            for (S in a)
                if (a.hasOwnProperty(S) && (l = a[S],
                l != null))
                    switch (S) {
                    case "selected":
                        t.selected = l && typeof l != "function" && typeof l != "symbol";
                        break;
                    default:
                        Ae(t, n, S, l, a, null)
                    }
            return;
        case "dialog":
            pe("beforetoggle", t),
            pe("toggle", t),
            pe("cancel", t),
            pe("close", t);
            break;
        case "iframe":
        case "object":
            pe("load", t);
            break;
        case "video":
        case "audio":
            for (l = 0; l < lr.length; l++)
                pe(lr[l], t);
            break;
        case "image":
            pe("error", t),
            pe("load", t);
            break;
        case "details":
            pe("toggle", t);
            break;
        case "embed":
        case "source":
        case "link":
            pe("error", t),
            pe("load", t);
        case "area":
        case "base":
        case "br":
        case "col":
        case "hr":
        case "keygen":
        case "meta":
        case "param":
        case "track":
        case "wbr":
        case "menuitem":
            for (O in a)
                if (a.hasOwnProperty(O) && (l = a[O],
                l != null))
                    switch (O) {
                    case "children":
                    case "dangerouslySetInnerHTML":
                        throw Error(r(137, n));
                    default:
                        Ae(t, n, O, l, a, null)
                    }
            return;
        default:
            if (Dc(n)) {
                for (j in a)
                    a.hasOwnProperty(j) && (l = a[j],
                    l !== void 0 && gd(t, n, j, l, a, void 0));
                return
            }
        }
        for (v in a)
            a.hasOwnProperty(v) && (l = a[v],
            l != null && Ae(t, n, v, l, a, null))
    }
    function wS(t, n, a, l) {
        switch (n) {
        case "div":
        case "span":
        case "svg":
        case "path":
        case "a":
        case "g":
        case "p":
        case "li":
            break;
        case "input":
            var u = null
              , d = null
              , g = null
              , v = null
              , S = null
              , O = null
              , j = null;
            for (M in a) {
                var P = a[M];
                if (a.hasOwnProperty(M) && P != null)
                    switch (M) {
                    case "checked":
                        break;
                    case "value":
                        break;
                    case "defaultValue":
                        S = P;
                    default:
                        l.hasOwnProperty(M) || Ae(t, n, M, null, l, P)
                    }
            }
            for (var I in l) {
                var M = l[I];
                if (P = a[I],
                l.hasOwnProperty(I) && (M != null || P != null))
                    switch (I) {
                    case "type":
                        d = M;
                        break;
                    case "name":
                        u = M;
                        break;
                    case "checked":
                        O = M;
                        break;
                    case "defaultChecked":
                        j = M;
                        break;
                    case "value":
                        g = M;
                        break;
                    case "defaultValue":
                        v = M;
                        break;
                    case "children":
                    case "dangerouslySetInnerHTML":
                        if (M != null)
                            throw Error(r(137, n));
                        break;
                    default:
                        M !== P && Ae(t, n, I, M, l, P)
                    }
            }
            Oc(t, g, v, S, O, j, d, u);
            return;
        case "select":
            M = g = v = I = null;
            for (d in a)
                if (S = a[d],
                a.hasOwnProperty(d) && S != null)
                    switch (d) {
                    case "value":
                        break;
                    case "multiple":
                        M = S;
                    default:
                        l.hasOwnProperty(d) || Ae(t, n, d, null, l, S)
                    }
            for (u in l)
                if (d = l[u],
                S = a[u],
                l.hasOwnProperty(u) && (d != null || S != null))
                    switch (u) {
                    case "value":
                        I = d;
                        break;
                    case "defaultValue":
                        v = d;
                        break;
                    case "multiple":
                        g = d;
                    default:
                        d !== S && Ae(t, n, u, d, l, S)
                    }
            n = v,
            a = g,
            l = M,
            I != null ? vs(t, !!a, I, !1) : !!l != !!a && (n != null ? vs(t, !!a, n, !0) : vs(t, !!a, a ? [] : "", !1));
            return;
        case "textarea":
            M = I = null;
            for (v in a)
                if (u = a[v],
                a.hasOwnProperty(v) && u != null && !l.hasOwnProperty(v))
                    switch (v) {
                    case "value":
                        break;
                    case "children":
                        break;
                    default:
                        Ae(t, n, v, null, l, u)
                    }
            for (g in l)
                if (u = l[g],
                d = a[g],
                l.hasOwnProperty(g) && (u != null || d != null))
                    switch (g) {
                    case "value":
                        I = u;
                        break;
                    case "defaultValue":
                        M = u;
                        break;
                    case "children":
                        break;
                    case "dangerouslySetInnerHTML":
                        if (u != null)
                            throw Error(r(91));
                        break;
                    default:
                        u !== d && Ae(t, n, g, u, l, d)
                    }
            Wh(t, I, M);
            return;
        case "option":
            for (var ae in a)
                if (I = a[ae],
                a.hasOwnProperty(ae) && I != null && !l.hasOwnProperty(ae))
                    switch (ae) {
                    case "selected":
                        t.selected = !1;
                        break;
                    default:
                        Ae(t, n, ae, null, l, I)
                    }
            for (S in l)
                if (I = l[S],
                M = a[S],
                l.hasOwnProperty(S) && I !== M && (I != null || M != null))
                    switch (S) {
                    case "selected":
                        t.selected = I && typeof I != "function" && typeof I != "symbol";
                        break;
                    default:
                        Ae(t, n, S, I, l, M)
                    }
            return;
        case "img":
        case "link":
        case "area":
        case "base":
        case "br":
        case "col":
        case "embed":
        case "hr":
        case "keygen":
        case "meta":
        case "param":
        case "source":
        case "track":
        case "wbr":
        case "menuitem":
            for (var ee in a)
                I = a[ee],
                a.hasOwnProperty(ee) && I != null && !l.hasOwnProperty(ee) && Ae(t, n, ee, null, l, I);
            for (O in l)
                if (I = l[O],
                M = a[O],
                l.hasOwnProperty(O) && I !== M && (I != null || M != null))
                    switch (O) {
                    case "children":
                    case "dangerouslySetInnerHTML":
                        if (I != null)
                            throw Error(r(137, n));
                        break;
                    default:
                        Ae(t, n, O, I, l, M)
                    }
            return;
        default:
            if (Dc(n)) {
                for (var xe in a)
                    I = a[xe],
                    a.hasOwnProperty(xe) && I !== void 0 && !l.hasOwnProperty(xe) && gd(t, n, xe, void 0, l, I);
                for (j in l)
                    I = l[j],
                    M = a[j],
                    !l.hasOwnProperty(j) || I === M || I === void 0 && M === void 0 || gd(t, n, j, I, l, M);
                return
            }
        }
        for (var R in a)
            I = a[R],
            a.hasOwnProperty(R) && I != null && !l.hasOwnProperty(R) && Ae(t, n, R, null, l, I);
        for (P in l)
            I = l[P],
            M = a[P],
            !l.hasOwnProperty(P) || I === M || I == null && M == null || Ae(t, n, P, I, l, M)
    }
    var _d = null
      , vd = null;
    function co(t) {
        return t.nodeType === 9 ? t : t.ownerDocument
    }
    function $g(t) {
        switch (t) {
        case "http://www.w3.org/2000/svg":
            return 1;
        case "http://www.w3.org/1998/Math/MathML":
            return 2;
        default:
            return 0
        }
    }
    function Zg(t, n) {
        if (t === 0)
            switch (n) {
            case "svg":
                return 1;
            case "math":
                return 2;
            default:
                return 0
            }
        return t === 1 && n === "foreignObject" ? 0 : t
    }
    function yd(t, n) {
        return t === "textarea" || t === "noscript" || typeof n.children == "string" || typeof n.children == "number" || typeof n.children == "bigint" || typeof n.dangerouslySetInnerHTML == "object" && n.dangerouslySetInnerHTML !== null && n.dangerouslySetInnerHTML.__html != null
    }
    var Ed = null;
    function NS() {
        var t = window.event;
        return t && t.type === "popstate" ? t === Ed ? !1 : (Ed = t,
        !0) : (Ed = null,
        !1)
    }
    var Jg = typeof setTimeout == "function" ? setTimeout : void 0
      , RS = typeof clearTimeout == "function" ? clearTimeout : void 0
      , e_ = typeof Promise == "function" ? Promise : void 0
      , AS = typeof queueMicrotask == "function" ? queueMicrotask : typeof e_ < "u" ? function(t) {
        return e_.resolve(null).then(t).catch(xS)
    }
    : Jg;
    function xS(t) {
        setTimeout(function() {
            throw t
        })
    }
    function di(t) {
        return t === "head"
    }
    function t_(t, n) {
        var a = n
          , l = 0
          , u = 0;
        do {
            var d = a.nextSibling;
            if (t.removeChild(a),
            d && d.nodeType === 8)
                if (a = d.data,
                a === "/$") {
                    if (0 < l && 8 > l) {
                        a = l;
                        var g = t.ownerDocument;
                        if (a & 1 && cr(g.documentElement),
                        a & 2 && cr(g.body),
                        a & 4)
                            for (a = g.head,
                            cr(a),
                            g = a.firstChild; g; ) {
                                var v = g.nextSibling
                                  , S = g.nodeName;
                                g[Ta] || S === "SCRIPT" || S === "STYLE" || S === "LINK" && g.rel.toLowerCase() === "stylesheet" || a.removeChild(g),
                                g = v
                            }
                    }
                    if (u === 0) {
                        t.removeChild(d),
                        _r(n);
                        return
                    }
                    u--
                } else
                    a === "$" || a === "$?" || a === "$!" ? u++ : l = a.charCodeAt(0) - 48;
            else
                l = 0;
            a = d
        } while (a);
        _r(n)
    }
    function bd(t) {
        var n = t.firstChild;
        for (n && n.nodeType === 10 && (n = n.nextSibling); n; ) {
            var a = n;
            switch (n = n.nextSibling,
            a.nodeName) {
            case "HTML":
            case "HEAD":
            case "BODY":
                bd(a),
                Nc(a);
                continue;
            case "SCRIPT":
            case "STYLE":
                continue;
            case "LINK":
                if (a.rel.toLowerCase() === "stylesheet")
                    continue
            }
            t.removeChild(a)
        }
    }
    function OS(t, n, a, l) {
        for (; t.nodeType === 1; ) {
            var u = a;
            if (t.nodeName.toLowerCase() !== n.toLowerCase()) {
                if (!l && (t.nodeName !== "INPUT" || t.type !== "hidden"))
                    break
            } else if (l) {
                if (!t[Ta])
                    switch (n) {
                    case "meta":
                        if (!t.hasAttribute("itemprop"))
                            break;
                        return t;
                    case "link":
                        if (d = t.getAttribute("rel"),
                        d === "stylesheet" && t.hasAttribute("data-precedence"))
                            break;
                        if (d !== u.rel || t.getAttribute("href") !== (u.href == null || u.href === "" ? null : u.href) || t.getAttribute("crossorigin") !== (u.crossOrigin == null ? null : u.crossOrigin) || t.getAttribute("title") !== (u.title == null ? null : u.title))
                            break;
                        return t;
                    case "style":
                        if (t.hasAttribute("data-precedence"))
                            break;
                        return t;
                    case "script":
                        if (d = t.getAttribute("src"),
                        (d !== (u.src == null ? null : u.src) || t.getAttribute("type") !== (u.type == null ? null : u.type) || t.getAttribute("crossorigin") !== (u.crossOrigin == null ? null : u.crossOrigin)) && d && t.hasAttribute("async") && !t.hasAttribute("itemprop"))
                            break;
                        return t;
                    default:
                        return t
                    }
            } else if (n === "input" && t.type === "hidden") {
                var d = u.name == null ? null : "" + u.name;
                if (u.type === "hidden" && t.getAttribute("name") === d)
                    return t
            } else
                return t;
            if (t = tn(t.nextSibling),
            t === null)
                break
        }
        return null
    }
    function IS(t, n, a) {
        if (n === "")
            return null;
        for (; t.nodeType !== 3; )
            if ((t.nodeType !== 1 || t.nodeName !== "INPUT" || t.type !== "hidden") && !a || (t = tn(t.nextSibling),
            t === null))
                return null;
        return t
    }
    function Sd(t) {
        return t.data === "$!" || t.data === "$?" && t.ownerDocument.readyState === "complete"
    }
    function DS(t, n) {
        var a = t.ownerDocument;
        if (t.data !== "$?" || a.readyState === "complete")
            n();
        else {
            var l = function() {
                n(),
                a.removeEventListener("DOMContentLoaded", l)
            };
            a.addEventListener("DOMContentLoaded", l),
            t._reactRetry = l
        }
    }
    function tn(t) {
        for (; t != null; t = t.nextSibling) {
            var n = t.nodeType;
            if (n === 1 || n === 3)
                break;
            if (n === 8) {
                if (n = t.data,
                n === "$" || n === "$!" || n === "$?" || n === "F!" || n === "F")
                    break;
                if (n === "/$")
                    return null
            }
        }
        return t
    }
    var Cd = null;
    function n_(t) {
        t = t.previousSibling;
        for (var n = 0; t; ) {
            if (t.nodeType === 8) {
                var a = t.data;
                if (a === "$" || a === "$!" || a === "$?") {
                    if (n === 0)
                        return t;
                    n--
                } else
                    a === "/$" && n++
            }
            t = t.previousSibling
        }
        return null
    }
    function i_(t, n, a) {
        switch (n = co(a),
        t) {
        case "html":
            if (t = n.documentElement,
            !t)
                throw Error(r(452));
            return t;
        case "head":
            if (t = n.head,
            !t)
                throw Error(r(453));
            return t;
        case "body":
            if (t = n.body,
            !t)
                throw Error(r(454));
            return t;
        default:
            throw Error(r(451))
        }
    }
    function cr(t) {
        for (var n = t.attributes; n.length; )
            t.removeAttributeNode(n[0]);
        Nc(t)
    }
    var Qt = new Map
      , s_ = new Set;
    function uo(t) {
        return typeof t.getRootNode == "function" ? t.getRootNode() : t.nodeType === 9 ? t : t.ownerDocument
    }
    var kn = K.d;
    K.d = {
        f: MS,
        r: kS,
        D: LS,
        C: jS,
        L: US,
        m: PS,
        X: HS,
        S: zS,
        M: BS
    };
    function MS() {
        var t = kn.f()
          , n = to();
        return t || n
    }
    function kS(t) {
        var n = ps(t);
        n !== null && n.tag === 5 && n.type === "form" ? Tm(n) : kn.r(t)
    }
    var Qs = typeof document > "u" ? null : document;
    function a_(t, n, a) {
        var l = Qs;
        if (l && typeof n == "string" && n) {
            var u = Bt(n);
            u = 'link[rel="' + t + '"][href="' + u + '"]',
            typeof a == "string" && (u += '[crossorigin="' + a + '"]'),
            s_.has(u) || (s_.add(u),
            t = {
                rel: t,
                crossOrigin: a,
                href: n
            },
            l.querySelector(u) === null && (n = l.createElement("link"),
            ut(n, "link", t),
            tt(n),
            l.head.appendChild(n)))
        }
    }
    function LS(t) {
        kn.D(t),
        a_("dns-prefetch", t, null)
    }
    function jS(t, n) {
        kn.C(t, n),
        a_("preconnect", t, n)
    }
    function US(t, n, a) {
        kn.L(t, n, a);
        var l = Qs;
        if (l && t && n) {
            var u = 'link[rel="preload"][as="' + Bt(n) + '"]';
            n === "image" && a && a.imageSrcSet ? (u += '[imagesrcset="' + Bt(a.imageSrcSet) + '"]',
            typeof a.imageSizes == "string" && (u += '[imagesizes="' + Bt(a.imageSizes) + '"]')) : u += '[href="' + Bt(t) + '"]';
            var d = u;
            switch (n) {
            case "style":
                d = Ws(t);
                break;
            case "script":
                d = Xs(t)
            }
            Qt.has(d) || (t = E({
                rel: "preload",
                href: n === "image" && a && a.imageSrcSet ? void 0 : t,
                as: n
            }, a),
            Qt.set(d, t),
            l.querySelector(u) !== null || n === "style" && l.querySelector(ur(d)) || n === "script" && l.querySelector(dr(d)) || (n = l.createElement("link"),
            ut(n, "link", t),
            tt(n),
            l.head.appendChild(n)))
        }
    }
    function PS(t, n) {
        kn.m(t, n);
        var a = Qs;
        if (a && t) {
            var l = n && typeof n.as == "string" ? n.as : "script"
              , u = 'link[rel="modulepreload"][as="' + Bt(l) + '"][href="' + Bt(t) + '"]'
              , d = u;
            switch (l) {
            case "audioworklet":
            case "paintworklet":
            case "serviceworker":
            case "sharedworker":
            case "worker":
            case "script":
                d = Xs(t)
            }
            if (!Qt.has(d) && (t = E({
                rel: "modulepreload",
                href: t
            }, n),
            Qt.set(d, t),
            a.querySelector(u) === null)) {
                switch (l) {
                case "audioworklet":
                case "paintworklet":
                case "serviceworker":
                case "sharedworker":
                case "worker":
                case "script":
                    if (a.querySelector(dr(d)))
                        return
                }
                l = a.createElement("link"),
                ut(l, "link", t),
                tt(l),
                a.head.appendChild(l)
            }
        }
    }
    function zS(t, n, a) {
        kn.S(t, n, a);
        var l = Qs;
        if (l && t) {
            var u = ms(l).hoistableStyles
              , d = Ws(t);
            n = n || "default";
            var g = u.get(d);
            if (!g) {
                var v = {
                    loading: 0,
                    preload: null
                };
                if (g = l.querySelector(ur(d)))
                    v.loading = 5;
                else {
                    t = E({
                        rel: "stylesheet",
                        href: t,
                        "data-precedence": n
                    }, a),
                    (a = Qt.get(d)) && Td(t, a);
                    var S = g = l.createElement("link");
                    tt(S),
                    ut(S, "link", t),
                    S._p = new Promise(function(O, j) {
                        S.onload = O,
                        S.onerror = j
                    }
                    ),
                    S.addEventListener("load", function() {
                        v.loading |= 1
                    }),
                    S.addEventListener("error", function() {
                        v.loading |= 2
                    }),
                    v.loading |= 4,
                    fo(g, n, l)
                }
                g = {
                    type: "stylesheet",
                    instance: g,
                    count: 1,
                    state: v
                },
                u.set(d, g)
            }
        }
    }
    function HS(t, n) {
        kn.X(t, n);
        var a = Qs;
        if (a && t) {
            var l = ms(a).hoistableScripts
              , u = Xs(t)
              , d = l.get(u);
            d || (d = a.querySelector(dr(u)),
            d || (t = E({
                src: t,
                async: !0
            }, n),
            (n = Qt.get(u)) && wd(t, n),
            d = a.createElement("script"),
            tt(d),
            ut(d, "link", t),
            a.head.appendChild(d)),
            d = {
                type: "script",
                instance: d,
                count: 1,
                state: null
            },
            l.set(u, d))
        }
    }
    function BS(t, n) {
        kn.M(t, n);
        var a = Qs;
        if (a && t) {
            var l = ms(a).hoistableScripts
              , u = Xs(t)
              , d = l.get(u);
            d || (d = a.querySelector(dr(u)),
            d || (t = E({
                src: t,
                async: !0,
                type: "module"
            }, n),
            (n = Qt.get(u)) && wd(t, n),
            d = a.createElement("script"),
            tt(d),
            ut(d, "link", t),
            a.head.appendChild(d)),
            d = {
                type: "script",
                instance: d,
                count: 1,
                state: null
            },
            l.set(u, d))
        }
    }
    function r_(t, n, a, l) {
        var u = (u = ne.current) ? uo(u) : null;
        if (!u)
            throw Error(r(446));
        switch (t) {
        case "meta":
        case "title":
            return null;
        case "style":
            return typeof a.precedence == "string" && typeof a.href == "string" ? (n = Ws(a.href),
            a = ms(u).hoistableStyles,
            l = a.get(n),
            l || (l = {
                type: "style",
                instance: null,
                count: 0,
                state: null
            },
            a.set(n, l)),
            l) : {
                type: "void",
                instance: null,
                count: 0,
                state: null
            };
        case "link":
            if (a.rel === "stylesheet" && typeof a.href == "string" && typeof a.precedence == "string") {
                t = Ws(a.href);
                var d = ms(u).hoistableStyles
                  , g = d.get(t);
                if (g || (u = u.ownerDocument || u,
                g = {
                    type: "stylesheet",
                    instance: null,
                    count: 0,
                    state: {
                        loading: 0,
                        preload: null
                    }
                },
                d.set(t, g),
                (d = u.querySelector(ur(t))) && !d._p && (g.instance = d,
                g.state.loading = 5),
                Qt.has(t) || (a = {
                    rel: "preload",
                    as: "style",
                    href: a.href,
                    crossOrigin: a.crossOrigin,
                    integrity: a.integrity,
                    media: a.media,
                    hrefLang: a.hrefLang,
                    referrerPolicy: a.referrerPolicy
                },
                Qt.set(t, a),
                d || qS(u, t, a, g.state))),
                n && l === null)
                    throw Error(r(528, ""));
                return g
            }
            if (n && l !== null)
                throw Error(r(529, ""));
            return null;
        case "script":
            return n = a.async,
            a = a.src,
            typeof a == "string" && n && typeof n != "function" && typeof n != "symbol" ? (n = Xs(a),
            a = ms(u).hoistableScripts,
            l = a.get(n),
            l || (l = {
                type: "script",
                instance: null,
                count: 0,
                state: null
            },
            a.set(n, l)),
            l) : {
                type: "void",
                instance: null,
                count: 0,
                state: null
            };
        default:
            throw Error(r(444, t))
        }
    }
    function Ws(t) {
        return 'href="' + Bt(t) + '"'
    }
    function ur(t) {
        return 'link[rel="stylesheet"][' + t + "]"
    }
    function l_(t) {
        return E({}, t, {
            "data-precedence": t.precedence,
            precedence: null
        })
    }
    function qS(t, n, a, l) {
        t.querySelector('link[rel="preload"][as="style"][' + n + "]") ? l.loading = 1 : (n = t.createElement("link"),
        l.preload = n,
        n.addEventListener("load", function() {
            return l.loading |= 1
        }),
        n.addEventListener("error", function() {
            return l.loading |= 2
        }),
        ut(n, "link", a),
        tt(n),
        t.head.appendChild(n))
    }
    function Xs(t) {
        return '[src="' + Bt(t) + '"]'
    }
    function dr(t) {
        return "script[async]" + t
    }
    function o_(t, n, a) {
        if (n.count++,
        n.instance === null)
            switch (n.type) {
            case "style":
                var l = t.querySelector('style[data-href~="' + Bt(a.href) + '"]');
                if (l)
                    return n.instance = l,
                    tt(l),
                    l;
                var u = E({}, a, {
                    "data-href": a.href,
                    "data-precedence": a.precedence,
                    href: null,
                    precedence: null
                });
                return l = (t.ownerDocument || t).createElement("style"),
                tt(l),
                ut(l, "style", u),
                fo(l, a.precedence, t),
                n.instance = l;
            case "stylesheet":
                u = Ws(a.href);
                var d = t.querySelector(ur(u));
                if (d)
                    return n.state.loading |= 4,
                    n.instance = d,
                    tt(d),
                    d;
                l = l_(a),
                (u = Qt.get(u)) && Td(l, u),
                d = (t.ownerDocument || t).createElement("link"),
                tt(d);
                var g = d;
                return g._p = new Promise(function(v, S) {
                    g.onload = v,
                    g.onerror = S
                }
                ),
                ut(d, "link", l),
                n.state.loading |= 4,
                fo(d, a.precedence, t),
                n.instance = d;
            case "script":
                return d = Xs(a.src),
                (u = t.querySelector(dr(d))) ? (n.instance = u,
                tt(u),
                u) : (l = a,
                (u = Qt.get(d)) && (l = E({}, a),
                wd(l, u)),
                t = t.ownerDocument || t,
                u = t.createElement("script"),
                tt(u),
                ut(u, "link", l),
                t.head.appendChild(u),
                n.instance = u);
            case "void":
                return null;
            default:
                throw Error(r(443, n.type))
            }
        else
            n.type === "stylesheet" && (n.state.loading & 4) === 0 && (l = n.instance,
            n.state.loading |= 4,
            fo(l, a.precedence, t));
        return n.instance
    }
    function fo(t, n, a) {
        for (var l = a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'), u = l.length ? l[l.length - 1] : null, d = u, g = 0; g < l.length; g++) {
            var v = l[g];
            if (v.dataset.precedence === n)
                d = v;
            else if (d !== u)
                break
        }
        d ? d.parentNode.insertBefore(t, d.nextSibling) : (n = a.nodeType === 9 ? a.head : a,
        n.insertBefore(t, n.firstChild))
    }
    function Td(t, n) {
        t.crossOrigin == null && (t.crossOrigin = n.crossOrigin),
        t.referrerPolicy == null && (t.referrerPolicy = n.referrerPolicy),
        t.title == null && (t.title = n.title)
    }
    function wd(t, n) {
        t.crossOrigin == null && (t.crossOrigin = n.crossOrigin),
        t.referrerPolicy == null && (t.referrerPolicy = n.referrerPolicy),
        t.integrity == null && (t.integrity = n.integrity)
    }
    var ho = null;
    function c_(t, n, a) {
        if (ho === null) {
            var l = new Map
              , u = ho = new Map;
            u.set(a, l)
        } else
            u = ho,
            l = u.get(a),
            l || (l = new Map,
            u.set(a, l));
        if (l.has(t))
            return l;
        for (l.set(t, null),
        a = a.getElementsByTagName(t),
        u = 0; u < a.length; u++) {
            var d = a[u];
            if (!(d[Ta] || d[ft] || t === "link" && d.getAttribute("rel") === "stylesheet") && d.namespaceURI !== "http://www.w3.org/2000/svg") {
                var g = d.getAttribute(n) || "";
                g = t + g;
                var v = l.get(g);
                v ? v.push(d) : l.set(g, [d])
            }
        }
        return l
    }
    function u_(t, n, a) {
        t = t.ownerDocument || t,
        t.head.insertBefore(a, n === "title" ? t.querySelector("head > title") : null)
    }
    function VS(t, n, a) {
        if (a === 1 || n.itemProp != null)
            return !1;
        switch (t) {
        case "meta":
        case "title":
            return !0;
        case "style":
            if (typeof n.precedence != "string" || typeof n.href != "string" || n.href === "")
                break;
            return !0;
        case "link":
            if (typeof n.rel != "string" || typeof n.href != "string" || n.href === "" || n.onLoad || n.onError)
                break;
            switch (n.rel) {
            case "stylesheet":
                return t = n.disabled,
                typeof n.precedence == "string" && t == null;
            default:
                return !0
            }
        case "script":
            if (n.async && typeof n.async != "function" && typeof n.async != "symbol" && !n.onLoad && !n.onError && n.src && typeof n.src == "string")
                return !0
        }
        return !1
    }
    function d_(t) {
        return !(t.type === "stylesheet" && (t.state.loading & 3) === 0)
    }
    var fr = null;
    function GS() {}
    function YS(t, n, a) {
        if (fr === null)
            throw Error(r(475));
        var l = fr;
        if (n.type === "stylesheet" && (typeof a.media != "string" || matchMedia(a.media).matches !== !1) && (n.state.loading & 4) === 0) {
            if (n.instance === null) {
                var u = Ws(a.href)
                  , d = t.querySelector(ur(u));
                if (d) {
                    t = d._p,
                    t !== null && typeof t == "object" && typeof t.then == "function" && (l.count++,
                    l = po.bind(l),
                    t.then(l, l)),
                    n.state.loading |= 4,
                    n.instance = d,
                    tt(d);
                    return
                }
                d = t.ownerDocument || t,
                a = l_(a),
                (u = Qt.get(u)) && Td(a, u),
                d = d.createElement("link"),
                tt(d);
                var g = d;
                g._p = new Promise(function(v, S) {
                    g.onload = v,
                    g.onerror = S
                }
                ),
                ut(d, "link", a),
                n.instance = d
            }
            l.stylesheets === null && (l.stylesheets = new Map),
            l.stylesheets.set(n, t),
            (t = n.state.preload) && (n.state.loading & 3) === 0 && (l.count++,
            n = po.bind(l),
            t.addEventListener("load", n),
            t.addEventListener("error", n))
        }
    }
    function FS() {
        if (fr === null)
            throw Error(r(475));
        var t = fr;
        return t.stylesheets && t.count === 0 && Nd(t, t.stylesheets),
        0 < t.count ? function(n) {
            var a = setTimeout(function() {
                if (t.stylesheets && Nd(t, t.stylesheets),
                t.unsuspend) {
                    var l = t.unsuspend;
                    t.unsuspend = null,
                    l()
                }
            }, 6e4);
            return t.unsuspend = n,
            function() {
                t.unsuspend = null,
                clearTimeout(a)
            }
        }
        : null
    }
    function po() {
        if (this.count--,
        this.count === 0) {
            if (this.stylesheets)
                Nd(this, this.stylesheets);
            else if (this.unsuspend) {
                var t = this.unsuspend;
                this.unsuspend = null,
                t()
            }
        }
    }
    var mo = null;
    function Nd(t, n) {
        t.stylesheets = null,
        t.unsuspend !== null && (t.count++,
        mo = new Map,
        n.forEach(KS, t),
        mo = null,
        po.call(t))
    }
    function KS(t, n) {
        if (!(n.state.loading & 4)) {
            var a = mo.get(t);
            if (a)
                var l = a.get(null);
            else {
                a = new Map,
                mo.set(t, a);
                for (var u = t.querySelectorAll("link[data-precedence],style[data-precedence]"), d = 0; d < u.length; d++) {
                    var g = u[d];
                    (g.nodeName === "LINK" || g.getAttribute("media") !== "not all") && (a.set(g.dataset.precedence, g),
                    l = g)
                }
                l && a.set(null, l)
            }
            u = n.instance,
            g = u.getAttribute("data-precedence"),
            d = a.get(g) || l,
            d === l && a.set(null, u),
            a.set(g, u),
            this.count++,
            l = po.bind(this),
            u.addEventListener("load", l),
            u.addEventListener("error", l),
            d ? d.parentNode.insertBefore(u, d.nextSibling) : (t = t.nodeType === 9 ? t.head : t,
            t.insertBefore(u, t.firstChild)),
            n.state.loading |= 4
        }
    }
    var hr = {
        $$typeof: F,
        Provider: null,
        Consumer: null,
        _currentValue: X,
        _currentValue2: X,
        _threadCount: 0
    };
    function QS(t, n, a, l, u, d, g, v) {
        this.tag = 1,
        this.containerInfo = t,
        this.pingCache = this.current = this.pendingChildren = null,
        this.timeoutHandle = -1,
        this.callbackNode = this.next = this.pendingContext = this.context = this.cancelPendingCommit = null,
        this.callbackPriority = 0,
        this.expirationTimes = Sc(-1),
        this.entangledLanes = this.shellSuspendCounter = this.errorRecoveryDisabledLanes = this.expiredLanes = this.warmLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0,
        this.entanglements = Sc(0),
        this.hiddenUpdates = Sc(null),
        this.identifierPrefix = l,
        this.onUncaughtError = u,
        this.onCaughtError = d,
        this.onRecoverableError = g,
        this.pooledCache = null,
        this.pooledCacheLanes = 0,
        this.formState = v,
        this.incompleteTransitions = new Map
    }
    function f_(t, n, a, l, u, d, g, v, S, O, j, P) {
        return t = new QS(t,n,a,g,v,S,O,P),
        n = 1,
        d === !0 && (n |= 24),
        d = Mt(3, null, null, n),
        t.current = d,
        d.stateNode = t,
        n = lu(),
        n.refCount++,
        t.pooledCache = n,
        n.refCount++,
        d.memoizedState = {
            element: l,
            isDehydrated: a,
            cache: n
        },
        du(d),
        t
    }
    function h_(t) {
        return t ? (t = Rs,
        t) : Rs
    }
    function p_(t, n, a, l, u, d) {
        u = h_(u),
        l.context === null ? l.context = u : l.pendingContext = u,
        l = Zn(n),
        l.payload = {
            element: a
        },
        d = d === void 0 ? null : d,
        d !== null && (l.callback = d),
        a = Jn(t, l, n),
        a !== null && (Pt(a, t, n),
        Va(a, t, n))
    }
    function m_(t, n) {
        if (t = t.memoizedState,
        t !== null && t.dehydrated !== null) {
            var a = t.retryLane;
            t.retryLane = a !== 0 && a < n ? a : n
        }
    }
    function Rd(t, n) {
        m_(t, n),
        (t = t.alternate) && m_(t, n)
    }
    function g_(t) {
        if (t.tag === 13) {
            var n = Ns(t, 67108864);
            n !== null && Pt(n, t, 67108864),
            Rd(t, 67108864)
        }
    }
    var go = !0;
    function WS(t, n, a, l) {
        var u = L.T;
        L.T = null;
        var d = K.p;
        try {
            K.p = 2,
            Ad(t, n, a, l)
        } finally {
            K.p = d,
            L.T = u
        }
    }
    function XS(t, n, a, l) {
        var u = L.T;
        L.T = null;
        var d = K.p;
        try {
            K.p = 8,
            Ad(t, n, a, l)
        } finally {
            K.p = d,
            L.T = u
        }
    }
    function Ad(t, n, a, l) {
        if (go) {
            var u = xd(l);
            if (u === null)
                md(t, n, l, _o, a),
                v_(t, l);
            else if (ZS(u, t, n, a, l))
                l.stopPropagation();
            else if (v_(t, l),
            n & 4 && -1 < $S.indexOf(t)) {
                for (; u !== null; ) {
                    var d = ps(u);
                    if (d !== null)
                        switch (d.tag) {
                        case 3:
                            if (d = d.stateNode,
                            d.current.memoizedState.isDehydrated) {
                                var g = Mi(d.pendingLanes);
                                if (g !== 0) {
                                    var v = d;
                                    for (v.pendingLanes |= 2,
                                    v.entangledLanes |= 2; g; ) {
                                        var S = 1 << 31 - It(g);
                                        v.entanglements[1] |= S,
                                        g &= ~S
                                    }
                                    gn(d),
                                    (we & 6) === 0 && (Jl = dn() + 500,
                                    rr(0))
                                }
                            }
                            break;
                        case 13:
                            v = Ns(d, 2),
                            v !== null && Pt(v, d, 2),
                            to(),
                            Rd(d, 2)
                        }
                    if (d = xd(l),
                    d === null && md(t, n, l, _o, a),
                    d === u)
                        break;
                    u = d
                }
                u !== null && l.stopPropagation()
            } else
                md(t, n, l, null, a)
        }
    }
    function xd(t) {
        return t = kc(t),
        Od(t)
    }
    var _o = null;
    function Od(t) {
        if (_o = null,
        t = hs(t),
        t !== null) {
            var n = c(t);
            if (n === null)
                t = null;
            else {
                var a = n.tag;
                if (a === 13) {
                    if (t = f(n),
                    t !== null)
                        return t;
                    t = null
                } else if (a === 3) {
                    if (n.stateNode.current.memoizedState.isDehydrated)
                        return n.tag === 3 ? n.stateNode.containerInfo : null;
                    t = null
                } else
                    n !== t && (t = null)
            }
        }
        return _o = t,
        null
    }
    function __(t) {
        switch (t) {
        case "beforetoggle":
        case "cancel":
        case "click":
        case "close":
        case "contextmenu":
        case "copy":
        case "cut":
        case "auxclick":
        case "dblclick":
        case "dragend":
        case "dragstart":
        case "drop":
        case "focusin":
        case "focusout":
        case "input":
        case "invalid":
        case "keydown":
        case "keypress":
        case "keyup":
        case "mousedown":
        case "mouseup":
        case "paste":
        case "pause":
        case "play":
        case "pointercancel":
        case "pointerdown":
        case "pointerup":
        case "ratechange":
        case "reset":
        case "resize":
        case "seeked":
        case "submit":
        case "toggle":
        case "touchcancel":
        case "touchend":
        case "touchstart":
        case "volumechange":
        case "change":
        case "selectionchange":
        case "textInput":
        case "compositionstart":
        case "compositionend":
        case "compositionupdate":
        case "beforeblur":
        case "afterblur":
        case "beforeinput":
        case "blur":
        case "fullscreenchange":
        case "focus":
        case "hashchange":
        case "popstate":
        case "select":
        case "selectstart":
            return 2;
        case "drag":
        case "dragenter":
        case "dragexit":
        case "dragleave":
        case "dragover":
        case "mousemove":
        case "mouseout":
        case "mouseover":
        case "pointermove":
        case "pointerout":
        case "pointerover":
        case "scroll":
        case "touchmove":
        case "wheel":
        case "mouseenter":
        case "mouseleave":
        case "pointerenter":
        case "pointerleave":
            return 8;
        case "message":
            switch (jE()) {
            case Ih:
                return 2;
            case Dh:
                return 8;
            case ol:
            case UE:
                return 32;
            case Mh:
                return 268435456;
            default:
                return 32
            }
        default:
            return 32
        }
    }
    var Id = !1
      , fi = null
      , hi = null
      , pi = null
      , pr = new Map
      , mr = new Map
      , mi = []
      , $S = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");
    function v_(t, n) {
        switch (t) {
        case "focusin":
        case "focusout":
            fi = null;
            break;
        case "dragenter":
        case "dragleave":
            hi = null;
            break;
        case "mouseover":
        case "mouseout":
            pi = null;
            break;
        case "pointerover":
        case "pointerout":
            pr.delete(n.pointerId);
            break;
        case "gotpointercapture":
        case "lostpointercapture":
            mr.delete(n.pointerId)
        }
    }
    function gr(t, n, a, l, u, d) {
        return t === null || t.nativeEvent !== d ? (t = {
            blockedOn: n,
            domEventName: a,
            eventSystemFlags: l,
            nativeEvent: d,
            targetContainers: [u]
        },
        n !== null && (n = ps(n),
        n !== null && g_(n)),
        t) : (t.eventSystemFlags |= l,
        n = t.targetContainers,
        u !== null && n.indexOf(u) === -1 && n.push(u),
        t)
    }
    function ZS(t, n, a, l, u) {
        switch (n) {
        case "focusin":
            return fi = gr(fi, t, n, a, l, u),
            !0;
        case "dragenter":
            return hi = gr(hi, t, n, a, l, u),
            !0;
        case "mouseover":
            return pi = gr(pi, t, n, a, l, u),
            !0;
        case "pointerover":
            var d = u.pointerId;
            return pr.set(d, gr(pr.get(d) || null, t, n, a, l, u)),
            !0;
        case "gotpointercapture":
            return d = u.pointerId,
            mr.set(d, gr(mr.get(d) || null, t, n, a, l, u)),
            !0
        }
        return !1
    }
    function y_(t) {
        var n = hs(t.target);
        if (n !== null) {
            var a = c(n);
            if (a !== null) {
                if (n = a.tag,
                n === 13) {
                    if (n = f(a),
                    n !== null) {
                        t.blockedOn = n,
                        YE(t.priority, function() {
                            if (a.tag === 13) {
                                var l = Ut();
                                l = Cc(l);
                                var u = Ns(a, l);
                                u !== null && Pt(u, a, l),
                                Rd(a, l)
                            }
                        });
                        return
                    }
                } else if (n === 3 && a.stateNode.current.memoizedState.isDehydrated) {
                    t.blockedOn = a.tag === 3 ? a.stateNode.containerInfo : null;
                    return
                }
            }
        }
        t.blockedOn = null
    }
    function vo(t) {
        if (t.blockedOn !== null)
            return !1;
        for (var n = t.targetContainers; 0 < n.length; ) {
            var a = xd(t.nativeEvent);
            if (a === null) {
                a = t.nativeEvent;
                var l = new a.constructor(a.type,a);
                Mc = l,
                a.target.dispatchEvent(l),
                Mc = null
            } else
                return n = ps(a),
                n !== null && g_(n),
                t.blockedOn = a,
                !1;
            n.shift()
        }
        return !0
    }
    function E_(t, n, a) {
        vo(t) && a.delete(n)
    }
    function JS() {
        Id = !1,
        fi !== null && vo(fi) && (fi = null),
        hi !== null && vo(hi) && (hi = null),
        pi !== null && vo(pi) && (pi = null),
        pr.forEach(E_),
        mr.forEach(E_)
    }
    function yo(t, n) {
        t.blockedOn === n && (t.blockedOn = null,
        Id || (Id = !0,
        s.unstable_scheduleCallback(s.unstable_NormalPriority, JS)))
    }
    var Eo = null;
    function b_(t) {
        Eo !== t && (Eo = t,
        s.unstable_scheduleCallback(s.unstable_NormalPriority, function() {
            Eo === t && (Eo = null);
            for (var n = 0; n < t.length; n += 3) {
                var a = t[n]
                  , l = t[n + 1]
                  , u = t[n + 2];
                if (typeof l != "function") {
                    if (Od(l || a) === null)
                        continue;
                    break
                }
                var d = ps(a);
                d !== null && (t.splice(n, 3),
                n -= 3,
                Ou(d, {
                    pending: !0,
                    data: u,
                    method: a.method,
                    action: l
                }, l, u))
            }
        }))
    }
    function _r(t) {
        function n(S) {
            return yo(S, t)
        }
        fi !== null && yo(fi, t),
        hi !== null && yo(hi, t),
        pi !== null && yo(pi, t),
        pr.forEach(n),
        mr.forEach(n);
        for (var a = 0; a < mi.length; a++) {
            var l = mi[a];
            l.blockedOn === t && (l.blockedOn = null)
        }
        for (; 0 < mi.length && (a = mi[0],
        a.blockedOn === null); )
            y_(a),
            a.blockedOn === null && mi.shift();
        if (a = (t.ownerDocument || t).$$reactFormReplay,
        a != null)
            for (l = 0; l < a.length; l += 3) {
                var u = a[l]
                  , d = a[l + 1]
                  , g = u[bt] || null;
                if (typeof d == "function")
                    g || b_(a);
                else if (g) {
                    var v = null;
                    if (d && d.hasAttribute("formAction")) {
                        if (u = d,
                        g = d[bt] || null)
                            v = g.formAction;
                        else if (Od(u) !== null)
                            continue
                    } else
                        v = g.action;
                    typeof v == "function" ? a[l + 1] = v : (a.splice(l, 3),
                    l -= 3),
                    b_(a)
                }
            }
    }
    function Dd(t) {
        this._internalRoot = t
    }
    bo.prototype.render = Dd.prototype.render = function(t) {
        var n = this._internalRoot;
        if (n === null)
            throw Error(r(409));
        var a = n.current
          , l = Ut();
        p_(a, l, t, n, null, null)
    }
    ,
    bo.prototype.unmount = Dd.prototype.unmount = function() {
        var t = this._internalRoot;
        if (t !== null) {
            this._internalRoot = null;
            var n = t.containerInfo;
            p_(t.current, 2, null, t, null, null),
            to(),
            n[fs] = null
        }
    }
    ;
    function bo(t) {
        this._internalRoot = t
    }
    bo.prototype.unstable_scheduleHydration = function(t) {
        if (t) {
            var n = Ph();
            t = {
                blockedOn: null,
                target: t,
                priority: n
            };
            for (var a = 0; a < mi.length && n !== 0 && n < mi[a].priority; a++)
                ;
            mi.splice(a, 0, t),
            a === 0 && y_(t)
        }
    }
    ;
    var S_ = e.version;
    if (S_ !== "19.1.0")
        throw Error(r(527, S_, "19.1.0"));
    K.findDOMNode = function(t) {
        var n = t._reactInternals;
        if (n === void 0)
            throw typeof t.render == "function" ? Error(r(188)) : (t = Object.keys(t).join(","),
            Error(r(268, t)));
        return t = p(n),
        t = t !== null ? m(t) : null,
        t = t === null ? null : t.stateNode,
        t
    }
    ;
    var e1 = {
        bundleType: 0,
        version: "19.1.0",
        rendererPackageName: "react-dom",
        currentDispatcherRef: L,
        reconcilerVersion: "19.1.0"
    };
    if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") {
        var So = __REACT_DEVTOOLS_GLOBAL_HOOK__;
        if (!So.isDisabled && So.supportsFiber)
            try {
                ba = So.inject(e1),
                Ot = So
            } catch {}
    }
    return yr.createRoot = function(t, n) {
        if (!o(t))
            throw Error(r(299));
        var a = !1
          , l = ""
          , u = Pm
          , d = zm
          , g = Hm
          , v = null;
        return n != null && (n.unstable_strictMode === !0 && (a = !0),
        n.identifierPrefix !== void 0 && (l = n.identifierPrefix),
        n.onUncaughtError !== void 0 && (u = n.onUncaughtError),
        n.onCaughtError !== void 0 && (d = n.onCaughtError),
        n.onRecoverableError !== void 0 && (g = n.onRecoverableError),
        n.unstable_transitionCallbacks !== void 0 && (v = n.unstable_transitionCallbacks)),
        n = f_(t, 1, !1, null, null, a, l, u, d, g, v, null),
        t[fs] = n.current,
        pd(t),
        new Dd(n)
    }
    ,
    yr.hydrateRoot = function(t, n, a) {
        if (!o(t))
            throw Error(r(299));
        var l = !1
          , u = ""
          , d = Pm
          , g = zm
          , v = Hm
          , S = null
          , O = null;
        return a != null && (a.unstable_strictMode === !0 && (l = !0),
        a.identifierPrefix !== void 0 && (u = a.identifierPrefix),
        a.onUncaughtError !== void 0 && (d = a.onUncaughtError),
        a.onCaughtError !== void 0 && (g = a.onCaughtError),
        a.onRecoverableError !== void 0 && (v = a.onRecoverableError),
        a.unstable_transitionCallbacks !== void 0 && (S = a.unstable_transitionCallbacks),
        a.formState !== void 0 && (O = a.formState)),
        n = f_(t, 1, !0, n, a ?? null, l, u, d, g, v, S, O),
        n.context = h_(null),
        a = n.current,
        l = Ut(),
        l = Cc(l),
        u = Zn(l),
        u.callback = null,
        Jn(a, u, l),
        a = l,
        n.current.lanes = a,
        Ca(n, a),
        gn(n),
        t[fs] = n.current,
        pd(t),
        new bo(n)
    }
    ,
    yr.version = "19.1.0",
    yr
}
var D_;
function d1() {
    if (D_)
        return Ld.exports;
    D_ = 1;
    function s() {
        if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"))
            try {
                __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)
            } catch (e) {
                console.error(e)
            }
    }
    return s(),
    Ld.exports = u1(),
    Ld.exports
}
var f1 = d1();
const h1 = ty(f1);
var Er = {}, M_;
function p1() {
    if (M_)
        return Er;
    M_ = 1,
    Object.defineProperty(Er, "__esModule", {
        value: !0
    }),
    Er.parse = f,
    Er.serialize = m;
    const s = /^[\u0021-\u003A\u003C\u003E-\u007E]+$/
      , e = /^[\u0021-\u003A\u003C-\u007E]*$/
      , i = /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i
      , r = /^[\u0020-\u003A\u003D-\u007E]*$/
      , o = Object.prototype.toString
      , c = ( () => {
        const y = function() {};
        return y.prototype = Object.create(null),
        y
    }
    )();
    function f(y, A) {
        const T = new c
          , k = y.length;
        if (k < 2)
            return T;
        const z = (A == null ? void 0 : A.decode) || E;
        let H = 0;
        do {
            const B = y.indexOf("=", H);
            if (B === -1)
                break;
            const F = y.indexOf(";", H)
              , Q = F === -1 ? k : F;
            if (B > Q) {
                H = y.lastIndexOf(";", B - 1) + 1;
                continue
            }
            const G = h(y, H, B)
              , re = p(y, B, G)
              , ye = y.slice(G, re);
            if (T[ye] === void 0) {
                let Te = h(y, B + 1, Q)
                  , ve = p(y, Q, Te);
                const Ie = z(y.slice(Te, ve));
                T[ye] = Ie
            }
            H = Q + 1
        } while (H < k);
        return T
    }
    function h(y, A, T) {
        do {
            const k = y.charCodeAt(A);
            if (k !== 32 && k !== 9)
                return A
        } while (++A < T);
        return T
    }
    function p(y, A, T) {
        for (; A > T; ) {
            const k = y.charCodeAt(--A);
            if (k !== 32 && k !== 9)
                return A + 1
        }
        return T
    }
    function m(y, A, T) {
        const k = (T == null ? void 0 : T.encode) || encodeURIComponent;
        if (!s.test(y))
            throw new TypeError(`argument name is invalid: ${y}`);
        const z = k(A);
        if (!e.test(z))
            throw new TypeError(`argument val is invalid: ${A}`);
        let H = y + "=" + z;
        if (!T)
            return H;
        if (T.maxAge !== void 0) {
            if (!Number.isInteger(T.maxAge))
                throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);
            H += "; Max-Age=" + T.maxAge
        }
        if (T.domain) {
            if (!i.test(T.domain))
                throw new TypeError(`option domain is invalid: ${T.domain}`);
            H += "; Domain=" + T.domain
        }
        if (T.path) {
            if (!r.test(T.path))
                throw new TypeError(`option path is invalid: ${T.path}`);
            H += "; Path=" + T.path
        }
        if (T.expires) {
            if (!b(T.expires) || !Number.isFinite(T.expires.valueOf()))
                throw new TypeError(`option expires is invalid: ${T.expires}`);
            H += "; Expires=" + T.expires.toUTCString()
        }
        if (T.httpOnly && (H += "; HttpOnly"),
        T.secure && (H += "; Secure"),
        T.partitioned && (H += "; Partitioned"),
        T.priority)
            switch (typeof T.priority == "string" ? T.priority.toLowerCase() : void 0) {
            case "low":
                H += "; Priority=Low";
                break;
            case "medium":
                H += "; Priority=Medium";
                break;
            case "high":
                H += "; Priority=High";
                break;
            default:
                throw new TypeError(`option priority is invalid: ${T.priority}`)
            }
        if (T.sameSite)
            switch (typeof T.sameSite == "string" ? T.sameSite.toLowerCase() : T.sameSite) {
            case !0:
            case "strict":
                H += "; SameSite=Strict";
                break;
            case "lax":
                H += "; SameSite=Lax";
                break;
            case "none":
                H += "; SameSite=None";
                break;
            default:
                throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)
            }
        return H
    }
    function E(y) {
        if (y.indexOf("%") === -1)
            return y;
        try {
            return decodeURIComponent(y)
        } catch {
            return y
        }
    }
    function b(y) {
        return o.call(y) === "[object Date]"
    }
    return Er
}
p1();
var k_ = "popstate";
function m1(s={}) {
    function e(r, o) {
        let {pathname: c, search: f, hash: h} = r.location;
        return sf("", {
            pathname: c,
            search: f,
            hash: h
        }, o.state && o.state.usr || null, o.state && o.state.key || "default")
    }
    function i(r, o) {
        return typeof o == "string" ? o : jr(o)
    }
    return _1(e, i, null, s)
}
function ze(s, e) {
    if (s === !1 || s === null || typeof s > "u")
        throw new Error(e)
}
function cn(s, e) {
    if (!s) {
        typeof console < "u" && console.warn(e);
        try {
            throw new Error(e)
        } catch {}
    }
}
function g1() {
    return Math.random().toString(36).substring(2, 10)
}
function L_(s, e) {
    return {
        usr: s.state,
        key: s.key,
        idx: e
    }
}
function sf(s, e, i=null, r) {
    return {
        pathname: typeof s == "string" ? s : s.pathname,
        search: "",
        hash: "",
        ...typeof e == "string" ? ua(e) : e,
        state: i,
        key: e && e.key || r || g1()
    }
}
function jr({pathname: s="/", search: e="", hash: i=""}) {
    return e && e !== "?" && (s += e.charAt(0) === "?" ? e : "?" + e),
    i && i !== "#" && (s += i.charAt(0) === "#" ? i : "#" + i),
    s
}
function ua(s) {
    let e = {};
    if (s) {
        let i = s.indexOf("#");
        i >= 0 && (e.hash = s.substring(i),
        s = s.substring(0, i));
        let r = s.indexOf("?");
        r >= 0 && (e.search = s.substring(r),
        s = s.substring(0, r)),
        s && (e.pathname = s)
    }
    return e
}
function _1(s, e, i, r={}) {
    let {window: o=document.defaultView, v5Compat: c=!1} = r
      , f = o.history
      , h = "POP"
      , p = null
      , m = E();
    m == null && (m = 0,
    f.replaceState({
        ...f.state,
        idx: m
    }, ""));
    function E() {
        return (f.state || {
            idx: null
        }).idx
    }
    function b() {
        h = "POP";
        let z = E()
          , H = z == null ? null : z - m;
        m = z,
        p && p({
            action: h,
            location: k.location,
            delta: H
        })
    }
    function y(z, H) {
        h = "PUSH";
        let B = sf(k.location, z, H);
        m = E() + 1;
        let F = L_(B, m)
          , Q = k.createHref(B);
        try {
            f.pushState(F, "", Q)
        } catch (G) {
            if (G instanceof DOMException && G.name === "DataCloneError")
                throw G;
            o.location.assign(Q)
        }
        c && p && p({
            action: h,
            location: k.location,
            delta: 1
        })
    }
    function A(z, H) {
        h = "REPLACE";
        let B = sf(k.location, z, H);
        m = E();
        let F = L_(B, m)
          , Q = k.createHref(B);
        f.replaceState(F, "", Q),
        c && p && p({
            action: h,
            location: k.location,
            delta: 0
        })
    }
    function T(z) {
        return v1(z)
    }
    let k = {
        get action() {
            return h
        },
        get location() {
            return s(o, f)
        },
        listen(z) {
            if (p)
                throw new Error("A history only accepts one active listener");
            return o.addEventListener(k_, b),
            p = z,
            () => {
                o.removeEventListener(k_, b),
                p = null
            }
        },
        createHref(z) {
            return e(o, z)
        },
        createURL: T,
        encodeLocation(z) {
            let H = T(z);
            return {
                pathname: H.pathname,
                search: H.search,
                hash: H.hash
            }
        },
        push: y,
        replace: A,
        go(z) {
            return f.go(z)
        }
    };
    return k
}
function v1(s, e=!1) {
    let i = "http://localhost";
    typeof window < "u" && (i = window.location.origin !== "null" ? window.location.origin : window.location.href),
    ze(i, "No window.location.(origin|href) available to create URL");
    let r = typeof s == "string" ? s : jr(s);
    return r = r.replace(/ $/, "%20"),
    !e && r.startsWith("//") && (r = i + r),
    new URL(r,i)
}
function ny(s, e, i="/") {
    return y1(s, e, i, !1)
}
function y1(s, e, i, r) {
    let o = typeof e == "string" ? ua(e) : e
      , c = Bn(o.pathname || "/", i);
    if (c == null)
        return null;
    let f = iy(s);
    E1(f);
    let h = null;
    for (let p = 0; h == null && p < f.length; ++p) {
        let m = I1(c);
        h = x1(f[p], m, r)
    }
    return h
}
function iy(s, e=[], i=[], r="") {
    let o = (c, f, h) => {
        let p = {
            relativePath: h === void 0 ? c.path || "" : h,
            caseSensitive: c.caseSensitive === !0,
            childrenIndex: f,
            route: c
        };
        p.relativePath.startsWith("/") && (ze(p.relativePath.startsWith(r), `Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),
        p.relativePath = p.relativePath.slice(r.length));
        let m = zn([r, p.relativePath])
          , E = i.concat(p);
        c.children && c.children.length > 0 && (ze(c.index !== !0, `Index routes must not have child routes. Please remove all child routes from route path "${m}".`),
        iy(c.children, e, E, m)),
        !(c.path == null && !c.index) && e.push({
            path: m,
            score: R1(m, c.index),
            routesMeta: E
        })
    }
    ;
    return s.forEach( (c, f) => {
        var h;
        if (c.path === "" || !((h = c.path) != null && h.includes("?")))
            o(c, f);
        else
            for (let p of sy(c.path))
                o(c, f, p)
    }
    ),
    e
}
function sy(s) {
    let e = s.split("/");
    if (e.length === 0)
        return [];
    let[i,...r] = e
      , o = i.endsWith("?")
      , c = i.replace(/\?$/, "");
    if (r.length === 0)
        return o ? [c, ""] : [c];
    let f = sy(r.join("/"))
      , h = [];
    return h.push(...f.map(p => p === "" ? c : [c, p].join("/"))),
    o && h.push(...f),
    h.map(p => s.startsWith("/") && p === "" ? "/" : p)
}
function E1(s) {
    s.sort( (e, i) => e.score !== i.score ? i.score - e.score : A1(e.routesMeta.map(r => r.childrenIndex), i.routesMeta.map(r => r.childrenIndex)))
}
var b1 = /^:[\w-]+$/
  , S1 = 3
  , C1 = 2
  , T1 = 1
  , w1 = 10
  , N1 = -2
  , j_ = s => s === "*";
function R1(s, e) {
    let i = s.split("/")
      , r = i.length;
    return i.some(j_) && (r += N1),
    e && (r += C1),
    i.filter(o => !j_(o)).reduce( (o, c) => o + (b1.test(c) ? S1 : c === "" ? T1 : w1), r)
}
function A1(s, e) {
    return s.length === e.length && s.slice(0, -1).every( (r, o) => r === e[o]) ? s[s.length - 1] - e[e.length - 1] : 0
}
function x1(s, e, i=!1) {
    let {routesMeta: r} = s
      , o = {}
      , c = "/"
      , f = [];
    for (let h = 0; h < r.length; ++h) {
        let p = r[h]
          , m = h === r.length - 1
          , E = c === "/" ? e : e.slice(c.length) || "/"
          , b = Lo({
            path: p.relativePath,
            caseSensitive: p.caseSensitive,
            end: m
        }, E)
          , y = p.route;
        if (!b && m && i && !r[r.length - 1].route.index && (b = Lo({
            path: p.relativePath,
            caseSensitive: p.caseSensitive,
            end: !1
        }, E)),
        !b)
            return null;
        Object.assign(o, b.params),
        f.push({
            params: o,
            pathname: zn([c, b.pathname]),
            pathnameBase: L1(zn([c, b.pathnameBase])),
            route: y
        }),
        b.pathnameBase !== "/" && (c = zn([c, b.pathnameBase]))
    }
    return f
}
function Lo(s, e) {
    typeof s == "string" && (s = {
        path: s,
        caseSensitive: !1,
        end: !0
    });
    let[i,r] = O1(s.path, s.caseSensitive, s.end)
      , o = e.match(i);
    if (!o)
        return null;
    let c = o[0]
      , f = c.replace(/(.)\/+$/, "$1")
      , h = o.slice(1);
    return {
        params: r.reduce( (m, {paramName: E, isOptional: b}, y) => {
            if (E === "*") {
                let T = h[y] || "";
                f = c.slice(0, c.length - T.length).replace(/(.)\/+$/, "$1")
            }
            const A = h[y];
            return b && !A ? m[E] = void 0 : m[E] = (A || "").replace(/%2F/g, "/"),
            m
        }
        , {}),
        pathname: c,
        pathnameBase: f,
        pattern: s
    }
}
function O1(s, e=!1, i=!0) {
    cn(s === "*" || !s.endsWith("*") || s.endsWith("/*"), `Route path "${s}" will be treated as if it were "${s.replace(/\*$/, "/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/, "/*")}".`);
    let r = []
      , o = "^" + s.replace(/\/*\*?$/, "").replace(/^\/*/, "/").replace(/[\\.*+^${}|()[\]]/g, "\\$&").replace(/\/:([\w-]+)(\?)?/g, (f, h, p) => (r.push({
        paramName: h,
        isOptional: p != null
    }),
    p ? "/?([^\\/]+)?" : "/([^\\/]+)"));
    return s.endsWith("*") ? (r.push({
        paramName: "*"
    }),
    o += s === "*" || s === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$") : i ? o += "\\/*$" : s !== "" && s !== "/" && (o += "(?:(?=\\/|$))"),
    [new RegExp(o,e ? void 0 : "i"), r]
}
function I1(s) {
    try {
        return s.split("/").map(e => decodeURIComponent(e).replace(/\//g, "%2F")).join("/")
    } catch (e) {
        return cn(!1, `The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),
        s
    }
}
function Bn(s, e) {
    if (e === "/")
        return s;
    if (!s.toLowerCase().startsWith(e.toLowerCase()))
        return null;
    let i = e.endsWith("/") ? e.length - 1 : e.length
      , r = s.charAt(i);
    return r && r !== "/" ? null : s.slice(i) || "/"
}
function D1(s, e="/") {
    let {pathname: i, search: r="", hash: o=""} = typeof s == "string" ? ua(s) : s;
    return {
        pathname: i ? i.startsWith("/") ? i : M1(i, e) : e,
        search: j1(r),
        hash: U1(o)
    }
}
function M1(s, e) {
    let i = e.replace(/\/+$/, "").split("/");
    return s.split("/").forEach(o => {
        o === ".." ? i.length > 1 && i.pop() : o !== "." && i.push(o)
    }
    ),
    i.length > 1 ? i.join("/") : "/"
}
function zd(s, e, i, r) {
    return `Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`
}
function k1(s) {
    return s.filter( (e, i) => i === 0 || e.route.path && e.route.path.length > 0)
}
function Of(s) {
    let e = k1(s);
    return e.map( (i, r) => r === e.length - 1 ? i.pathname : i.pathnameBase)
}
function If(s, e, i, r=!1) {
    let o;
    typeof s == "string" ? o = ua(s) : (o = {
        ...s
    },
    ze(!o.pathname || !o.pathname.includes("?"), zd("?", "pathname", "search", o)),
    ze(!o.pathname || !o.pathname.includes("#"), zd("#", "pathname", "hash", o)),
    ze(!o.search || !o.search.includes("#"), zd("#", "search", "hash", o)));
    let c = s === "" || o.pathname === "", f = c ? "/" : o.pathname, h;
    if (f == null)
        h = i;
    else {
        let b = e.length - 1;
        if (!r && f.startsWith("..")) {
            let y = f.split("/");
            for (; y[0] === ".."; )
                y.shift(),
                b -= 1;
            o.pathname = y.join("/")
        }
        h = b >= 0 ? e[b] : "/"
    }
    let p = D1(o, h)
      , m = f && f !== "/" && f.endsWith("/")
      , E = (c || f === ".") && i.endsWith("/");
    return !p.pathname.endsWith("/") && (m || E) && (p.pathname += "/"),
    p
}
var zn = s => s.join("/").replace(/\/\/+/g, "/")
  , L1 = s => s.replace(/\/+$/, "").replace(/^\/*/, "/")
  , j1 = s => !s || s === "?" ? "" : s.startsWith("?") ? s : "?" + s
  , U1 = s => !s || s === "#" ? "" : s.startsWith("#") ? s : "#" + s;
function P1(s) {
    return s != null && typeof s.status == "number" && typeof s.statusText == "string" && typeof s.internal == "boolean" && "data"in s
}
var ay = ["POST", "PUT", "PATCH", "DELETE"];
new Set(ay);
var z1 = ["GET", ...ay];
new Set(z1);
var da = N.createContext(null);
da.displayName = "DataRouter";
var sc = N.createContext(null);
sc.displayName = "DataRouterState";
var ry = N.createContext({
    isTransitioning: !1
});
ry.displayName = "ViewTransition";
var H1 = N.createContext(new Map);
H1.displayName = "Fetchers";
var B1 = N.createContext(null);
B1.displayName = "Await";
var un = N.createContext(null);
un.displayName = "Navigation";
var Wr = N.createContext(null);
Wr.displayName = "Location";
var yn = N.createContext({
    outlet: null,
    matches: [],
    isDataRoute: !1
});
yn.displayName = "Route";
var Df = N.createContext(null);
Df.displayName = "RouteError";
function q1(s, {relative: e}={}) {
    ze(fa(), "useHref() may be used only in the context of a <Router> component.");
    let {basename: i, navigator: r} = N.useContext(un)
      , {hash: o, pathname: c, search: f} = Xr(s, {
        relative: e
    })
      , h = c;
    return i !== "/" && (h = c === "/" ? i : zn([i, c])),
    r.createHref({
        pathname: h,
        search: f,
        hash: o
    })
}
function fa() {
    return N.useContext(Wr) != null
}
function Oi() {
    return ze(fa(), "useLocation() may be used only in the context of a <Router> component."),
    N.useContext(Wr).location
}
var ly = "You should call navigate() in a React.useEffect(), not when your component is first rendered.";
function oy(s) {
    N.useContext(un).static || N.useLayoutEffect(s)
}
function Mf() {
    let {isDataRoute: s} = N.useContext(yn);
    return s ? tC() : V1()
}
function V1() {
    ze(fa(), "useNavigate() may be used only in the context of a <Router> component.");
    let s = N.useContext(da)
      , {basename: e, navigator: i} = N.useContext(un)
      , {matches: r} = N.useContext(yn)
      , {pathname: o} = Oi()
      , c = JSON.stringify(Of(r))
      , f = N.useRef(!1);
    return oy( () => {
        f.current = !0
    }
    ),
    N.useCallback( (p, m={}) => {
        if (cn(f.current, ly),
        !f.current)
            return;
        if (typeof p == "number") {
            i.go(p);
            return
        }
        let E = If(p, JSON.parse(c), o, m.relative === "path");
        s == null && e !== "/" && (E.pathname = E.pathname === "/" ? e : zn([e, E.pathname])),
        (m.replace ? i.replace : i.push)(E, m.state, m)
    }
    , [e, i, c, o, s])
}
N.createContext(null);
function Xr(s, {relative: e}={}) {
    let {matches: i} = N.useContext(yn)
      , {pathname: r} = Oi()
      , o = JSON.stringify(Of(i));
    return N.useMemo( () => If(s, JSON.parse(o), r, e === "path"), [s, o, r, e])
}
function G1(s, e) {
    return cy(s, e)
}
function cy(s, e, i, r) {
    var H;
    ze(fa(), "useRoutes() may be used only in the context of a <Router> component.");
    let {navigator: o} = N.useContext(un)
      , {matches: c} = N.useContext(yn)
      , f = c[c.length - 1]
      , h = f ? f.params : {}
      , p = f ? f.pathname : "/"
      , m = f ? f.pathnameBase : "/"
      , E = f && f.route;
    {
        let B = E && E.path || "";
        uy(p, !E || B.endsWith("*") || B.endsWith("*?"), `You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B === "/" ? "*" : `${B}/*`}">.`)
    }
    let b = Oi(), y;
    if (e) {
        let B = typeof e == "string" ? ua(e) : e;
        ze(m === "/" || ((H = B.pathname) == null ? void 0 : H.startsWith(m)), `When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${B.pathname}" was given in the \`location\` prop.`),
        y = B
    } else
        y = b;
    let A = y.pathname || "/"
      , T = A;
    if (m !== "/") {
        let B = m.replace(/^\//, "").split("/");
        T = "/" + A.replace(/^\//, "").split("/").slice(B.length).join("/")
    }
    let k = ny(s, {
        pathname: T
    });
    cn(E || k != null, `No routes matched location "${y.pathname}${y.search}${y.hash}" `),
    cn(k == null || k[k.length - 1].route.element !== void 0 || k[k.length - 1].route.Component !== void 0 || k[k.length - 1].route.lazy !== void 0, `Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);
    let z = W1(k && k.map(B => Object.assign({}, B, {
        params: Object.assign({}, h, B.params),
        pathname: zn([m, o.encodeLocation ? o.encodeLocation(B.pathname).pathname : B.pathname]),
        pathnameBase: B.pathnameBase === "/" ? m : zn([m, o.encodeLocation ? o.encodeLocation(B.pathnameBase).pathname : B.pathnameBase])
    })), c, i, r);
    return e && z ? N.createElement(Wr.Provider, {
        value: {
            location: {
                pathname: "/",
                search: "",
                hash: "",
                state: null,
                key: "default",
                ...y
            },
            navigationType: "POP"
        }
    }, z) : z
}
function Y1() {
    let s = eC()
      , e = P1(s) ? `${s.status} ${s.statusText}` : s instanceof Error ? s.message : JSON.stringify(s)
      , i = s instanceof Error ? s.stack : null
      , r = "rgba(200,200,200, 0.5)"
      , o = {
        padding: "0.5rem",
        backgroundColor: r
    }
      , c = {
        padding: "2px 4px",
        backgroundColor: r
    }
      , f = null;
    return console.error("Error handled by React Router default ErrorBoundary:", s),
    f = N.createElement(N.Fragment, null, N.createElement("p", null, " Hey developer "), N.createElement("p", null, "You can provide a way better UX than this when your app throws errors by providing your own ", N.createElement("code", {
        style: c
    }, "ErrorBoundary"), " or", " ", N.createElement("code", {
        style: c
    }, "errorElement"), " prop on your route.")),
    N.createElement(N.Fragment, null, N.createElement("h2", null, "Unexpected Application Error!"), N.createElement("h3", {
        style: {
            fontStyle: "italic"
        }
    }, e), i ? N.createElement("pre", {
        style: o
    }, i) : null, f)
}
var F1 = N.createElement(Y1, null)
  , K1 = class extends N.Component {
    constructor(s) {
        super(s),
        this.state = {
            location: s.location,
            revalidation: s.revalidation,
            error: s.error
        }
    }
    static getDerivedStateFromError(s) {
        return {
            error: s
        }
    }
    static getDerivedStateFromProps(s, e) {
        return e.location !== s.location || e.revalidation !== "idle" && s.revalidation === "idle" ? {
            error: s.error,
            location: s.location,
            revalidation: s.revalidation
        } : {
            error: s.error !== void 0 ? s.error : e.error,
            location: e.location,
            revalidation: s.revalidation || e.revalidation
        }
    }
    componentDidCatch(s, e) {
        console.error("React Router caught the following error during render", s, e)
    }
    render() {
        return this.state.error !== void 0 ? N.createElement(yn.Provider, {
            value: this.props.routeContext
        }, N.createElement(Df.Provider, {
            value: this.state.error,
            children: this.props.component
        })) : this.props.children
    }
}
;
function Q1({routeContext: s, match: e, children: i}) {
    let r = N.useContext(da);
    return r && r.static && r.staticContext && (e.route.errorElement || e.route.ErrorBoundary) && (r.staticContext._deepestRenderedBoundaryId = e.route.id),
    N.createElement(yn.Provider, {
        value: s
    }, i)
}
function W1(s, e=[], i=null, r=null) {
    if (s == null) {
        if (!i)
            return null;
        if (i.errors)
            s = i.matches;
        else if (e.length === 0 && !i.initialized && i.matches.length > 0)
            s = i.matches;
        else
            return null
    }
    let o = s
      , c = i == null ? void 0 : i.errors;
    if (c != null) {
        let p = o.findIndex(m => m.route.id && (c == null ? void 0 : c[m.route.id]) !== void 0);
        ze(p >= 0, `Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),
        o = o.slice(0, Math.min(o.length, p + 1))
    }
    let f = !1
      , h = -1;
    if (i)
        for (let p = 0; p < o.length; p++) {
            let m = o[p];
            if ((m.route.HydrateFallback || m.route.hydrateFallbackElement) && (h = p),
            m.route.id) {
                let {loaderData: E, errors: b} = i
                  , y = m.route.loader && !E.hasOwnProperty(m.route.id) && (!b || b[m.route.id] === void 0);
                if (m.route.lazy || y) {
                    f = !0,
                    h >= 0 ? o = o.slice(0, h + 1) : o = [o[0]];
                    break
                }
            }
        }
    return o.reduceRight( (p, m, E) => {
        let b, y = !1, A = null, T = null;
        i && (b = c && m.route.id ? c[m.route.id] : void 0,
        A = m.route.errorElement || F1,
        f && (h < 0 && E === 0 ? (uy("route-fallback", !1, "No `HydrateFallback` element provided to render during initial hydration"),
        y = !0,
        T = null) : h === E && (y = !0,
        T = m.route.hydrateFallbackElement || null)));
        let k = e.concat(o.slice(0, E + 1))
          , z = () => {
            let H;
            return b ? H = A : y ? H = T : m.route.Component ? H = N.createElement(m.route.Component, null) : m.route.element ? H = m.route.element : H = p,
            N.createElement(Q1, {
                match: m,
                routeContext: {
                    outlet: p,
                    matches: k,
                    isDataRoute: i != null
                },
                children: H
            })
        }
        ;
        return i && (m.route.ErrorBoundary || m.route.errorElement || E === 0) ? N.createElement(K1, {
            location: i.location,
            revalidation: i.revalidation,
            component: A,
            error: b,
            children: z(),
            routeContext: {
                outlet: null,
                matches: k,
                isDataRoute: !0
            }
        }) : z()
    }
    , null)
}
function kf(s) {
    return `${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`
}
function X1(s) {
    let e = N.useContext(da);
    return ze(e, kf(s)),
    e
}
function $1(s) {
    let e = N.useContext(sc);
    return ze(e, kf(s)),
    e
}
function Z1(s) {
    let e = N.useContext(yn);
    return ze(e, kf(s)),
    e
}
function Lf(s) {
    let e = Z1(s)
      , i = e.matches[e.matches.length - 1];
    return ze(i.route.id, `${s} can only be used on routes that contain a unique "id"`),
    i.route.id
}
function J1() {
    return Lf("useRouteId")
}
function eC() {
    var r;
    let s = N.useContext(Df)
      , e = $1("useRouteError")
      , i = Lf("useRouteError");
    return s !== void 0 ? s : (r = e.errors) == null ? void 0 : r[i]
}
function tC() {
    let {router: s} = X1("useNavigate")
      , e = Lf("useNavigate")
      , i = N.useRef(!1);
    return oy( () => {
        i.current = !0
    }
    ),
    N.useCallback(async (o, c={}) => {
        cn(i.current, ly),
        i.current && (typeof o == "number" ? s.navigate(o) : await s.navigate(o, {
            fromRouteId: e,
            ...c
        }))
    }
    , [s, e])
}
var U_ = {};
function uy(s, e, i) {
    !e && !U_[s] && (U_[s] = !0,
    cn(!1, i))
}
N.memo(nC);
function nC({routes: s, future: e, state: i}) {
    return cy(s, void 0, i, e)
}
function iC({to: s, replace: e, state: i, relative: r}) {
    ze(fa(), "<Navigate> may be used only in the context of a <Router> component.");
    let {static: o} = N.useContext(un);
    cn(!o, "<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");
    let {matches: c} = N.useContext(yn)
      , {pathname: f} = Oi()
      , h = Mf()
      , p = If(s, Of(c), f, r === "path")
      , m = JSON.stringify(p);
    return N.useEffect( () => {
        h(JSON.parse(m), {
            replace: e,
            state: i,
            relative: r
        })
    }
    , [h, m, r, e, i]),
    null
}
function af(s) {
    ze(!1, "A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")
}
function sC({basename: s="/", children: e=null, location: i, navigationType: r="POP", navigator: o, static: c=!1}) {
    ze(!fa(), "You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");
    let f = s.replace(/^\/*/, "/")
      , h = N.useMemo( () => ({
        basename: f,
        navigator: o,
        static: c,
        future: {}
    }), [f, o, c]);
    typeof i == "string" && (i = ua(i));
    let {pathname: p="/", search: m="", hash: E="", state: b=null, key: y="default"} = i
      , A = N.useMemo( () => {
        let T = Bn(p, f);
        return T == null ? null : {
            location: {
                pathname: T,
                search: m,
                hash: E,
                state: b,
                key: y
            },
            navigationType: r
        }
    }
    , [f, p, m, E, b, y, r]);
    return cn(A != null, `<Router basename="${f}"> is not able to match the URL "${p}${m}${E}" because it does not start with the basename, so the <Router> won't render anything.`),
    A == null ? null : N.createElement(un.Provider, {
        value: h
    }, N.createElement(Wr.Provider, {
        children: e,
        value: A
    }))
}
function aC({children: s, location: e}) {
    return G1(rf(s), e)
}
function rf(s, e=[]) {
    let i = [];
    return N.Children.forEach(s, (r, o) => {
        if (!N.isValidElement(r))
            return;
        let c = [...e, o];
        if (r.type === N.Fragment) {
            i.push.apply(i, rf(r.props.children, c));
            return
        }
        ze(r.type === af, `[${typeof r.type == "string" ? r.type : r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),
        ze(!r.props.index || !r.props.children, "An index route cannot have child routes.");
        let f = {
            id: r.props.id || c.join("-"),
            caseSensitive: r.props.caseSensitive,
            element: r.props.element,
            Component: r.props.Component,
            index: r.props.index,
            path: r.props.path,
            loader: r.props.loader,
            action: r.props.action,
            hydrateFallbackElement: r.props.hydrateFallbackElement,
            HydrateFallback: r.props.HydrateFallback,
            errorElement: r.props.errorElement,
            ErrorBoundary: r.props.ErrorBoundary,
            hasErrorBoundary: r.props.hasErrorBoundary === !0 || r.props.ErrorBoundary != null || r.props.errorElement != null,
            shouldRevalidate: r.props.shouldRevalidate,
            handle: r.props.handle,
            lazy: r.props.lazy
        };
        r.props.children && (f.children = rf(r.props.children, c)),
        i.push(f)
    }
    ),
    i
}
var Ro = "get"
  , Ao = "application/x-www-form-urlencoded";
function ac(s) {
    return s != null && typeof s.tagName == "string"
}
function rC(s) {
    return ac(s) && s.tagName.toLowerCase() === "button"
}
function lC(s) {
    return ac(s) && s.tagName.toLowerCase() === "form"
}
function oC(s) {
    return ac(s) && s.tagName.toLowerCase() === "input"
}
function cC(s) {
    return !!(s.metaKey || s.altKey || s.ctrlKey || s.shiftKey)
}
function uC(s, e) {
    return s.button === 0 && (!e || e === "_self") && !cC(s)
}
var Co = null;
function dC() {
    if (Co === null)
        try {
            new FormData(document.createElement("form"),0),
            Co = !1
        } catch {
            Co = !0
        }
    return Co
}
var fC = new Set(["application/x-www-form-urlencoded", "multipart/form-data", "text/plain"]);
function Hd(s) {
    return s != null && !fC.has(s) ? (cn(!1, `"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ao}"`),
    null) : s
}
function hC(s, e) {
    let i, r, o, c, f;
    if (lC(s)) {
        let h = s.getAttribute("action");
        r = h ? Bn(h, e) : null,
        i = s.getAttribute("method") || Ro,
        o = Hd(s.getAttribute("enctype")) || Ao,
        c = new FormData(s)
    } else if (rC(s) || oC(s) && (s.type === "submit" || s.type === "image")) {
        let h = s.form;
        if (h == null)
            throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');
        let p = s.getAttribute("formaction") || h.getAttribute("action");
        if (r = p ? Bn(p, e) : null,
        i = s.getAttribute("formmethod") || h.getAttribute("method") || Ro,
        o = Hd(s.getAttribute("formenctype")) || Hd(h.getAttribute("enctype")) || Ao,
        c = new FormData(h,s),
        !dC()) {
            let {name: m, type: E, value: b} = s;
            if (E === "image") {
                let y = m ? `${m}.` : "";
                c.append(`${y}x`, "0"),
                c.append(`${y}y`, "0")
            } else
                m && c.append(m, b)
        }
    } else {
        if (ac(s))
            throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');
        i = Ro,
        r = null,
        o = Ao,
        f = s
    }
    return c && o === "text/plain" && (f = c,
    c = void 0),
    {
        action: r,
        method: i.toLowerCase(),
        encType: o,
        formData: c,
        body: f
    }
}
function jf(s, e) {
    if (s === !1 || s === null || typeof s > "u")
        throw new Error(e)
}
async function pC(s, e) {
    if (s.id in e)
        return e[s.id];
    try {
        let i = await import(s.module);
        return e[s.id] = i,
        i
    } catch (i) {
        return console.error(`Error loading route module \`${s.module}\`, reloading page...`),
        console.error(i),
        window.__reactRouterContext && window.__reactRouterContext.isSpaMode,
        window.location.reload(),
        new Promise( () => {}
        )
    }
}
function mC(s) {
    return s == null ? !1 : s.href == null ? s.rel === "preload" && typeof s.imageSrcSet == "string" && typeof s.imageSizes == "string" : typeof s.rel == "string" && typeof s.href == "string"
}
async function gC(s, e, i) {
    let r = await Promise.all(s.map(async o => {
        let c = e.routes[o.route.id];
        if (c) {
            let f = await pC(c, i);
            return f.links ? f.links() : []
        }
        return []
    }
    ));
    return EC(r.flat(1).filter(mC).filter(o => o.rel === "stylesheet" || o.rel === "preload").map(o => o.rel === "stylesheet" ? {
        ...o,
        rel: "prefetch",
        as: "style"
    } : {
        ...o,
        rel: "prefetch"
    }))
}
function P_(s, e, i, r, o, c) {
    let f = (p, m) => i[m] ? p.route.id !== i[m].route.id : !0
      , h = (p, m) => {
        var E;
        return i[m].pathname !== p.pathname || ((E = i[m].route.path) == null ? void 0 : E.endsWith("*")) && i[m].params["*"] !== p.params["*"]
    }
    ;
    return c === "assets" ? e.filter( (p, m) => f(p, m) || h(p, m)) : c === "data" ? e.filter( (p, m) => {
        var b;
        let E = r.routes[p.route.id];
        if (!E || !E.hasLoader)
            return !1;
        if (f(p, m) || h(p, m))
            return !0;
        if (p.route.shouldRevalidate) {
            let y = p.route.shouldRevalidate({
                currentUrl: new URL(o.pathname + o.search + o.hash,window.origin),
                currentParams: ((b = i[0]) == null ? void 0 : b.params) || {},
                nextUrl: new URL(s,window.origin),
                nextParams: p.params,
                defaultShouldRevalidate: !0
            });
            if (typeof y == "boolean")
                return y
        }
        return !0
    }
    ) : []
}
function _C(s, e, {includeHydrateFallback: i}={}) {
    return vC(s.map(r => {
        let o = e.routes[r.route.id];
        if (!o)
            return [];
        let c = [o.module];
        return o.clientActionModule && (c = c.concat(o.clientActionModule)),
        o.clientLoaderModule && (c = c.concat(o.clientLoaderModule)),
        i && o.hydrateFallbackModule && (c = c.concat(o.hydrateFallbackModule)),
        o.imports && (c = c.concat(o.imports)),
        c
    }
    ).flat(1))
}
function vC(s) {
    return [...new Set(s)]
}
function yC(s) {
    let e = {}
      , i = Object.keys(s).sort();
    for (let r of i)
        e[r] = s[r];
    return e
}
function EC(s, e) {
    let i = new Set;
    return new Set(e),
    s.reduce( (r, o) => {
        let c = JSON.stringify(yC(o));
        return i.has(c) || (i.add(c),
        r.push({
            key: c,
            link: o
        })),
        r
    }
    , [])
}
Object.getOwnPropertyNames(Object.prototype).sort().join("\0");
var bC = new Set([100, 101, 204, 205]);
function SC(s, e) {
    let i = typeof s == "string" ? new URL(s,typeof window > "u" ? "server://singlefetch/" : window.location.origin) : s;
    return i.pathname === "/" ? i.pathname = "_root.data" : e && Bn(i.pathname, e) === "/" ? i.pathname = `${e.replace(/\/$/, "")}/_root.data` : i.pathname = `${i.pathname.replace(/\/$/, "")}.data`,
    i
}
function dy() {
    let s = N.useContext(da);
    return jf(s, "You must render this element inside a <DataRouterContext.Provider> element"),
    s
}
function CC() {
    let s = N.useContext(sc);
    return jf(s, "You must render this element inside a <DataRouterStateContext.Provider> element"),
    s
}
var Uf = N.createContext(void 0);
Uf.displayName = "FrameworkContext";
function fy() {
    let s = N.useContext(Uf);
    return jf(s, "You must render this element inside a <HydratedRouter> element"),
    s
}
function TC(s, e) {
    let i = N.useContext(Uf)
      , [r,o] = N.useState(!1)
      , [c,f] = N.useState(!1)
      , {onFocus: h, onBlur: p, onMouseEnter: m, onMouseLeave: E, onTouchStart: b} = e
      , y = N.useRef(null);
    N.useEffect( () => {
        if (s === "render" && f(!0),
        s === "viewport") {
            let k = H => {
                H.forEach(B => {
                    f(B.isIntersecting)
                }
                )
            }
              , z = new IntersectionObserver(k,{
                threshold: .5
            });
            return y.current && z.observe(y.current),
            () => {
                z.disconnect()
            }
        }
    }
    , [s]),
    N.useEffect( () => {
        if (r) {
            let k = setTimeout( () => {
                f(!0)
            }
            , 100);
            return () => {
                clearTimeout(k)
            }
        }
    }
    , [r]);
    let A = () => {
        o(!0)
    }
      , T = () => {
        o(!1),
        f(!1)
    }
    ;
    return i ? s !== "intent" ? [c, y, {}] : [c, y, {
        onFocus: br(h, A),
        onBlur: br(p, T),
        onMouseEnter: br(m, A),
        onMouseLeave: br(E, T),
        onTouchStart: br(b, A)
    }] : [!1, y, {}]
}
function br(s, e) {
    return i => {
        s && s(i),
        i.defaultPrevented || e(i)
    }
}
function wC({page: s, ...e}) {
    let {router: i} = dy()
      , r = N.useMemo( () => ny(i.routes, s, i.basename), [i.routes, s, i.basename]);
    return r ? N.createElement(RC, {
        page: s,
        matches: r,
        ...e
    }) : null
}
function NC(s) {
    let {manifest: e, routeModules: i} = fy()
      , [r,o] = N.useState([]);
    return N.useEffect( () => {
        let c = !1;
        return gC(s, e, i).then(f => {
            c || o(f)
        }
        ),
        () => {
            c = !0
        }
    }
    , [s, e, i]),
    r
}
function RC({page: s, matches: e, ...i}) {
    let r = Oi()
      , {manifest: o, routeModules: c} = fy()
      , {basename: f} = dy()
      , {loaderData: h, matches: p} = CC()
      , m = N.useMemo( () => P_(s, e, p, o, r, "data"), [s, e, p, o, r])
      , E = N.useMemo( () => P_(s, e, p, o, r, "assets"), [s, e, p, o, r])
      , b = N.useMemo( () => {
        if (s === r.pathname + r.search + r.hash)
            return [];
        let T = new Set
          , k = !1;
        if (e.forEach(H => {
            var F;
            let B = o.routes[H.route.id];
            !B || !B.hasLoader || (!m.some(Q => Q.route.id === H.route.id) && H.route.id in h && ((F = c[H.route.id]) != null && F.shouldRevalidate) || B.hasClientLoader ? k = !0 : T.add(H.route.id))
        }
        ),
        T.size === 0)
            return [];
        let z = SC(s, f);
        return k && T.size > 0 && z.searchParams.set("_routes", e.filter(H => T.has(H.route.id)).map(H => H.route.id).join(",")),
        [z.pathname + z.search]
    }
    , [f, h, r, o, m, e, s, c])
      , y = N.useMemo( () => _C(E, o), [E, o])
      , A = NC(E);
    return N.createElement(N.Fragment, null, b.map(T => N.createElement("link", {
        key: T,
        rel: "prefetch",
        as: "fetch",
        href: T,
        ...i
    })), y.map(T => N.createElement("link", {
        key: T,
        rel: "modulepreload",
        href: T,
        ...i
    })), A.map( ({key: T, link: k}) => N.createElement("link", {
        key: T,
        ...k
    })))
}
function AC(...s) {
    return e => {
        s.forEach(i => {
            typeof i == "function" ? i(e) : i != null && (i.current = e)
        }
        )
    }
}
var hy = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u";
try {
    hy && (window.__reactRouterVersion = "7.6.2")
} catch {}
function xC({basename: s, children: e, window: i}) {
    let r = N.useRef();
    r.current == null && (r.current = m1({
        window: i,
        v5Compat: !0
    }));
    let o = r.current
      , [c,f] = N.useState({
        action: o.action,
        location: o.location
    })
      , h = N.useCallback(p => {
        N.startTransition( () => f(p))
    }
    , [f]);
    return N.useLayoutEffect( () => o.listen(h), [o, h]),
    N.createElement(sC, {
        basename: s,
        children: e,
        location: c.location,
        navigationType: c.action,
        navigator: o
    })
}
var py = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i
  , my = N.forwardRef(function({onClick: e, discover: i="render", prefetch: r="none", relative: o, reloadDocument: c, replace: f, state: h, target: p, to: m, preventScrollReset: E, viewTransition: b, ...y}, A) {
    let {basename: T} = N.useContext(un), k = typeof m == "string" && py.test(m), z, H = !1;
    if (typeof m == "string" && k && (z = m,
    hy))
        try {
            let ve = new URL(window.location.href)
              , Ie = m.startsWith("//") ? new URL(ve.protocol + m) : new URL(m)
              , et = Bn(Ie.pathname, T);
            Ie.origin === ve.origin && et != null ? m = et + Ie.search + Ie.hash : H = !0
        } catch {
            cn(!1, `<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)
        }
    let B = q1(m, {
        relative: o
    })
      , [F,Q,G] = TC(r, y)
      , re = MC(m, {
        replace: f,
        state: h,
        target: p,
        preventScrollReset: E,
        relative: o,
        viewTransition: b
    });
    function ye(ve) {
        e && e(ve),
        ve.defaultPrevented || re(ve)
    }
    let Te = N.createElement("a", {
        ...y,
        ...G,
        href: z || B,
        onClick: H || c ? e : ye,
        ref: AC(A, Q),
        target: p,
        "data-discover": !k && i === "render" ? "true" : void 0
    });
    return F && !k ? N.createElement(N.Fragment, null, Te, N.createElement(wC, {
        page: B
    })) : Te
});
my.displayName = "Link";
var OC = N.forwardRef(function({"aria-current": e="page", caseSensitive: i=!1, className: r="", end: o=!1, style: c, to: f, viewTransition: h, children: p, ...m}, E) {
    let b = Xr(f, {
        relative: m.relative
    })
      , y = Oi()
      , A = N.useContext(sc)
      , {navigator: T, basename: k} = N.useContext(un)
      , z = A != null && PC(b) && h === !0
      , H = T.encodeLocation ? T.encodeLocation(b).pathname : b.pathname
      , B = y.pathname
      , F = A && A.navigation && A.navigation.location ? A.navigation.location.pathname : null;
    i || (B = B.toLowerCase(),
    F = F ? F.toLowerCase() : null,
    H = H.toLowerCase()),
    F && k && (F = Bn(F, k) || F);
    const Q = H !== "/" && H.endsWith("/") ? H.length - 1 : H.length;
    let G = B === H || !o && B.startsWith(H) && B.charAt(Q) === "/", re = F != null && (F === H || !o && F.startsWith(H) && F.charAt(H.length) === "/"), ye = {
        isActive: G,
        isPending: re,
        isTransitioning: z
    }, Te = G ? e : void 0, ve;
    typeof r == "function" ? ve = r(ye) : ve = [r, G ? "active" : null, re ? "pending" : null, z ? "transitioning" : null].filter(Boolean).join(" ");
    let Ie = typeof c == "function" ? c(ye) : c;
    return N.createElement(my, {
        ...m,
        "aria-current": Te,
        className: ve,
        ref: E,
        style: Ie,
        to: f,
        viewTransition: h
    }, typeof p == "function" ? p(ye) : p)
});
OC.displayName = "NavLink";
var IC = N.forwardRef( ({discover: s="render", fetcherKey: e, navigate: i, reloadDocument: r, replace: o, state: c, method: f=Ro, action: h, onSubmit: p, relative: m, preventScrollReset: E, viewTransition: b, ...y}, A) => {
    let T = jC()
      , k = UC(h, {
        relative: m
    })
      , z = f.toLowerCase() === "get" ? "get" : "post"
      , H = typeof h == "string" && py.test(h)
      , B = F => {
        if (p && p(F),
        F.defaultPrevented)
            return;
        F.preventDefault();
        let Q = F.nativeEvent.submitter
          , G = (Q == null ? void 0 : Q.getAttribute("formmethod")) || f;
        T(Q || F.currentTarget, {
            fetcherKey: e,
            method: G,
            navigate: i,
            replace: o,
            state: c,
            relative: m,
            preventScrollReset: E,
            viewTransition: b
        })
    }
    ;
    return N.createElement("form", {
        ref: A,
        method: z,
        action: k,
        onSubmit: r ? p : B,
        ...y,
        "data-discover": !H && s === "render" ? "true" : void 0
    })
}
);
IC.displayName = "Form";
function DC(s) {
    return `${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`
}
function gy(s) {
    let e = N.useContext(da);
    return ze(e, DC(s)),
    e
}
function MC(s, {target: e, replace: i, state: r, preventScrollReset: o, relative: c, viewTransition: f}={}) {
    let h = Mf()
      , p = Oi()
      , m = Xr(s, {
        relative: c
    });
    return N.useCallback(E => {
        if (uC(E, e)) {
            E.preventDefault();
            let b = i !== void 0 ? i : jr(p) === jr(m);
            h(s, {
                replace: b,
                state: r,
                preventScrollReset: o,
                relative: c,
                viewTransition: f
            })
        }
    }
    , [p, h, m, i, r, e, s, o, c, f])
}
var kC = 0
  , LC = () => `__${String(++kC)}__`;
function jC() {
    let {router: s} = gy("useSubmit")
      , {basename: e} = N.useContext(un)
      , i = J1();
    return N.useCallback(async (r, o={}) => {
        let {action: c, method: f, encType: h, formData: p, body: m} = hC(r, e);
        if (o.navigate === !1) {
            let E = o.fetcherKey || LC();
            await s.fetch(E, i, o.action || c, {
                preventScrollReset: o.preventScrollReset,
                formData: p,
                body: m,
                formMethod: o.method || f,
                formEncType: o.encType || h,
                flushSync: o.flushSync
            })
        } else
            await s.navigate(o.action || c, {
                preventScrollReset: o.preventScrollReset,
                formData: p,
                body: m,
                formMethod: o.method || f,
                formEncType: o.encType || h,
                replace: o.replace,
                state: o.state,
                fromRouteId: i,
                flushSync: o.flushSync,
                viewTransition: o.viewTransition
            })
    }
    , [s, e, i])
}
function UC(s, {relative: e}={}) {
    let {basename: i} = N.useContext(un)
      , r = N.useContext(yn);
    ze(r, "useFormAction must be used inside a RouteContext");
    let[o] = r.matches.slice(-1)
      , c = {
        ...Xr(s || ".", {
            relative: e
        })
    }
      , f = Oi();
    if (s == null) {
        c.search = f.search;
        let h = new URLSearchParams(c.search)
          , p = h.getAll("index");
        if (p.some(E => E === "")) {
            h.delete("index"),
            p.filter(b => b).forEach(b => h.append("index", b));
            let E = h.toString();
            c.search = E ? `?${E}` : ""
        }
    }
    return (!s || s === ".") && o.route.index && (c.search = c.search ? c.search.replace(/^\?/, "?index&") : "?index"),
    i !== "/" && (c.pathname = c.pathname === "/" ? i : zn([i, c.pathname])),
    jr(c)
}
function PC(s, e={}) {
    let i = N.useContext(ry);
    ze(i != null, "`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");
    let {basename: r} = gy("useViewTransitionState")
      , o = Xr(s, {
        relative: e.relative
    });
    if (!i.isTransitioning)
        return !1;
    let c = Bn(i.currentLocation.pathname, r) || i.currentLocation.pathname
      , f = Bn(i.nextLocation.pathname, r) || i.nextLocation.pathname;
    return Lo(o.pathname, f) != null || Lo(o.pathname, c) != null
}
[...bC];
const zC = () => {}
;
var z_ = {};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const _y = {
    NODE_ADMIN: !1,
    SDK_VERSION: "${JSCORE_VERSION}"
};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Y = function(s, e) {
    if (!s)
        throw ha(e)
}
  , ha = function(s) {
    return new Error("Firebase Database (" + _y.SDK_VERSION + ") INTERNAL ASSERT FAILED: " + s)
};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const vy = function(s) {
    const e = [];
    let i = 0;
    for (let r = 0; r < s.length; r++) {
        let o = s.charCodeAt(r);
        o < 128 ? e[i++] = o : o < 2048 ? (e[i++] = o >> 6 | 192,
        e[i++] = o & 63 | 128) : (o & 64512) === 55296 && r + 1 < s.length && (s.charCodeAt(r + 1) & 64512) === 56320 ? (o = 65536 + ((o & 1023) << 10) + (s.charCodeAt(++r) & 1023),
        e[i++] = o >> 18 | 240,
        e[i++] = o >> 12 & 63 | 128,
        e[i++] = o >> 6 & 63 | 128,
        e[i++] = o & 63 | 128) : (e[i++] = o >> 12 | 224,
        e[i++] = o >> 6 & 63 | 128,
        e[i++] = o & 63 | 128)
    }
    return e
}
  , HC = function(s) {
    const e = [];
    let i = 0
      , r = 0;
    for (; i < s.length; ) {
        const o = s[i++];
        if (o < 128)
            e[r++] = String.fromCharCode(o);
        else if (o > 191 && o < 224) {
            const c = s[i++];
            e[r++] = String.fromCharCode((o & 31) << 6 | c & 63)
        } else if (o > 239 && o < 365) {
            const c = s[i++]
              , f = s[i++]
              , h = s[i++]
              , p = ((o & 7) << 18 | (c & 63) << 12 | (f & 63) << 6 | h & 63) - 65536;
            e[r++] = String.fromCharCode(55296 + (p >> 10)),
            e[r++] = String.fromCharCode(56320 + (p & 1023))
        } else {
            const c = s[i++]
              , f = s[i++];
            e[r++] = String.fromCharCode((o & 15) << 12 | (c & 63) << 6 | f & 63)
        }
    }
    return e.join("")
}
  , Pf = {
    byteToCharMap_: null,
    charToByteMap_: null,
    byteToCharMapWebSafe_: null,
    charToByteMapWebSafe_: null,
    ENCODED_VALS_BASE: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
    get ENCODED_VALS() {
        return this.ENCODED_VALS_BASE + "+/="
    },
    get ENCODED_VALS_WEBSAFE() {
        return this.ENCODED_VALS_BASE + "-_."
    },
    HAS_NATIVE_SUPPORT: typeof atob == "function",
    encodeByteArray(s, e) {
        if (!Array.isArray(s))
            throw Error("encodeByteArray takes an array as a parameter");
        this.init_();
        const i = e ? this.byteToCharMapWebSafe_ : this.byteToCharMap_
          , r = [];
        for (let o = 0; o < s.length; o += 3) {
            const c = s[o]
              , f = o + 1 < s.length
              , h = f ? s[o + 1] : 0
              , p = o + 2 < s.length
              , m = p ? s[o + 2] : 0
              , E = c >> 2
              , b = (c & 3) << 4 | h >> 4;
            let y = (h & 15) << 2 | m >> 6
              , A = m & 63;
            p || (A = 64,
            f || (y = 64)),
            r.push(i[E], i[b], i[y], i[A])
        }
        return r.join("")
    },
    encodeString(s, e) {
        return this.HAS_NATIVE_SUPPORT && !e ? btoa(s) : this.encodeByteArray(vy(s), e)
    },
    decodeString(s, e) {
        return this.HAS_NATIVE_SUPPORT && !e ? atob(s) : HC(this.decodeStringToByteArray(s, e))
    },
    decodeStringToByteArray(s, e) {
        this.init_();
        const i = e ? this.charToByteMapWebSafe_ : this.charToByteMap_
          , r = [];
        for (let o = 0; o < s.length; ) {
            const c = i[s.charAt(o++)]
              , h = o < s.length ? i[s.charAt(o)] : 0;
            ++o;
            const m = o < s.length ? i[s.charAt(o)] : 64;
            ++o;
            const b = o < s.length ? i[s.charAt(o)] : 64;
            if (++o,
            c == null || h == null || m == null || b == null)
                throw new BC;
            const y = c << 2 | h >> 4;
            if (r.push(y),
            m !== 64) {
                const A = h << 4 & 240 | m >> 2;
                if (r.push(A),
                b !== 64) {
                    const T = m << 6 & 192 | b;
                    r.push(T)
                }
            }
        }
        return r
    },
    init_() {
        if (!this.byteToCharMap_) {
            this.byteToCharMap_ = {},
            this.charToByteMap_ = {},
            this.byteToCharMapWebSafe_ = {},
            this.charToByteMapWebSafe_ = {};
            for (let s = 0; s < this.ENCODED_VALS.length; s++)
                this.byteToCharMap_[s] = this.ENCODED_VALS.charAt(s),
                this.charToByteMap_[this.byteToCharMap_[s]] = s,
                this.byteToCharMapWebSafe_[s] = this.ENCODED_VALS_WEBSAFE.charAt(s),
                this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]] = s,
                s >= this.ENCODED_VALS_BASE.length && (this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)] = s,
                this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)] = s)
        }
    }
};
class BC extends Error {
    constructor() {
        super(...arguments),
        this.name = "DecodeBase64StringError"
    }
}
const yy = function(s) {
    const e = vy(s);
    return Pf.encodeByteArray(e, !0)
}
  , jo = function(s) {
    return yy(s).replace(/\./g, "")
}
  , Uo = function(s) {
    try {
        return Pf.decodeString(s, !0)
    } catch (e) {
        console.error("base64Decode failed: ", e)
    }
    return null
};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qC(s) {
    return Ey(void 0, s)
}
function Ey(s, e) {
    if (!(e instanceof Object))
        return e;
    switch (e.constructor) {
    case Date:
        const i = e;
        return new Date(i.getTime());
    case Object:
        s === void 0 && (s = {});
        break;
    case Array:
        s = [];
        break;
    default:
        return e
    }
    for (const i in e)
        !e.hasOwnProperty(i) || !VC(i) || (s[i] = Ey(s[i], e[i]));
    return s
}
function VC(s) {
    return s !== "__proto__"
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function GC() {
    if (typeof self < "u")
        return self;
    if (typeof window < "u")
        return window;
    if (typeof global < "u")
        return global;
    throw new Error("Unable to locate global object.")
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const YC = () => GC().__FIREBASE_DEFAULTS__
  , FC = () => {
    if (typeof process > "u" || typeof z_ > "u")
        return;
    const s = z_.__FIREBASE_DEFAULTS__;
    if (s)
        return JSON.parse(s)
}
  , KC = () => {
    if (typeof document > "u")
        return;
    let s;
    try {
        s = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)
    } catch {
        return
    }
    const e = s && Uo(s[1]);
    return e && JSON.parse(e)
}
  , zf = () => {
    try {
        return zC() || YC() || FC() || KC()
    } catch (s) {
        console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);
        return
    }
}
  , by = s => {
    var e, i;
    return (i = (e = zf()) === null || e === void 0 ? void 0 : e.emulatorHosts) === null || i === void 0 ? void 0 : i[s]
}
  , QC = s => {
    const e = by(s);
    if (!e)
        return;
    const i = e.lastIndexOf(":");
    if (i <= 0 || i + 1 === e.length)
        throw new Error(`Invalid host ${e} with no separate hostname and port!`);
    const r = parseInt(e.substring(i + 1), 10);
    return e[0] === "[" ? [e.substring(1, i - 1), r] : [e.substring(0, i), r]
}
  , Sy = () => {
    var s;
    return (s = zf()) === null || s === void 0 ? void 0 : s.config
}
  , Cy = s => {
    var e;
    return (e = zf()) === null || e === void 0 ? void 0 : e[`_${s}`]
}
;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rc {
    constructor() {
        this.reject = () => {}
        ,
        this.resolve = () => {}
        ,
        this.promise = new Promise( (e, i) => {
            this.resolve = e,
            this.reject = i
        }
        )
    }
    wrapCallback(e) {
        return (i, r) => {
            i ? this.reject(i) : this.resolve(r),
            typeof e == "function" && (this.promise.catch( () => {}
            ),
            e.length === 1 ? e(i) : e(i, r))
        }
    }
}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $r(s) {
    return s.endsWith(".cloudworkstations.dev")
}
async function Ty(s) {
    return (await fetch(s, {
        credentials: "include"
    })).ok
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function WC(s, e) {
    if (s.uid)
        throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');
    const i = {
        alg: "none",
        type: "JWT"
    }
      , r = e || "demo-project"
      , o = s.iat || 0
      , c = s.sub || s.user_id;
    if (!c)
        throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");
    const f = Object.assign({
        iss: `https://securetoken.google.com/${r}`,
        aud: r,
        iat: o,
        exp: o + 3600,
        auth_time: o,
        sub: c,
        user_id: c,
        firebase: {
            sign_in_provider: "custom",
            identities: {}
        }
    }, s);
    return [jo(JSON.stringify(i)), jo(JSON.stringify(f)), ""].join(".")
}
const xr = {};
function XC() {
    const s = {
        prod: [],
        emulator: []
    };
    for (const e of Object.keys(xr))
        xr[e] ? s.emulator.push(e) : s.prod.push(e);
    return s
}
function $C(s) {
    let e = document.getElementById(s)
      , i = !1;
    return e || (e = document.createElement("div"),
    e.setAttribute("id", s),
    i = !0),
    {
        created: i,
        element: e
    }
}
let H_ = !1;
function wy(s, e) {
    if (typeof window > "u" || typeof document > "u" || !$r(window.location.host) || xr[s] === e || xr[s] || H_)
        return;
    xr[s] = e;
    function i(y) {
        return `__firebase__banner__${y}`
    }
    const r = "__firebase__banner"
      , c = XC().prod.length > 0;
    function f() {
        const y = document.getElementById(r);
        y && y.remove()
    }
    function h(y) {
        y.style.display = "flex",
        y.style.background = "#7faaf0",
        y.style.position = "fixed",
        y.style.bottom = "5px",
        y.style.left = "5px",
        y.style.padding = ".5em",
        y.style.borderRadius = "5px",
        y.style.alignItems = "center"
    }
    function p(y, A) {
        y.setAttribute("width", "24"),
        y.setAttribute("id", A),
        y.setAttribute("height", "24"),
        y.setAttribute("viewBox", "0 0 24 24"),
        y.setAttribute("fill", "none"),
        y.style.marginLeft = "-6px"
    }
    function m() {
        const y = document.createElement("span");
        return y.style.cursor = "pointer",
        y.style.marginLeft = "16px",
        y.style.fontSize = "24px",
        y.innerHTML = " &times;",
        y.onclick = () => {
            H_ = !0,
            f()
        }
        ,
        y
    }
    function E(y, A) {
        y.setAttribute("id", A),
        y.innerText = "Learn more",
        y.href = "https://firebase.google.com/docs/studio/preview-apps#preview-backend",
        y.setAttribute("target", "__blank"),
        y.style.paddingLeft = "5px",
        y.style.textDecoration = "underline"
    }
    function b() {
        const y = $C(r)
          , A = i("text")
          , T = document.getElementById(A) || document.createElement("span")
          , k = i("learnmore")
          , z = document.getElementById(k) || document.createElement("a")
          , H = i("preprendIcon")
          , B = document.getElementById(H) || document.createElementNS("http://www.w3.org/2000/svg", "svg");
        if (y.created) {
            const F = y.element;
            h(F),
            E(z, k);
            const Q = m();
            p(B, H),
            F.append(B, T, z, Q),
            document.body.appendChild(F)
        }
        c ? (T.innerText = "Preview backend disconnected.",
        B.innerHTML = `<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`) : (B.innerHTML = `<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,
        T.innerText = "Preview backend running in this workspace."),
        T.setAttribute("id", A)
    }
    document.readyState === "loading" ? window.addEventListener("DOMContentLoaded", b) : b()
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function yt() {
    return typeof navigator < "u" && typeof navigator.userAgent == "string" ? navigator.userAgent : ""
}
function Hf() {
    return typeof window < "u" && !!(window.cordova || window.phonegap || window.PhoneGap) && /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())
}
function ZC() {
    return typeof navigator < "u" && navigator.userAgent === "Cloudflare-Workers"
}
function JC() {
    const s = typeof chrome == "object" ? chrome.runtime : typeof browser == "object" ? browser.runtime : void 0;
    return typeof s == "object" && s.id !== void 0
}
function Ny() {
    return typeof navigator == "object" && navigator.product === "ReactNative"
}
function eT() {
    const s = yt();
    return s.indexOf("MSIE ") >= 0 || s.indexOf("Trident/") >= 0
}
function tT() {
    return _y.NODE_ADMIN === !0
}
function nT() {
    try {
        return typeof indexedDB == "object"
    } catch {
        return !1
    }
}
function iT() {
    return new Promise( (s, e) => {
        try {
            let i = !0;
            const r = "validate-browser-context-for-indexeddb-analytics-module"
              , o = self.indexedDB.open(r);
            o.onsuccess = () => {
                o.result.close(),
                i || self.indexedDB.deleteDatabase(r),
                s(!0)
            }
            ,
            o.onupgradeneeded = () => {
                i = !1
            }
            ,
            o.onerror = () => {
                var c;
                e(((c = o.error) === null || c === void 0 ? void 0 : c.message) || "")
            }
        } catch (i) {
            e(i)
        }
    }
    )
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const sT = "FirebaseError";
class Ii extends Error {
    constructor(e, i, r) {
        super(i),
        this.code = e,
        this.customData = r,
        this.name = sT,
        Object.setPrototypeOf(this, Ii.prototype),
        Error.captureStackTrace && Error.captureStackTrace(this, Zr.prototype.create)
    }
}
class Zr {
    constructor(e, i, r) {
        this.service = e,
        this.serviceName = i,
        this.errors = r
    }
    create(e, ...i) {
        const r = i[0] || {}
          , o = `${this.service}/${e}`
          , c = this.errors[e]
          , f = c ? aT(c, r) : "Error"
          , h = `${this.serviceName}: ${f} (${o}).`;
        return new Ii(o,h,r)
    }
}
function aT(s, e) {
    return s.replace(rT, (i, r) => {
        const o = e[r];
        return o != null ? String(o) : `<${r}?>`
    }
    )
}
const rT = /\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ur(s) {
    return JSON.parse(s)
}
function Ze(s) {
    return JSON.stringify(s)
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ry = function(s) {
    let e = {}
      , i = {}
      , r = {}
      , o = "";
    try {
        const c = s.split(".");
        e = Ur(Uo(c[0]) || ""),
        i = Ur(Uo(c[1]) || ""),
        o = c[2],
        r = i.d || {},
        delete i.d
    } catch {}
    return {
        header: e,
        claims: i,
        data: r,
        signature: o
    }
}
  , lT = function(s) {
    const e = Ry(s)
      , i = e.claims;
    return !!i && typeof i == "object" && i.hasOwnProperty("iat")
}
  , oT = function(s) {
    const e = Ry(s).claims;
    return typeof e == "object" && e.admin === !0
};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Yn(s, e) {
    return Object.prototype.hasOwnProperty.call(s, e)
}
function sa(s, e) {
    if (Object.prototype.hasOwnProperty.call(s, e))
        return s[e]
}
function lf(s) {
    for (const e in s)
        if (Object.prototype.hasOwnProperty.call(s, e))
            return !1;
    return !0
}
function Po(s, e, i) {
    const r = {};
    for (const o in s)
        Object.prototype.hasOwnProperty.call(s, o) && (r[o] = e.call(i, s[o], o, s));
    return r
}
function ns(s, e) {
    if (s === e)
        return !0;
    const i = Object.keys(s)
      , r = Object.keys(e);
    for (const o of i) {
        if (!r.includes(o))
            return !1;
        const c = s[o]
          , f = e[o];
        if (B_(c) && B_(f)) {
            if (!ns(c, f))
                return !1
        } else if (c !== f)
            return !1
    }
    for (const o of r)
        if (!i.includes(o))
            return !1;
    return !0
}
function B_(s) {
    return s !== null && typeof s == "object"
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pa(s) {
    const e = [];
    for (const [i,r] of Object.entries(s))
        Array.isArray(r) ? r.forEach(o => {
            e.push(encodeURIComponent(i) + "=" + encodeURIComponent(o))
        }
        ) : e.push(encodeURIComponent(i) + "=" + encodeURIComponent(r));
    return e.length ? "&" + e.join("&") : ""
}
function Nr(s) {
    const e = {};
    return s.replace(/^\?/, "").split("&").forEach(r => {
        if (r) {
            const [o,c] = r.split("=");
            e[decodeURIComponent(o)] = decodeURIComponent(c)
        }
    }
    ),
    e
}
function Rr(s) {
    const e = s.indexOf("?");
    if (!e)
        return "";
    const i = s.indexOf("#", e);
    return s.substring(e, i > 0 ? i : void 0)
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class cT {
    constructor() {
        this.chain_ = [],
        this.buf_ = [],
        this.W_ = [],
        this.pad_ = [],
        this.inbuf_ = 0,
        this.total_ = 0,
        this.blockSize = 512 / 8,
        this.pad_[0] = 128;
        for (let e = 1; e < this.blockSize; ++e)
            this.pad_[e] = 0;
        this.reset()
    }
    reset() {
        this.chain_[0] = 1732584193,
        this.chain_[1] = 4023233417,
        this.chain_[2] = 2562383102,
        this.chain_[3] = 271733878,
        this.chain_[4] = 3285377520,
        this.inbuf_ = 0,
        this.total_ = 0
    }
    compress_(e, i) {
        i || (i = 0);
        const r = this.W_;
        if (typeof e == "string")
            for (let b = 0; b < 16; b++)
                r[b] = e.charCodeAt(i) << 24 | e.charCodeAt(i + 1) << 16 | e.charCodeAt(i + 2) << 8 | e.charCodeAt(i + 3),
                i += 4;
        else
            for (let b = 0; b < 16; b++)
                r[b] = e[i] << 24 | e[i + 1] << 16 | e[i + 2] << 8 | e[i + 3],
                i += 4;
        for (let b = 16; b < 80; b++) {
            const y = r[b - 3] ^ r[b - 8] ^ r[b - 14] ^ r[b - 16];
            r[b] = (y << 1 | y >>> 31) & 4294967295
        }
        let o = this.chain_[0], c = this.chain_[1], f = this.chain_[2], h = this.chain_[3], p = this.chain_[4], m, E;
        for (let b = 0; b < 80; b++) {
            b < 40 ? b < 20 ? (m = h ^ c & (f ^ h),
            E = 1518500249) : (m = c ^ f ^ h,
            E = 1859775393) : b < 60 ? (m = c & f | h & (c | f),
            E = 2400959708) : (m = c ^ f ^ h,
            E = 3395469782);
            const y = (o << 5 | o >>> 27) + m + p + E + r[b] & 4294967295;
            p = h,
            h = f,
            f = (c << 30 | c >>> 2) & 4294967295,
            c = o,
            o = y
        }
        this.chain_[0] = this.chain_[0] + o & 4294967295,
        this.chain_[1] = this.chain_[1] + c & 4294967295,
        this.chain_[2] = this.chain_[2] + f & 4294967295,
        this.chain_[3] = this.chain_[3] + h & 4294967295,
        this.chain_[4] = this.chain_[4] + p & 4294967295
    }
    update(e, i) {
        if (e == null)
            return;
        i === void 0 && (i = e.length);
        const r = i - this.blockSize;
        let o = 0;
        const c = this.buf_;
        let f = this.inbuf_;
        for (; o < i; ) {
            if (f === 0)
                for (; o <= r; )
                    this.compress_(e, o),
                    o += this.blockSize;
            if (typeof e == "string") {
                for (; o < i; )
                    if (c[f] = e.charCodeAt(o),
                    ++f,
                    ++o,
                    f === this.blockSize) {
                        this.compress_(c),
                        f = 0;
                        break
                    }
            } else
                for (; o < i; )
                    if (c[f] = e[o],
                    ++f,
                    ++o,
                    f === this.blockSize) {
                        this.compress_(c),
                        f = 0;
                        break
                    }
        }
        this.inbuf_ = f,
        this.total_ += i
    }
    digest() {
        const e = [];
        let i = this.total_ * 8;
        this.inbuf_ < 56 ? this.update(this.pad_, 56 - this.inbuf_) : this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));
        for (let o = this.blockSize - 1; o >= 56; o--)
            this.buf_[o] = i & 255,
            i /= 256;
        this.compress_(this.buf_);
        let r = 0;
        for (let o = 0; o < 5; o++)
            for (let c = 24; c >= 0; c -= 8)
                e[r] = this.chain_[o] >> c & 255,
                ++r;
        return e
    }
}
function uT(s, e) {
    const i = new dT(s,e);
    return i.subscribe.bind(i)
}
class dT {
    constructor(e, i) {
        this.observers = [],
        this.unsubscribes = [],
        this.observerCount = 0,
        this.task = Promise.resolve(),
        this.finalized = !1,
        this.onNoObservers = i,
        this.task.then( () => {
            e(this)
        }
        ).catch(r => {
            this.error(r)
        }
        )
    }
    next(e) {
        this.forEachObserver(i => {
            i.next(e)
        }
        )
    }
    error(e) {
        this.forEachObserver(i => {
            i.error(e)
        }
        ),
        this.close(e)
    }
    complete() {
        this.forEachObserver(e => {
            e.complete()
        }
        ),
        this.close()
    }
    subscribe(e, i, r) {
        let o;
        if (e === void 0 && i === void 0 && r === void 0)
            throw new Error("Missing Observer.");
        fT(e, ["next", "error", "complete"]) ? o = e : o = {
            next: e,
            error: i,
            complete: r
        },
        o.next === void 0 && (o.next = Bd),
        o.error === void 0 && (o.error = Bd),
        o.complete === void 0 && (o.complete = Bd);
        const c = this.unsubscribeOne.bind(this, this.observers.length);
        return this.finalized && this.task.then( () => {
            try {
                this.finalError ? o.error(this.finalError) : o.complete()
            } catch {}
        }
        ),
        this.observers.push(o),
        c
    }
    unsubscribeOne(e) {
        this.observers === void 0 || this.observers[e] === void 0 || (delete this.observers[e],
        this.observerCount -= 1,
        this.observerCount === 0 && this.onNoObservers !== void 0 && this.onNoObservers(this))
    }
    forEachObserver(e) {
        if (!this.finalized)
            for (let i = 0; i < this.observers.length; i++)
                this.sendOne(i, e)
    }
    sendOne(e, i) {
        this.task.then( () => {
            if (this.observers !== void 0 && this.observers[e] !== void 0)
                try {
                    i(this.observers[e])
                } catch (r) {
                    typeof console < "u" && console.error && console.error(r)
                }
        }
        )
    }
    close(e) {
        this.finalized || (this.finalized = !0,
        e !== void 0 && (this.finalError = e),
        this.task.then( () => {
            this.observers = void 0,
            this.onNoObservers = void 0
        }
        ))
    }
}
function fT(s, e) {
    if (typeof s != "object" || s === null)
        return !1;
    for (const i of e)
        if (i in s && typeof s[i] == "function")
            return !0;
    return !1
}
function Bd() {}
function Bf(s, e) {
    return `${s} failed: ${e} argument `
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const hT = function(s) {
    const e = [];
    let i = 0;
    for (let r = 0; r < s.length; r++) {
        let o = s.charCodeAt(r);
        if (o >= 55296 && o <= 56319) {
            const c = o - 55296;
            r++,
            Y(r < s.length, "Surrogate pair missing trail surrogate.");
            const f = s.charCodeAt(r) - 56320;
            o = 65536 + (c << 10) + f
        }
        o < 128 ? e[i++] = o : o < 2048 ? (e[i++] = o >> 6 | 192,
        e[i++] = o & 63 | 128) : o < 65536 ? (e[i++] = o >> 12 | 224,
        e[i++] = o >> 6 & 63 | 128,
        e[i++] = o & 63 | 128) : (e[i++] = o >> 18 | 240,
        e[i++] = o >> 12 & 63 | 128,
        e[i++] = o >> 6 & 63 | 128,
        e[i++] = o & 63 | 128)
    }
    return e
}
  , lc = function(s) {
    let e = 0;
    for (let i = 0; i < s.length; i++) {
        const r = s.charCodeAt(i);
        r < 128 ? e++ : r < 2048 ? e += 2 : r >= 55296 && r <= 56319 ? (e += 4,
        i++) : e += 3
    }
    return e
};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Et(s) {
    return s && s._delegate ? s._delegate : s
}
class is {
    constructor(e, i, r) {
        this.name = e,
        this.instanceFactory = i,
        this.type = r,
        this.multipleInstances = !1,
        this.serviceProps = {},
        this.instantiationMode = "LAZY",
        this.onInstanceCreated = null
    }
    setInstantiationMode(e) {
        return this.instantiationMode = e,
        this
    }
    setMultipleInstances(e) {
        return this.multipleInstances = e,
        this
    }
    setServiceProps(e) {
        return this.serviceProps = e,
        this
    }
    setInstanceCreatedCallback(e) {
        return this.onInstanceCreated = e,
        this
    }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const $i = "[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pT {
    constructor(e, i) {
        this.name = e,
        this.container = i,
        this.component = null,
        this.instances = new Map,
        this.instancesDeferred = new Map,
        this.instancesOptions = new Map,
        this.onInitCallbacks = new Map
    }
    get(e) {
        const i = this.normalizeInstanceIdentifier(e);
        if (!this.instancesDeferred.has(i)) {
            const r = new rc;
            if (this.instancesDeferred.set(i, r),
            this.isInitialized(i) || this.shouldAutoInitialize())
                try {
                    const o = this.getOrInitializeService({
                        instanceIdentifier: i
                    });
                    o && r.resolve(o)
                } catch {}
        }
        return this.instancesDeferred.get(i).promise
    }
    getImmediate(e) {
        var i;
        const r = this.normalizeInstanceIdentifier(e == null ? void 0 : e.identifier)
          , o = (i = e == null ? void 0 : e.optional) !== null && i !== void 0 ? i : !1;
        if (this.isInitialized(r) || this.shouldAutoInitialize())
            try {
                return this.getOrInitializeService({
                    instanceIdentifier: r
                })
            } catch (c) {
                if (o)
                    return null;
                throw c
            }
        else {
            if (o)
                return null;
            throw Error(`Service ${this.name} is not available`)
        }
    }
    getComponent() {
        return this.component
    }
    setComponent(e) {
        if (e.name !== this.name)
            throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);
        if (this.component)
            throw Error(`Component for ${this.name} has already been provided`);
        if (this.component = e,
        !!this.shouldAutoInitialize()) {
            if (gT(e))
                try {
                    this.getOrInitializeService({
                        instanceIdentifier: $i
                    })
                } catch {}
            for (const [i,r] of this.instancesDeferred.entries()) {
                const o = this.normalizeInstanceIdentifier(i);
                try {
                    const c = this.getOrInitializeService({
                        instanceIdentifier: o
                    });
                    r.resolve(c)
                } catch {}
            }
        }
    }
    clearInstance(e=$i) {
        this.instancesDeferred.delete(e),
        this.instancesOptions.delete(e),
        this.instances.delete(e)
    }
    async delete() {
        const e = Array.from(this.instances.values());
        await Promise.all([...e.filter(i => "INTERNAL"in i).map(i => i.INTERNAL.delete()), ...e.filter(i => "_delete"in i).map(i => i._delete())])
    }
    isComponentSet() {
        return this.component != null
    }
    isInitialized(e=$i) {
        return this.instances.has(e)
    }
    getOptions(e=$i) {
        return this.instancesOptions.get(e) || {}
    }
    initialize(e={}) {
        const {options: i={}} = e
          , r = this.normalizeInstanceIdentifier(e.instanceIdentifier);
        if (this.isInitialized(r))
            throw Error(`${this.name}(${r}) has already been initialized`);
        if (!this.isComponentSet())
            throw Error(`Component ${this.name} has not been registered yet`);
        const o = this.getOrInitializeService({
            instanceIdentifier: r,
            options: i
        });
        for (const [c,f] of this.instancesDeferred.entries()) {
            const h = this.normalizeInstanceIdentifier(c);
            r === h && f.resolve(o)
        }
        return o
    }
    onInit(e, i) {
        var r;
        const o = this.normalizeInstanceIdentifier(i)
          , c = (r = this.onInitCallbacks.get(o)) !== null && r !== void 0 ? r : new Set;
        c.add(e),
        this.onInitCallbacks.set(o, c);
        const f = this.instances.get(o);
        return f && e(f, o),
        () => {
            c.delete(e)
        }
    }
    invokeOnInitCallbacks(e, i) {
        const r = this.onInitCallbacks.get(i);
        if (r)
            for (const o of r)
                try {
                    o(e, i)
                } catch {}
    }
    getOrInitializeService({instanceIdentifier: e, options: i={}}) {
        let r = this.instances.get(e);
        if (!r && this.component && (r = this.component.instanceFactory(this.container, {
            instanceIdentifier: mT(e),
            options: i
        }),
        this.instances.set(e, r),
        this.instancesOptions.set(e, i),
        this.invokeOnInitCallbacks(r, e),
        this.component.onInstanceCreated))
            try {
                this.component.onInstanceCreated(this.container, e, r)
            } catch {}
        return r || null
    }
    normalizeInstanceIdentifier(e=$i) {
        return this.component ? this.component.multipleInstances ? e : $i : e
    }
    shouldAutoInitialize() {
        return !!this.component && this.component.instantiationMode !== "EXPLICIT"
    }
}
function mT(s) {
    return s === $i ? void 0 : s
}
function gT(s) {
    return s.instantiationMode === "EAGER"
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _T {
    constructor(e) {
        this.name = e,
        this.providers = new Map
    }
    addComponent(e) {
        const i = this.getProvider(e.name);
        if (i.isComponentSet())
            throw new Error(`Component ${e.name} has already been registered with ${this.name}`);
        i.setComponent(e)
    }
    addOrOverwriteComponent(e) {
        this.getProvider(e.name).isComponentSet() && this.providers.delete(e.name),
        this.addComponent(e)
    }
    getProvider(e) {
        if (this.providers.has(e))
            return this.providers.get(e);
        const i = new pT(e,this);
        return this.providers.set(e, i),
        i
    }
    getProviders() {
        return Array.from(this.providers.values())
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Oe;
(function(s) {
    s[s.DEBUG = 0] = "DEBUG",
    s[s.VERBOSE = 1] = "VERBOSE",
    s[s.INFO = 2] = "INFO",
    s[s.WARN = 3] = "WARN",
    s[s.ERROR = 4] = "ERROR",
    s[s.SILENT = 5] = "SILENT"
}
)(Oe || (Oe = {}));
const vT = {
    debug: Oe.DEBUG,
    verbose: Oe.VERBOSE,
    info: Oe.INFO,
    warn: Oe.WARN,
    error: Oe.ERROR,
    silent: Oe.SILENT
}
  , yT = Oe.INFO
  , ET = {
    [Oe.DEBUG]: "log",
    [Oe.VERBOSE]: "log",
    [Oe.INFO]: "info",
    [Oe.WARN]: "warn",
    [Oe.ERROR]: "error"
}
  , bT = (s, e, ...i) => {
    if (e < s.logLevel)
        return;
    const r = new Date().toISOString()
      , o = ET[e];
    if (o)
        console[o](`[${r}]  ${s.name}:`, ...i);
    else
        throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)
}
;
class qf {
    constructor(e) {
        this.name = e,
        this._logLevel = yT,
        this._logHandler = bT,
        this._userLogHandler = null
    }
    get logLevel() {
        return this._logLevel
    }
    set logLevel(e) {
        if (!(e in Oe))
            throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);
        this._logLevel = e
    }
    setLogLevel(e) {
        this._logLevel = typeof e == "string" ? vT[e] : e
    }
    get logHandler() {
        return this._logHandler
    }
    set logHandler(e) {
        if (typeof e != "function")
            throw new TypeError("Value assigned to `logHandler` must be a function");
        this._logHandler = e
    }
    get userLogHandler() {
        return this._userLogHandler
    }
    set userLogHandler(e) {
        this._userLogHandler = e
    }
    debug(...e) {
        this._userLogHandler && this._userLogHandler(this, Oe.DEBUG, ...e),
        this._logHandler(this, Oe.DEBUG, ...e)
    }
    log(...e) {
        this._userLogHandler && this._userLogHandler(this, Oe.VERBOSE, ...e),
        this._logHandler(this, Oe.VERBOSE, ...e)
    }
    info(...e) {
        this._userLogHandler && this._userLogHandler(this, Oe.INFO, ...e),
        this._logHandler(this, Oe.INFO, ...e)
    }
    warn(...e) {
        this._userLogHandler && this._userLogHandler(this, Oe.WARN, ...e),
        this._logHandler(this, Oe.WARN, ...e)
    }
    error(...e) {
        this._userLogHandler && this._userLogHandler(this, Oe.ERROR, ...e),
        this._logHandler(this, Oe.ERROR, ...e)
    }
}
const ST = (s, e) => e.some(i => s instanceof i);
let q_, V_;
function CT() {
    return q_ || (q_ = [IDBDatabase, IDBObjectStore, IDBIndex, IDBCursor, IDBTransaction])
}
function TT() {
    return V_ || (V_ = [IDBCursor.prototype.advance, IDBCursor.prototype.continue, IDBCursor.prototype.continuePrimaryKey])
}
const Ay = new WeakMap
  , of = new WeakMap
  , xy = new WeakMap
  , qd = new WeakMap
  , Vf = new WeakMap;
function wT(s) {
    const e = new Promise( (i, r) => {
        const o = () => {
            s.removeEventListener("success", c),
            s.removeEventListener("error", f)
        }
          , c = () => {
            i(bi(s.result)),
            o()
        }
          , f = () => {
            r(s.error),
            o()
        }
        ;
        s.addEventListener("success", c),
        s.addEventListener("error", f)
    }
    );
    return e.then(i => {
        i instanceof IDBCursor && Ay.set(i, s)
    }
    ).catch( () => {}
    ),
    Vf.set(e, s),
    e
}
function NT(s) {
    if (of.has(s))
        return;
    const e = new Promise( (i, r) => {
        const o = () => {
            s.removeEventListener("complete", c),
            s.removeEventListener("error", f),
            s.removeEventListener("abort", f)
        }
          , c = () => {
            i(),
            o()
        }
          , f = () => {
            r(s.error || new DOMException("AbortError","AbortError")),
            o()
        }
        ;
        s.addEventListener("complete", c),
        s.addEventListener("error", f),
        s.addEventListener("abort", f)
    }
    );
    of.set(s, e)
}
let cf = {
    get(s, e, i) {
        if (s instanceof IDBTransaction) {
            if (e === "done")
                return of.get(s);
            if (e === "objectStoreNames")
                return s.objectStoreNames || xy.get(s);
            if (e === "store")
                return i.objectStoreNames[1] ? void 0 : i.objectStore(i.objectStoreNames[0])
        }
        return bi(s[e])
    },
    set(s, e, i) {
        return s[e] = i,
        !0
    },
    has(s, e) {
        return s instanceof IDBTransaction && (e === "done" || e === "store") ? !0 : e in s
    }
};
function RT(s) {
    cf = s(cf)
}
function AT(s) {
    return s === IDBDatabase.prototype.transaction && !("objectStoreNames"in IDBTransaction.prototype) ? function(e, ...i) {
        const r = s.call(Vd(this), e, ...i);
        return xy.set(r, e.sort ? e.sort() : [e]),
        bi(r)
    }
    : TT().includes(s) ? function(...e) {
        return s.apply(Vd(this), e),
        bi(Ay.get(this))
    }
    : function(...e) {
        return bi(s.apply(Vd(this), e))
    }
}
function xT(s) {
    return typeof s == "function" ? AT(s) : (s instanceof IDBTransaction && NT(s),
    ST(s, CT()) ? new Proxy(s,cf) : s)
}
function bi(s) {
    if (s instanceof IDBRequest)
        return wT(s);
    if (qd.has(s))
        return qd.get(s);
    const e = xT(s);
    return e !== s && (qd.set(s, e),
    Vf.set(e, s)),
    e
}
const Vd = s => Vf.get(s);
function OT(s, e, {blocked: i, upgrade: r, blocking: o, terminated: c}={}) {
    const f = indexedDB.open(s, e)
      , h = bi(f);
    return r && f.addEventListener("upgradeneeded", p => {
        r(bi(f.result), p.oldVersion, p.newVersion, bi(f.transaction), p)
    }
    ),
    i && f.addEventListener("blocked", p => i(p.oldVersion, p.newVersion, p)),
    h.then(p => {
        c && p.addEventListener("close", () => c()),
        o && p.addEventListener("versionchange", m => o(m.oldVersion, m.newVersion, m))
    }
    ).catch( () => {}
    ),
    h
}
const IT = ["get", "getKey", "getAll", "getAllKeys", "count"]
  , DT = ["put", "add", "delete", "clear"]
  , Gd = new Map;
function G_(s, e) {
    if (!(s instanceof IDBDatabase && !(e in s) && typeof e == "string"))
        return;
    if (Gd.get(e))
        return Gd.get(e);
    const i = e.replace(/FromIndex$/, "")
      , r = e !== i
      , o = DT.includes(i);
    if (!(i in (r ? IDBIndex : IDBObjectStore).prototype) || !(o || IT.includes(i)))
        return;
    const c = async function(f, ...h) {
        const p = this.transaction(f, o ? "readwrite" : "readonly");
        let m = p.store;
        return r && (m = m.index(h.shift())),
        (await Promise.all([m[i](...h), o && p.done]))[0]
    };
    return Gd.set(e, c),
    c
}
RT(s => ({
    ...s,
    get: (e, i, r) => G_(e, i) || s.get(e, i, r),
    has: (e, i) => !!G_(e, i) || s.has(e, i)
}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class MT {
    constructor(e) {
        this.container = e
    }
    getPlatformInfoString() {
        return this.container.getProviders().map(i => {
            if (kT(i)) {
                const r = i.getImmediate();
                return `${r.library}/${r.version}`
            } else
                return null
        }
        ).filter(i => i).join(" ")
    }
}
function kT(s) {
    const e = s.getComponent();
    return (e == null ? void 0 : e.type) === "VERSION"
}
const uf = "@firebase/app"
  , Y_ = "0.13.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const qn = new qf("@firebase/app")
  , LT = "@firebase/app-compat"
  , jT = "@firebase/analytics-compat"
  , UT = "@firebase/analytics"
  , PT = "@firebase/app-check-compat"
  , zT = "@firebase/app-check"
  , HT = "@firebase/auth"
  , BT = "@firebase/auth-compat"
  , qT = "@firebase/database"
  , VT = "@firebase/data-connect"
  , GT = "@firebase/database-compat"
  , YT = "@firebase/functions"
  , FT = "@firebase/functions-compat"
  , KT = "@firebase/installations"
  , QT = "@firebase/installations-compat"
  , WT = "@firebase/messaging"
  , XT = "@firebase/messaging-compat"
  , $T = "@firebase/performance"
  , ZT = "@firebase/performance-compat"
  , JT = "@firebase/remote-config"
  , ew = "@firebase/remote-config-compat"
  , tw = "@firebase/storage"
  , nw = "@firebase/storage-compat"
  , iw = "@firebase/firestore"
  , sw = "@firebase/ai"
  , aw = "@firebase/firestore-compat"
  , rw = "firebase"
  , lw = "11.8.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const df = "[DEFAULT]"
  , ow = {
    [uf]: "fire-core",
    [LT]: "fire-core-compat",
    [UT]: "fire-analytics",
    [jT]: "fire-analytics-compat",
    [zT]: "fire-app-check",
    [PT]: "fire-app-check-compat",
    [HT]: "fire-auth",
    [BT]: "fire-auth-compat",
    [qT]: "fire-rtdb",
    [VT]: "fire-data-connect",
    [GT]: "fire-rtdb-compat",
    [YT]: "fire-fn",
    [FT]: "fire-fn-compat",
    [KT]: "fire-iid",
    [QT]: "fire-iid-compat",
    [WT]: "fire-fcm",
    [XT]: "fire-fcm-compat",
    [$T]: "fire-perf",
    [ZT]: "fire-perf-compat",
    [JT]: "fire-rc",
    [ew]: "fire-rc-compat",
    [tw]: "fire-gcs",
    [nw]: "fire-gcs-compat",
    [iw]: "fire-fst",
    [aw]: "fire-fst-compat",
    [sw]: "fire-vertex",
    "fire-js": "fire-js",
    [rw]: "fire-js-all"
};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const zo = new Map
  , cw = new Map
  , ff = new Map;
function F_(s, e) {
    try {
        s.container.addComponent(e)
    } catch (i) {
        qn.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`, i)
    }
}
function aa(s) {
    const e = s.name;
    if (ff.has(e))
        return qn.debug(`There were multiple attempts to register component ${e}.`),
        !1;
    ff.set(e, s);
    for (const i of zo.values())
        F_(i, s);
    for (const i of cw.values())
        F_(i, s);
    return !0
}
function Gf(s, e) {
    const i = s.container.getProvider("heartbeat").getImmediate({
        optional: !0
    });
    return i && i.triggerHeartbeat(),
    s.container.getProvider(e)
}
function Wt(s) {
    return s == null ? !1 : s.settings !== void 0
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const uw = {
    "no-app": "No Firebase App '{$appName}' has been created - call initializeApp() first",
    "bad-app-name": "Illegal App name: '{$appName}'",
    "duplicate-app": "Firebase App named '{$appName}' already exists with different options or config",
    "app-deleted": "Firebase App named '{$appName}' already deleted",
    "server-app-deleted": "Firebase Server App has been deleted",
    "no-options": "Need to provide options, when not being deployed to hosting via source.",
    "invalid-app-argument": "firebase.{$appName}() takes either no argument or a Firebase App instance.",
    "invalid-log-argument": "First argument to `onLog` must be null or a function.",
    "idb-open": "Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-get": "Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-set": "Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-delete": "Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",
    "finalization-registry-not-supported": "FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",
    "invalid-server-app-environment": "FirebaseServerApp is not for use in browser environments."
}
  , Si = new Zr("app","Firebase",uw);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class dw {
    constructor(e, i, r) {
        this._isDeleted = !1,
        this._options = Object.assign({}, e),
        this._config = Object.assign({}, i),
        this._name = i.name,
        this._automaticDataCollectionEnabled = i.automaticDataCollectionEnabled,
        this._container = r,
        this.container.addComponent(new is("app", () => this,"PUBLIC"))
    }
    get automaticDataCollectionEnabled() {
        return this.checkDestroyed(),
        this._automaticDataCollectionEnabled
    }
    set automaticDataCollectionEnabled(e) {
        this.checkDestroyed(),
        this._automaticDataCollectionEnabled = e
    }
    get name() {
        return this.checkDestroyed(),
        this._name
    }
    get options() {
        return this.checkDestroyed(),
        this._options
    }
    get config() {
        return this.checkDestroyed(),
        this._config
    }
    get container() {
        return this._container
    }
    get isDeleted() {
        return this._isDeleted
    }
    set isDeleted(e) {
        this._isDeleted = e
    }
    checkDestroyed() {
        if (this.isDeleted)
            throw Si.create("app-deleted", {
                appName: this._name
            })
    }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ma = lw;
function Oy(s, e={}) {
    let i = s;
    typeof e != "object" && (e = {
        name: e
    });
    const r = Object.assign({
        name: df,
        automaticDataCollectionEnabled: !0
    }, e)
      , o = r.name;
    if (typeof o != "string" || !o)
        throw Si.create("bad-app-name", {
            appName: String(o)
        });
    if (i || (i = Sy()),
    !i)
        throw Si.create("no-options");
    const c = zo.get(o);
    if (c) {
        if (ns(i, c.options) && ns(r, c.config))
            return c;
        throw Si.create("duplicate-app", {
            appName: o
        })
    }
    const f = new _T(o);
    for (const p of ff.values())
        f.addComponent(p);
    const h = new dw(i,r,f);
    return zo.set(o, h),
    h
}
function Iy(s=df) {
    const e = zo.get(s);
    if (!e && s === df && Sy())
        return Oy();
    if (!e)
        throw Si.create("no-app", {
            appName: s
        });
    return e
}
function Ci(s, e, i) {
    var r;
    let o = (r = ow[s]) !== null && r !== void 0 ? r : s;
    i && (o += `-${i}`);
    const c = o.match(/\s|\//)
      , f = e.match(/\s|\//);
    if (c || f) {
        const h = [`Unable to register library "${o}" with version "${e}":`];
        c && h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),
        c && f && h.push("and"),
        f && h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),
        qn.warn(h.join(" "));
        return
    }
    aa(new is(`${o}-version`, () => ({
        library: o,
        version: e
    }),"VERSION"))
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const fw = "firebase-heartbeat-database"
  , hw = 1
  , Pr = "firebase-heartbeat-store";
let Yd = null;
function Dy() {
    return Yd || (Yd = OT(fw, hw, {
        upgrade: (s, e) => {
            switch (e) {
            case 0:
                try {
                    s.createObjectStore(Pr)
                } catch (i) {
                    console.warn(i)
                }
            }
        }
    }).catch(s => {
        throw Si.create("idb-open", {
            originalErrorMessage: s.message
        })
    }
    )),
    Yd
}
async function pw(s) {
    try {
        const i = (await Dy()).transaction(Pr)
          , r = await i.objectStore(Pr).get(My(s));
        return await i.done,
        r
    } catch (e) {
        if (e instanceof Ii)
            qn.warn(e.message);
        else {
            const i = Si.create("idb-get", {
                originalErrorMessage: e == null ? void 0 : e.message
            });
            qn.warn(i.message)
        }
    }
}
async function K_(s, e) {
    try {
        const r = (await Dy()).transaction(Pr, "readwrite");
        await r.objectStore(Pr).put(e, My(s)),
        await r.done
    } catch (i) {
        if (i instanceof Ii)
            qn.warn(i.message);
        else {
            const r = Si.create("idb-set", {
                originalErrorMessage: i == null ? void 0 : i.message
            });
            qn.warn(r.message)
        }
    }
}
function My(s) {
    return `${s.name}!${s.options.appId}`
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const mw = 1024
  , gw = 30;
class _w {
    constructor(e) {
        this.container = e,
        this._heartbeatsCache = null;
        const i = this.container.getProvider("app").getImmediate();
        this._storage = new yw(i),
        this._heartbeatsCachePromise = this._storage.read().then(r => (this._heartbeatsCache = r,
        r))
    }
    async triggerHeartbeat() {
        var e, i;
        try {
            const o = this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString()
              , c = Q_();
            if (((e = this._heartbeatsCache) === null || e === void 0 ? void 0 : e.heartbeats) == null && (this._heartbeatsCache = await this._heartbeatsCachePromise,
            ((i = this._heartbeatsCache) === null || i === void 0 ? void 0 : i.heartbeats) == null) || this._heartbeatsCache.lastSentHeartbeatDate === c || this._heartbeatsCache.heartbeats.some(f => f.date === c))
                return;
            if (this._heartbeatsCache.heartbeats.push({
                date: c,
                agent: o
            }),
            this._heartbeatsCache.heartbeats.length > gw) {
                const f = Ew(this._heartbeatsCache.heartbeats);
                this._heartbeatsCache.heartbeats.splice(f, 1)
            }
            return this._storage.overwrite(this._heartbeatsCache)
        } catch (r) {
            qn.warn(r)
        }
    }
    async getHeartbeatsHeader() {
        var e;
        try {
            if (this._heartbeatsCache === null && await this._heartbeatsCachePromise,
            ((e = this._heartbeatsCache) === null || e === void 0 ? void 0 : e.heartbeats) == null || this._heartbeatsCache.heartbeats.length === 0)
                return "";
            const i = Q_()
              , {heartbeatsToSend: r, unsentEntries: o} = vw(this._heartbeatsCache.heartbeats)
              , c = jo(JSON.stringify({
                version: 2,
                heartbeats: r
            }));
            return this._heartbeatsCache.lastSentHeartbeatDate = i,
            o.length > 0 ? (this._heartbeatsCache.heartbeats = o,
            await this._storage.overwrite(this._heartbeatsCache)) : (this._heartbeatsCache.heartbeats = [],
            this._storage.overwrite(this._heartbeatsCache)),
            c
        } catch (i) {
            return qn.warn(i),
            ""
        }
    }
}
function Q_() {
    return new Date().toISOString().substring(0, 10)
}
function vw(s, e=mw) {
    const i = [];
    let r = s.slice();
    for (const o of s) {
        const c = i.find(f => f.agent === o.agent);
        if (c) {
            if (c.dates.push(o.date),
            W_(i) > e) {
                c.dates.pop();
                break
            }
        } else if (i.push({
            agent: o.agent,
            dates: [o.date]
        }),
        W_(i) > e) {
            i.pop();
            break
        }
        r = r.slice(1)
    }
    return {
        heartbeatsToSend: i,
        unsentEntries: r
    }
}
class yw {
    constructor(e) {
        this.app = e,
        this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck()
    }
    async runIndexedDBEnvironmentCheck() {
        return nT() ? iT().then( () => !0).catch( () => !1) : !1
    }
    async read() {
        if (await this._canUseIndexedDBPromise) {
            const i = await pw(this.app);
            return i != null && i.heartbeats ? i : {
                heartbeats: []
            }
        } else
            return {
                heartbeats: []
            }
    }
    async overwrite(e) {
        var i;
        if (await this._canUseIndexedDBPromise) {
            const o = await this.read();
            return K_(this.app, {
                lastSentHeartbeatDate: (i = e.lastSentHeartbeatDate) !== null && i !== void 0 ? i : o.lastSentHeartbeatDate,
                heartbeats: e.heartbeats
            })
        } else
            return
    }
    async add(e) {
        var i;
        if (await this._canUseIndexedDBPromise) {
            const o = await this.read();
            return K_(this.app, {
                lastSentHeartbeatDate: (i = e.lastSentHeartbeatDate) !== null && i !== void 0 ? i : o.lastSentHeartbeatDate,
                heartbeats: [...o.heartbeats, ...e.heartbeats]
            })
        } else
            return
    }
}
function W_(s) {
    return jo(JSON.stringify({
        version: 2,
        heartbeats: s
    })).length
}
function Ew(s) {
    if (s.length === 0)
        return -1;
    let e = 0
      , i = s[0].date;
    for (let r = 1; r < s.length; r++)
        s[r].date < i && (i = s[r].date,
        e = r);
    return e
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function bw(s) {
    aa(new is("platform-logger",e => new MT(e),"PRIVATE")),
    aa(new is("heartbeat",e => new _w(e),"PRIVATE")),
    Ci(uf, Y_, s),
    Ci(uf, Y_, "esm2017"),
    Ci("fire-js", "")
}
bw("");
var Sw = "firebase"
  , Cw = "11.8.1";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Ci(Sw, Cw, "app");
function Yf(s, e) {
    var i = {};
    for (var r in s)
        Object.prototype.hasOwnProperty.call(s, r) && e.indexOf(r) < 0 && (i[r] = s[r]);
    if (s != null && typeof Object.getOwnPropertySymbols == "function")
        for (var o = 0, r = Object.getOwnPropertySymbols(s); o < r.length; o++)
            e.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(s, r[o]) && (i[r[o]] = s[r[o]]);
    return i
}
function ky() {
    return {
        "dependent-sdk-initialized-before-auth": "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."
    }
}
const Tw = ky
  , Ly = new Zr("auth","Firebase",ky());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ho = new qf("@firebase/auth");
function ww(s, ...e) {
    Ho.logLevel <= Oe.WARN && Ho.warn(`Auth (${ma}): ${s}`, ...e)
}
function xo(s, ...e) {
    Ho.logLevel <= Oe.ERROR && Ho.error(`Auth (${ma}): ${s}`, ...e)
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xt(s, ...e) {
    throw Kf(s, ...e)
}
function ln(s, ...e) {
    return Kf(s, ...e)
}
function Ff(s, e, i) {
    const r = Object.assign(Object.assign({}, Tw()), {
        [e]: i
    });
    return new Zr("auth","Firebase",r).create(e, {
        appName: s.name
    })
}
function Ti(s) {
    return Ff(s, "operation-not-supported-in-this-environment", "Operations that alter the current user are not supported in conjunction with FirebaseServerApp")
}
function Nw(s, e, i) {
    const r = i;
    if (!(e instanceof r))
        throw r.name !== e.constructor.name && Xt(s, "argument-error"),
        Ff(s, "argument-error", `Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)
}
function Kf(s, ...e) {
    if (typeof s != "string") {
        const i = e[0]
          , r = [...e.slice(1)];
        return r[0] && (r[0].appName = s.name),
        s._errorFactory.create(i, ...r)
    }
    return Ly.create(s, ...e)
}
function ie(s, e, ...i) {
    if (!s)
        throw Kf(e, ...i)
}
function jn(s) {
    const e = "INTERNAL ASSERTION FAILED: " + s;
    throw xo(e),
    new Error(e)
}
function Vn(s, e) {
    s || jn(e)
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function hf() {
    var s;
    return typeof self < "u" && ((s = self.location) === null || s === void 0 ? void 0 : s.href) || ""
}
function Rw() {
    return X_() === "http:" || X_() === "https:"
}
function X_() {
    var s;
    return typeof self < "u" && ((s = self.location) === null || s === void 0 ? void 0 : s.protocol) || null
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Aw() {
    return typeof navigator < "u" && navigator && "onLine"in navigator && typeof navigator.onLine == "boolean" && (Rw() || JC() || "connection"in navigator) ? navigator.onLine : !0
}
function xw() {
    if (typeof navigator > "u")
        return null;
    const s = navigator;
    return s.languages && s.languages[0] || s.language || null
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Jr {
    constructor(e, i) {
        this.shortDelay = e,
        this.longDelay = i,
        Vn(i > e, "Short delay should be less than long delay!"),
        this.isMobile = Hf() || Ny()
    }
    get() {
        return Aw() ? this.isMobile ? this.longDelay : this.shortDelay : Math.min(5e3, this.shortDelay)
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qf(s, e) {
    Vn(s.emulator, "Emulator should always be set here");
    const {url: i} = s.emulator;
    return e ? `${i}${e.startsWith("/") ? e.slice(1) : e}` : i
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jy {
    static initialize(e, i, r) {
        this.fetchImpl = e,
        i && (this.headersImpl = i),
        r && (this.responseImpl = r)
    }
    static fetch() {
        if (this.fetchImpl)
            return this.fetchImpl;
        if (typeof self < "u" && "fetch"in self)
            return self.fetch;
        if (typeof globalThis < "u" && globalThis.fetch)
            return globalThis.fetch;
        if (typeof fetch < "u")
            return fetch;
        jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")
    }
    static headers() {
        if (this.headersImpl)
            return this.headersImpl;
        if (typeof self < "u" && "Headers"in self)
            return self.Headers;
        if (typeof globalThis < "u" && globalThis.Headers)
            return globalThis.Headers;
        if (typeof Headers < "u")
            return Headers;
        jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")
    }
    static response() {
        if (this.responseImpl)
            return this.responseImpl;
        if (typeof self < "u" && "Response"in self)
            return self.Response;
        if (typeof globalThis < "u" && globalThis.Response)
            return globalThis.Response;
        if (typeof Response < "u")
            return Response;
        jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ow = {
    CREDENTIAL_MISMATCH: "custom-token-mismatch",
    MISSING_CUSTOM_TOKEN: "internal-error",
    INVALID_IDENTIFIER: "invalid-email",
    MISSING_CONTINUE_URI: "internal-error",
    INVALID_PASSWORD: "wrong-password",
    MISSING_PASSWORD: "missing-password",
    INVALID_LOGIN_CREDENTIALS: "invalid-credential",
    EMAIL_EXISTS: "email-already-in-use",
    PASSWORD_LOGIN_DISABLED: "operation-not-allowed",
    INVALID_IDP_RESPONSE: "invalid-credential",
    INVALID_PENDING_TOKEN: "invalid-credential",
    FEDERATED_USER_ID_ALREADY_LINKED: "credential-already-in-use",
    MISSING_REQ_TYPE: "internal-error",
    EMAIL_NOT_FOUND: "user-not-found",
    RESET_PASSWORD_EXCEED_LIMIT: "too-many-requests",
    EXPIRED_OOB_CODE: "expired-action-code",
    INVALID_OOB_CODE: "invalid-action-code",
    MISSING_OOB_CODE: "internal-error",
    CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "requires-recent-login",
    INVALID_ID_TOKEN: "invalid-user-token",
    TOKEN_EXPIRED: "user-token-expired",
    USER_NOT_FOUND: "user-token-expired",
    TOO_MANY_ATTEMPTS_TRY_LATER: "too-many-requests",
    PASSWORD_DOES_NOT_MEET_REQUIREMENTS: "password-does-not-meet-requirements",
    INVALID_CODE: "invalid-verification-code",
    INVALID_SESSION_INFO: "invalid-verification-id",
    INVALID_TEMPORARY_PROOF: "invalid-credential",
    MISSING_SESSION_INFO: "missing-verification-id",
    SESSION_EXPIRED: "code-expired",
    MISSING_ANDROID_PACKAGE_NAME: "missing-android-pkg-name",
    UNAUTHORIZED_DOMAIN: "unauthorized-continue-uri",
    INVALID_OAUTH_CLIENT_ID: "invalid-oauth-client-id",
    ADMIN_ONLY_OPERATION: "admin-restricted-operation",
    INVALID_MFA_PENDING_CREDENTIAL: "invalid-multi-factor-session",
    MFA_ENROLLMENT_NOT_FOUND: "multi-factor-info-not-found",
    MISSING_MFA_ENROLLMENT_ID: "missing-multi-factor-info",
    MISSING_MFA_PENDING_CREDENTIAL: "missing-multi-factor-session",
    SECOND_FACTOR_EXISTS: "second-factor-already-in-use",
    SECOND_FACTOR_LIMIT_EXCEEDED: "maximum-second-factor-count-exceeded",
    BLOCKING_FUNCTION_ERROR_RESPONSE: "internal-error",
    RECAPTCHA_NOT_ENABLED: "recaptcha-not-enabled",
    MISSING_RECAPTCHA_TOKEN: "missing-recaptcha-token",
    INVALID_RECAPTCHA_TOKEN: "invalid-recaptcha-token",
    INVALID_RECAPTCHA_ACTION: "invalid-recaptcha-action",
    MISSING_CLIENT_TYPE: "missing-client-type",
    MISSING_RECAPTCHA_VERSION: "missing-recaptcha-version",
    INVALID_RECAPTCHA_VERSION: "invalid-recaptcha-version",
    INVALID_REQ_TYPE: "invalid-req-type"
};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Iw = ["/v1/accounts:signInWithCustomToken", "/v1/accounts:signInWithEmailLink", "/v1/accounts:signInWithIdp", "/v1/accounts:signInWithPassword", "/v1/accounts:signInWithPhoneNumber", "/v1/token"]
  , Dw = new Jr(3e4,6e4);
function os(s, e) {
    return s.tenantId && !e.tenantId ? Object.assign(Object.assign({}, e), {
        tenantId: s.tenantId
    }) : e
}
async function Di(s, e, i, r, o={}) {
    return Uy(s, o, async () => {
        let c = {}
          , f = {};
        r && (e === "GET" ? f = r : c = {
            body: JSON.stringify(r)
        });
        const h = pa(Object.assign({
            key: s.config.apiKey
        }, f)).slice(1)
          , p = await s._getAdditionalHeaders();
        p["Content-Type"] = "application/json",
        s.languageCode && (p["X-Firebase-Locale"] = s.languageCode);
        const m = Object.assign({
            method: e,
            headers: p
        }, c);
        return ZC() || (m.referrerPolicy = "no-referrer"),
        s.emulatorConfig && $r(s.emulatorConfig.host) && (m.credentials = "include"),
        jy.fetch()(await Py(s, s.config.apiHost, i, h), m)
    }
    )
}
async function Uy(s, e, i) {
    s._canInitEmulator = !1;
    const r = Object.assign(Object.assign({}, Ow), e);
    try {
        const o = new kw(s)
          , c = await Promise.race([i(), o.promise]);
        o.clearNetworkTimeout();
        const f = await c.json();
        if ("needConfirmation"in f)
            throw To(s, "account-exists-with-different-credential", f);
        if (c.ok && !("errorMessage"in f))
            return f;
        {
            const h = c.ok ? f.errorMessage : f.error.message
              , [p,m] = h.split(" : ");
            if (p === "FEDERATED_USER_ID_ALREADY_LINKED")
                throw To(s, "credential-already-in-use", f);
            if (p === "EMAIL_EXISTS")
                throw To(s, "email-already-in-use", f);
            if (p === "USER_DISABLED")
                throw To(s, "user-disabled", f);
            const E = r[p] || p.toLowerCase().replace(/[_\s]+/g, "-");
            if (m)
                throw Ff(s, E, m);
            Xt(s, E)
        }
    } catch (o) {
        if (o instanceof Ii)
            throw o;
        Xt(s, "network-request-failed", {
            message: String(o)
        })
    }
}
async function oc(s, e, i, r, o={}) {
    const c = await Di(s, e, i, r, o);
    return "mfaPendingCredential"in c && Xt(s, "multi-factor-auth-required", {
        _serverResponse: c
    }),
    c
}
async function Py(s, e, i, r) {
    const o = `${e}${i}?${r}`
      , c = s
      , f = c.config.emulator ? Qf(s.config, o) : `${s.config.apiScheme}://${o}`;
    return Iw.includes(i) && (await c._persistenceManagerAvailable,
    c._getPersistenceType() === "COOKIE") ? c._getPersistence()._getFinalTarget(f).toString() : f
}
function Mw(s) {
    switch (s) {
    case "ENFORCE":
        return "ENFORCE";
    case "AUDIT":
        return "AUDIT";
    case "OFF":
        return "OFF";
    default:
        return "ENFORCEMENT_STATE_UNSPECIFIED"
    }
}
class kw {
    clearNetworkTimeout() {
        clearTimeout(this.timer)
    }
    constructor(e) {
        this.auth = e,
        this.timer = null,
        this.promise = new Promise( (i, r) => {
            this.timer = setTimeout( () => r(ln(this.auth, "network-request-failed")), Dw.get())
        }
        )
    }
}
function To(s, e, i) {
    const r = {
        appName: s.name
    };
    i.email && (r.email = i.email),
    i.phoneNumber && (r.phoneNumber = i.phoneNumber);
    const o = ln(s, e, r);
    return o.customData._tokenResponse = i,
    o
}
function $_(s) {
    return s !== void 0 && s.enterprise !== void 0
}
class Lw {
    constructor(e) {
        if (this.siteKey = "",
        this.recaptchaEnforcementState = [],
        e.recaptchaKey === void 0)
            throw new Error("recaptchaKey undefined");
        this.siteKey = e.recaptchaKey.split("/")[3],
        this.recaptchaEnforcementState = e.recaptchaEnforcementState
    }
    getProviderEnforcementState(e) {
        if (!this.recaptchaEnforcementState || this.recaptchaEnforcementState.length === 0)
            return null;
        for (const i of this.recaptchaEnforcementState)
            if (i.provider && i.provider === e)
                return Mw(i.enforcementState);
        return null
    }
    isProviderEnabled(e) {
        return this.getProviderEnforcementState(e) === "ENFORCE" || this.getProviderEnforcementState(e) === "AUDIT"
    }
    isAnyProviderEnabled() {
        return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER") || this.isProviderEnabled("PHONE_PROVIDER")
    }
}
async function jw(s, e) {
    return Di(s, "GET", "/v2/recaptchaConfig", os(s, e))
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Uw(s, e) {
    return Di(s, "POST", "/v1/accounts:delete", e)
}
async function Bo(s, e) {
    return Di(s, "POST", "/v1/accounts:lookup", e)
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Or(s) {
    if (s)
        try {
            const e = new Date(Number(s));
            if (!isNaN(e.getTime()))
                return e.toUTCString()
        } catch {}
}
async function Pw(s, e=!1) {
    const i = Et(s)
      , r = await i.getIdToken(e)
      , o = Wf(r);
    ie(o && o.exp && o.auth_time && o.iat, i.auth, "internal-error");
    const c = typeof o.firebase == "object" ? o.firebase : void 0
      , f = c == null ? void 0 : c.sign_in_provider;
    return {
        claims: o,
        token: r,
        authTime: Or(Fd(o.auth_time)),
        issuedAtTime: Or(Fd(o.iat)),
        expirationTime: Or(Fd(o.exp)),
        signInProvider: f || null,
        signInSecondFactor: (c == null ? void 0 : c.sign_in_second_factor) || null
    }
}
function Fd(s) {
    return Number(s) * 1e3
}
function Wf(s) {
    const [e,i,r] = s.split(".");
    if (e === void 0 || i === void 0 || r === void 0)
        return xo("JWT malformed, contained fewer than 3 sections"),
        null;
    try {
        const o = Uo(i);
        return o ? JSON.parse(o) : (xo("Failed to decode base64 JWT payload"),
        null)
    } catch (o) {
        return xo("Caught error parsing JWT payload as JSON", o == null ? void 0 : o.toString()),
        null
    }
}
function Z_(s) {
    const e = Wf(s);
    return ie(e, "internal-error"),
    ie(typeof e.exp < "u", "internal-error"),
    ie(typeof e.iat < "u", "internal-error"),
    Number(e.exp) - Number(e.iat)
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function zr(s, e, i=!1) {
    if (i)
        return e;
    try {
        return await e
    } catch (r) {
        throw r instanceof Ii && zw(r) && s.auth.currentUser === s && await s.auth.signOut(),
        r
    }
}
function zw({code: s}) {
    return s === "auth/user-disabled" || s === "auth/user-token-expired"
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Hw {
    constructor(e) {
        this.user = e,
        this.isRunning = !1,
        this.timerId = null,
        this.errorBackoff = 3e4
    }
    _start() {
        this.isRunning || (this.isRunning = !0,
        this.schedule())
    }
    _stop() {
        this.isRunning && (this.isRunning = !1,
        this.timerId !== null && clearTimeout(this.timerId))
    }
    getInterval(e) {
        var i;
        if (e) {
            const r = this.errorBackoff;
            return this.errorBackoff = Math.min(this.errorBackoff * 2, 96e4),
            r
        } else {
            this.errorBackoff = 3e4;
            const o = ((i = this.user.stsTokenManager.expirationTime) !== null && i !== void 0 ? i : 0) - Date.now() - 3e5;
            return Math.max(0, o)
        }
    }
    schedule(e=!1) {
        if (!this.isRunning)
            return;
        const i = this.getInterval(e);
        this.timerId = setTimeout(async () => {
            await this.iteration()
        }
        , i)
    }
    async iteration() {
        try {
            await this.user.getIdToken(!0)
        } catch (e) {
            (e == null ? void 0 : e.code) === "auth/network-request-failed" && this.schedule(!0);
            return
        }
        this.schedule()
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pf {
    constructor(e, i) {
        this.createdAt = e,
        this.lastLoginAt = i,
        this._initializeTime()
    }
    _initializeTime() {
        this.lastSignInTime = Or(this.lastLoginAt),
        this.creationTime = Or(this.createdAt)
    }
    _copy(e) {
        this.createdAt = e.createdAt,
        this.lastLoginAt = e.lastLoginAt,
        this._initializeTime()
    }
    toJSON() {
        return {
            createdAt: this.createdAt,
            lastLoginAt: this.lastLoginAt
        }
    }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function qo(s) {
    var e;
    const i = s.auth
      , r = await s.getIdToken()
      , o = await zr(s, Bo(i, {
        idToken: r
    }));
    ie(o == null ? void 0 : o.users.length, i, "internal-error");
    const c = o.users[0];
    s._notifyReloadListener(c);
    const f = !((e = c.providerUserInfo) === null || e === void 0) && e.length ? zy(c.providerUserInfo) : []
      , h = qw(s.providerData, f)
      , p = s.isAnonymous
      , m = !(s.email && c.passwordHash) && !(h != null && h.length)
      , E = p ? m : !1
      , b = {
        uid: c.localId,
        displayName: c.displayName || null,
        photoURL: c.photoUrl || null,
        email: c.email || null,
        emailVerified: c.emailVerified || !1,
        phoneNumber: c.phoneNumber || null,
        tenantId: c.tenantId || null,
        providerData: h,
        metadata: new pf(c.createdAt,c.lastLoginAt),
        isAnonymous: E
    };
    Object.assign(s, b)
}
async function Bw(s) {
    const e = Et(s);
    await qo(e),
    await e.auth._persistUserIfCurrent(e),
    e.auth._notifyListenersIfCurrent(e)
}
function qw(s, e) {
    return [...s.filter(r => !e.some(o => o.providerId === r.providerId)), ...e]
}
function zy(s) {
    return s.map(e => {
        var {providerId: i} = e
          , r = Yf(e, ["providerId"]);
        return {
            providerId: i,
            uid: r.rawId || "",
            displayName: r.displayName || null,
            email: r.email || null,
            phoneNumber: r.phoneNumber || null,
            photoURL: r.photoUrl || null
        }
    }
    )
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Vw(s, e) {
    const i = await Uy(s, {}, async () => {
        const r = pa({
            grant_type: "refresh_token",
            refresh_token: e
        }).slice(1)
          , {tokenApiHost: o, apiKey: c} = s.config
          , f = await Py(s, o, "/v1/token", `key=${c}`)
          , h = await s._getAdditionalHeaders();
        return h["Content-Type"] = "application/x-www-form-urlencoded",
        jy.fetch()(f, {
            method: "POST",
            headers: h,
            body: r
        })
    }
    );
    return {
        accessToken: i.access_token,
        expiresIn: i.expires_in,
        refreshToken: i.refresh_token
    }
}
async function Gw(s, e) {
    return Di(s, "POST", "/v2/accounts:revokeToken", os(s, e))
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Js {
    constructor() {
        this.refreshToken = null,
        this.accessToken = null,
        this.expirationTime = null
    }
    get isExpired() {
        return !this.expirationTime || Date.now() > this.expirationTime - 3e4
    }
    updateFromServerResponse(e) {
        ie(e.idToken, "internal-error"),
        ie(typeof e.idToken < "u", "internal-error"),
        ie(typeof e.refreshToken < "u", "internal-error");
        const i = "expiresIn"in e && typeof e.expiresIn < "u" ? Number(e.expiresIn) : Z_(e.idToken);
        this.updateTokensAndExpiration(e.idToken, e.refreshToken, i)
    }
    updateFromIdToken(e) {
        ie(e.length !== 0, "internal-error");
        const i = Z_(e);
        this.updateTokensAndExpiration(e, null, i)
    }
    async getToken(e, i=!1) {
        return !i && this.accessToken && !this.isExpired ? this.accessToken : (ie(this.refreshToken, e, "user-token-expired"),
        this.refreshToken ? (await this.refresh(e, this.refreshToken),
        this.accessToken) : null)
    }
    clearRefreshToken() {
        this.refreshToken = null
    }
    async refresh(e, i) {
        const {accessToken: r, refreshToken: o, expiresIn: c} = await Vw(e, i);
        this.updateTokensAndExpiration(r, o, Number(c))
    }
    updateTokensAndExpiration(e, i, r) {
        this.refreshToken = i || null,
        this.accessToken = e || null,
        this.expirationTime = Date.now() + r * 1e3
    }
    static fromJSON(e, i) {
        const {refreshToken: r, accessToken: o, expirationTime: c} = i
          , f = new Js;
        return r && (ie(typeof r == "string", "internal-error", {
            appName: e
        }),
        f.refreshToken = r),
        o && (ie(typeof o == "string", "internal-error", {
            appName: e
        }),
        f.accessToken = o),
        c && (ie(typeof c == "number", "internal-error", {
            appName: e
        }),
        f.expirationTime = c),
        f
    }
    toJSON() {
        return {
            refreshToken: this.refreshToken,
            accessToken: this.accessToken,
            expirationTime: this.expirationTime
        }
    }
    _assign(e) {
        this.accessToken = e.accessToken,
        this.refreshToken = e.refreshToken,
        this.expirationTime = e.expirationTime
    }
    _clone() {
        return Object.assign(new Js, this.toJSON())
    }
    _performRefresh() {
        return jn("not implemented")
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function _i(s, e) {
    ie(typeof s == "string" || typeof s > "u", "internal-error", {
        appName: e
    })
}
class sn {
    constructor(e) {
        var {uid: i, auth: r, stsTokenManager: o} = e
          , c = Yf(e, ["uid", "auth", "stsTokenManager"]);
        this.providerId = "firebase",
        this.proactiveRefresh = new Hw(this),
        this.reloadUserInfo = null,
        this.reloadListener = null,
        this.uid = i,
        this.auth = r,
        this.stsTokenManager = o,
        this.accessToken = o.accessToken,
        this.displayName = c.displayName || null,
        this.email = c.email || null,
        this.emailVerified = c.emailVerified || !1,
        this.phoneNumber = c.phoneNumber || null,
        this.photoURL = c.photoURL || null,
        this.isAnonymous = c.isAnonymous || !1,
        this.tenantId = c.tenantId || null,
        this.providerData = c.providerData ? [...c.providerData] : [],
        this.metadata = new pf(c.createdAt || void 0,c.lastLoginAt || void 0)
    }
    async getIdToken(e) {
        const i = await zr(this, this.stsTokenManager.getToken(this.auth, e));
        return ie(i, this.auth, "internal-error"),
        this.accessToken !== i && (this.accessToken = i,
        await this.auth._persistUserIfCurrent(this),
        this.auth._notifyListenersIfCurrent(this)),
        i
    }
    getIdTokenResult(e) {
        return Pw(this, e)
    }
    reload() {
        return Bw(this)
    }
    _assign(e) {
        this !== e && (ie(this.uid === e.uid, this.auth, "internal-error"),
        this.displayName = e.displayName,
        this.photoURL = e.photoURL,
        this.email = e.email,
        this.emailVerified = e.emailVerified,
        this.phoneNumber = e.phoneNumber,
        this.isAnonymous = e.isAnonymous,
        this.tenantId = e.tenantId,
        this.providerData = e.providerData.map(i => Object.assign({}, i)),
        this.metadata._copy(e.metadata),
        this.stsTokenManager._assign(e.stsTokenManager))
    }
    _clone(e) {
        const i = new sn(Object.assign(Object.assign({}, this), {
            auth: e,
            stsTokenManager: this.stsTokenManager._clone()
        }));
        return i.metadata._copy(this.metadata),
        i
    }
    _onReload(e) {
        ie(!this.reloadListener, this.auth, "internal-error"),
        this.reloadListener = e,
        this.reloadUserInfo && (this._notifyReloadListener(this.reloadUserInfo),
        this.reloadUserInfo = null)
    }
    _notifyReloadListener(e) {
        this.reloadListener ? this.reloadListener(e) : this.reloadUserInfo = e
    }
    _startProactiveRefresh() {
        this.proactiveRefresh._start()
    }
    _stopProactiveRefresh() {
        this.proactiveRefresh._stop()
    }
    async _updateTokensIfNecessary(e, i=!1) {
        let r = !1;
        e.idToken && e.idToken !== this.stsTokenManager.accessToken && (this.stsTokenManager.updateFromServerResponse(e),
        r = !0),
        i && await qo(this),
        await this.auth._persistUserIfCurrent(this),
        r && this.auth._notifyListenersIfCurrent(this)
    }
    async delete() {
        if (Wt(this.auth.app))
            return Promise.reject(Ti(this.auth));
        const e = await this.getIdToken();
        return await zr(this, Uw(this.auth, {
            idToken: e
        })),
        this.stsTokenManager.clearRefreshToken(),
        this.auth.signOut()
    }
    toJSON() {
        return Object.assign(Object.assign({
            uid: this.uid,
            email: this.email || void 0,
            emailVerified: this.emailVerified,
            displayName: this.displayName || void 0,
            isAnonymous: this.isAnonymous,
            photoURL: this.photoURL || void 0,
            phoneNumber: this.phoneNumber || void 0,
            tenantId: this.tenantId || void 0,
            providerData: this.providerData.map(e => Object.assign({}, e)),
            stsTokenManager: this.stsTokenManager.toJSON(),
            _redirectEventId: this._redirectEventId
        }, this.metadata.toJSON()), {
            apiKey: this.auth.config.apiKey,
            appName: this.auth.name
        })
    }
    get refreshToken() {
        return this.stsTokenManager.refreshToken || ""
    }
    static _fromJSON(e, i) {
        var r, o, c, f, h, p, m, E;
        const b = (r = i.displayName) !== null && r !== void 0 ? r : void 0
          , y = (o = i.email) !== null && o !== void 0 ? o : void 0
          , A = (c = i.phoneNumber) !== null && c !== void 0 ? c : void 0
          , T = (f = i.photoURL) !== null && f !== void 0 ? f : void 0
          , k = (h = i.tenantId) !== null && h !== void 0 ? h : void 0
          , z = (p = i._redirectEventId) !== null && p !== void 0 ? p : void 0
          , H = (m = i.createdAt) !== null && m !== void 0 ? m : void 0
          , B = (E = i.lastLoginAt) !== null && E !== void 0 ? E : void 0
          , {uid: F, emailVerified: Q, isAnonymous: G, providerData: re, stsTokenManager: ye} = i;
        ie(F && ye, e, "internal-error");
        const Te = Js.fromJSON(this.name, ye);
        ie(typeof F == "string", e, "internal-error"),
        _i(b, e.name),
        _i(y, e.name),
        ie(typeof Q == "boolean", e, "internal-error"),
        ie(typeof G == "boolean", e, "internal-error"),
        _i(A, e.name),
        _i(T, e.name),
        _i(k, e.name),
        _i(z, e.name),
        _i(H, e.name),
        _i(B, e.name);
        const ve = new sn({
            uid: F,
            auth: e,
            email: y,
            emailVerified: Q,
            displayName: b,
            isAnonymous: G,
            photoURL: T,
            phoneNumber: A,
            tenantId: k,
            stsTokenManager: Te,
            createdAt: H,
            lastLoginAt: B
        });
        return re && Array.isArray(re) && (ve.providerData = re.map(Ie => Object.assign({}, Ie))),
        z && (ve._redirectEventId = z),
        ve
    }
    static async _fromIdTokenResponse(e, i, r=!1) {
        const o = new Js;
        o.updateFromServerResponse(i);
        const c = new sn({
            uid: i.localId,
            auth: e,
            stsTokenManager: o,
            isAnonymous: r
        });
        return await qo(c),
        c
    }
    static async _fromGetAccountInfoResponse(e, i, r) {
        const o = i.users[0];
        ie(o.localId !== void 0, "internal-error");
        const c = o.providerUserInfo !== void 0 ? zy(o.providerUserInfo) : []
          , f = !(o.email && o.passwordHash) && !(c != null && c.length)
          , h = new Js;
        h.updateFromIdToken(r);
        const p = new sn({
            uid: o.localId,
            auth: e,
            stsTokenManager: h,
            isAnonymous: f
        })
          , m = {
            uid: o.localId,
            displayName: o.displayName || null,
            photoURL: o.photoUrl || null,
            email: o.email || null,
            emailVerified: o.emailVerified || !1,
            phoneNumber: o.phoneNumber || null,
            tenantId: o.tenantId || null,
            providerData: c,
            metadata: new pf(o.createdAt,o.lastLoginAt),
            isAnonymous: !(o.email && o.passwordHash) && !(c != null && c.length)
        };
        return Object.assign(p, m),
        p
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const J_ = new Map;
function Un(s) {
    Vn(s instanceof Function, "Expected a class definition");
    let e = J_.get(s);
    return e ? (Vn(e instanceof s, "Instance stored in cache mismatched with class"),
    e) : (e = new s,
    J_.set(s, e),
    e)
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Hy {
    constructor() {
        this.type = "NONE",
        this.storage = {}
    }
    async _isAvailable() {
        return !0
    }
    async _set(e, i) {
        this.storage[e] = i
    }
    async _get(e) {
        const i = this.storage[e];
        return i === void 0 ? null : i
    }
    async _remove(e) {
        delete this.storage[e]
    }
    _addListener(e, i) {}
    _removeListener(e, i) {}
}
Hy.type = "NONE";
const ev = Hy;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Oo(s, e, i) {
    return `firebase:${s}:${e}:${i}`
}
class ea {
    constructor(e, i, r) {
        this.persistence = e,
        this.auth = i,
        this.userKey = r;
        const {config: o, name: c} = this.auth;
        this.fullUserKey = Oo(this.userKey, o.apiKey, c),
        this.fullPersistenceKey = Oo("persistence", o.apiKey, c),
        this.boundEventHandler = i._onStorageEvent.bind(i),
        this.persistence._addListener(this.fullUserKey, this.boundEventHandler)
    }
    setCurrentUser(e) {
        return this.persistence._set(this.fullUserKey, e.toJSON())
    }
    async getCurrentUser() {
        const e = await this.persistence._get(this.fullUserKey);
        if (!e)
            return null;
        if (typeof e == "string") {
            const i = await Bo(this.auth, {
                idToken: e
            }).catch( () => {}
            );
            return i ? sn._fromGetAccountInfoResponse(this.auth, i, e) : null
        }
        return sn._fromJSON(this.auth, e)
    }
    removeCurrentUser() {
        return this.persistence._remove(this.fullUserKey)
    }
    savePersistenceForRedirect() {
        return this.persistence._set(this.fullPersistenceKey, this.persistence.type)
    }
    async setPersistence(e) {
        if (this.persistence === e)
            return;
        const i = await this.getCurrentUser();
        if (await this.removeCurrentUser(),
        this.persistence = e,
        i)
            return this.setCurrentUser(i)
    }
    delete() {
        this.persistence._removeListener(this.fullUserKey, this.boundEventHandler)
    }
    static async create(e, i, r="authUser") {
        if (!i.length)
            return new ea(Un(ev),e,r);
        const o = (await Promise.all(i.map(async m => {
            if (await m._isAvailable())
                return m
        }
        ))).filter(m => m);
        let c = o[0] || Un(ev);
        const f = Oo(r, e.config.apiKey, e.name);
        let h = null;
        for (const m of i)
            try {
                const E = await m._get(f);
                if (E) {
                    let b;
                    if (typeof E == "string") {
                        const y = await Bo(e, {
                            idToken: E
                        }).catch( () => {}
                        );
                        if (!y)
                            break;
                        b = await sn._fromGetAccountInfoResponse(e, y, E)
                    } else
                        b = sn._fromJSON(e, E);
                    m !== c && (h = b),
                    c = m;
                    break
                }
            } catch {}
        const p = o.filter(m => m._shouldAllowMigration);
        return !c._shouldAllowMigration || !p.length ? new ea(c,e,r) : (c = p[0],
        h && await c._set(f, h.toJSON()),
        await Promise.all(i.map(async m => {
            if (m !== c)
                try {
                    await m._remove(f)
                } catch {}
        }
        )),
        new ea(c,e,r))
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tv(s) {
    const e = s.toLowerCase();
    if (e.includes("opera/") || e.includes("opr/") || e.includes("opios/"))
        return "Opera";
    if (Gy(e))
        return "IEMobile";
    if (e.includes("msie") || e.includes("trident/"))
        return "IE";
    if (e.includes("edge/"))
        return "Edge";
    if (By(e))
        return "Firefox";
    if (e.includes("silk/"))
        return "Silk";
    if (Fy(e))
        return "Blackberry";
    if (Ky(e))
        return "Webos";
    if (qy(e))
        return "Safari";
    if ((e.includes("chrome/") || Vy(e)) && !e.includes("edge/"))
        return "Chrome";
    if (Yy(e))
        return "Android";
    {
        const i = /([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/
          , r = s.match(i);
        if ((r == null ? void 0 : r.length) === 2)
            return r[1]
    }
    return "Other"
}
function By(s=yt()) {
    return /firefox\//i.test(s)
}
function qy(s=yt()) {
    const e = s.toLowerCase();
    return e.includes("safari/") && !e.includes("chrome/") && !e.includes("crios/") && !e.includes("android")
}
function Vy(s=yt()) {
    return /crios\//i.test(s)
}
function Gy(s=yt()) {
    return /iemobile/i.test(s)
}
function Yy(s=yt()) {
    return /android/i.test(s)
}
function Fy(s=yt()) {
    return /blackberry/i.test(s)
}
function Ky(s=yt()) {
    return /webos/i.test(s)
}
function Xf(s=yt()) {
    return /iphone|ipad|ipod/i.test(s) || /macintosh/i.test(s) && /mobile/i.test(s)
}
function Yw(s=yt()) {
    var e;
    return Xf(s) && !!(!((e = window.navigator) === null || e === void 0) && e.standalone)
}
function Fw() {
    return eT() && document.documentMode === 10
}
function Qy(s=yt()) {
    return Xf(s) || Yy(s) || Ky(s) || Fy(s) || /windows phone/i.test(s) || Gy(s)
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Wy(s, e=[]) {
    let i;
    switch (s) {
    case "Browser":
        i = tv(yt());
        break;
    case "Worker":
        i = `${tv(yt())}-${s}`;
        break;
    default:
        i = s
    }
    const r = e.length ? e.join(",") : "FirebaseCore-web";
    return `${i}/JsCore/${ma}/${r}`
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Kw {
    constructor(e) {
        this.auth = e,
        this.queue = []
    }
    pushCallback(e, i) {
        const r = c => new Promise( (f, h) => {
            try {
                const p = e(c);
                f(p)
            } catch (p) {
                h(p)
            }
        }
        );
        r.onAbort = i,
        this.queue.push(r);
        const o = this.queue.length - 1;
        return () => {
            this.queue[o] = () => Promise.resolve()
        }
    }
    async runMiddleware(e) {
        if (this.auth.currentUser === e)
            return;
        const i = [];
        try {
            for (const r of this.queue)
                await r(e),
                r.onAbort && i.push(r.onAbort)
        } catch (r) {
            i.reverse();
            for (const o of i)
                try {
                    o()
                } catch {}
            throw this.auth._errorFactory.create("login-blocked", {
                originalMessage: r == null ? void 0 : r.message
            })
        }
    }
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Qw(s, e={}) {
    return Di(s, "GET", "/v2/passwordPolicy", os(s, e))
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ww = 6;
class Xw {
    constructor(e) {
        var i, r, o, c;
        const f = e.customStrengthOptions;
        this.customStrengthOptions = {},
        this.customStrengthOptions.minPasswordLength = (i = f.minPasswordLength) !== null && i !== void 0 ? i : Ww,
        f.maxPasswordLength && (this.customStrengthOptions.maxPasswordLength = f.maxPasswordLength),
        f.containsLowercaseCharacter !== void 0 && (this.customStrengthOptions.containsLowercaseLetter = f.containsLowercaseCharacter),
        f.containsUppercaseCharacter !== void 0 && (this.customStrengthOptions.containsUppercaseLetter = f.containsUppercaseCharacter),
        f.containsNumericCharacter !== void 0 && (this.customStrengthOptions.containsNumericCharacter = f.containsNumericCharacter),
        f.containsNonAlphanumericCharacter !== void 0 && (this.customStrengthOptions.containsNonAlphanumericCharacter = f.containsNonAlphanumericCharacter),
        this.enforcementState = e.enforcementState,
        this.enforcementState === "ENFORCEMENT_STATE_UNSPECIFIED" && (this.enforcementState = "OFF"),
        this.allowedNonAlphanumericCharacters = (o = (r = e.allowedNonAlphanumericCharacters) === null || r === void 0 ? void 0 : r.join("")) !== null && o !== void 0 ? o : "",
        this.forceUpgradeOnSignin = (c = e.forceUpgradeOnSignin) !== null && c !== void 0 ? c : !1,
        this.schemaVersion = e.schemaVersion
    }
    validatePassword(e) {
        var i, r, o, c, f, h;
        const p = {
            isValid: !0,
            passwordPolicy: this
        };
        return this.validatePasswordLengthOptions(e, p),
        this.validatePasswordCharacterOptions(e, p),
        p.isValid && (p.isValid = (i = p.meetsMinPasswordLength) !== null && i !== void 0 ? i : !0),
        p.isValid && (p.isValid = (r = p.meetsMaxPasswordLength) !== null && r !== void 0 ? r : !0),
        p.isValid && (p.isValid = (o = p.containsLowercaseLetter) !== null && o !== void 0 ? o : !0),
        p.isValid && (p.isValid = (c = p.containsUppercaseLetter) !== null && c !== void 0 ? c : !0),
        p.isValid && (p.isValid = (f = p.containsNumericCharacter) !== null && f !== void 0 ? f : !0),
        p.isValid && (p.isValid = (h = p.containsNonAlphanumericCharacter) !== null && h !== void 0 ? h : !0),
        p
    }
    validatePasswordLengthOptions(e, i) {
        const r = this.customStrengthOptions.minPasswordLength
          , o = this.customStrengthOptions.maxPasswordLength;
        r && (i.meetsMinPasswordLength = e.length >= r),
        o && (i.meetsMaxPasswordLength = e.length <= o)
    }
    validatePasswordCharacterOptions(e, i) {
        this.updatePasswordCharacterOptionsStatuses(i, !1, !1, !1, !1);
        let r;
        for (let o = 0; o < e.length; o++)
            r = e.charAt(o),
            this.updatePasswordCharacterOptionsStatuses(i, r >= "a" && r <= "z", r >= "A" && r <= "Z", r >= "0" && r <= "9", this.allowedNonAlphanumericCharacters.includes(r))
    }
    updatePasswordCharacterOptionsStatuses(e, i, r, o, c) {
        this.customStrengthOptions.containsLowercaseLetter && (e.containsLowercaseLetter || (e.containsLowercaseLetter = i)),
        this.customStrengthOptions.containsUppercaseLetter && (e.containsUppercaseLetter || (e.containsUppercaseLetter = r)),
        this.customStrengthOptions.containsNumericCharacter && (e.containsNumericCharacter || (e.containsNumericCharacter = o)),
        this.customStrengthOptions.containsNonAlphanumericCharacter && (e.containsNonAlphanumericCharacter || (e.containsNonAlphanumericCharacter = c))
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $w {
    constructor(e, i, r, o) {
        this.app = e,
        this.heartbeatServiceProvider = i,
        this.appCheckServiceProvider = r,
        this.config = o,
        this.currentUser = null,
        this.emulatorConfig = null,
        this.operations = Promise.resolve(),
        this.authStateSubscription = new nv(this),
        this.idTokenSubscription = new nv(this),
        this.beforeStateQueue = new Kw(this),
        this.redirectUser = null,
        this.isProactiveRefreshEnabled = !1,
        this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION = 1,
        this._canInitEmulator = !0,
        this._isInitialized = !1,
        this._deleted = !1,
        this._initializationPromise = null,
        this._popupRedirectResolver = null,
        this._errorFactory = Ly,
        this._agentRecaptchaConfig = null,
        this._tenantRecaptchaConfigs = {},
        this._projectPasswordPolicy = null,
        this._tenantPasswordPolicies = {},
        this._resolvePersistenceManagerAvailable = void 0,
        this.lastNotifiedUid = void 0,
        this.languageCode = null,
        this.tenantId = null,
        this.settings = {
            appVerificationDisabledForTesting: !1
        },
        this.frameworks = [],
        this.name = e.name,
        this.clientVersion = o.sdkClientVersion,
        this._persistenceManagerAvailable = new Promise(c => this._resolvePersistenceManagerAvailable = c)
    }
    _initializeWithPersistence(e, i) {
        return i && (this._popupRedirectResolver = Un(i)),
        this._initializationPromise = this.queue(async () => {
            var r, o, c;
            if (!this._deleted && (this.persistenceManager = await ea.create(this, e),
            (r = this._resolvePersistenceManagerAvailable) === null || r === void 0 || r.call(this),
            !this._deleted)) {
                if (!((o = this._popupRedirectResolver) === null || o === void 0) && o._shouldInitProactively)
                    try {
                        await this._popupRedirectResolver._initialize(this)
                    } catch {}
                await this.initializeCurrentUser(i),
                this.lastNotifiedUid = ((c = this.currentUser) === null || c === void 0 ? void 0 : c.uid) || null,
                !this._deleted && (this._isInitialized = !0)
            }
        }
        ),
        this._initializationPromise
    }
    async _onStorageEvent() {
        if (this._deleted)
            return;
        const e = await this.assertedPersistence.getCurrentUser();
        if (!(!this.currentUser && !e)) {
            if (this.currentUser && e && this.currentUser.uid === e.uid) {
                this._currentUser._assign(e),
                await this.currentUser.getIdToken();
                return
            }
            await this._updateCurrentUser(e, !0)
        }
    }
    async initializeCurrentUserFromIdToken(e) {
        try {
            const i = await Bo(this, {
                idToken: e
            })
              , r = await sn._fromGetAccountInfoResponse(this, i, e);
            await this.directlySetCurrentUser(r)
        } catch (i) {
            console.warn("FirebaseServerApp could not login user with provided authIdToken: ", i),
            await this.directlySetCurrentUser(null)
        }
    }
    async initializeCurrentUser(e) {
        var i;
        if (Wt(this.app)) {
            const f = this.app.settings.authIdToken;
            return f ? new Promise(h => {
                setTimeout( () => this.initializeCurrentUserFromIdToken(f).then(h, h))
            }
            ) : this.directlySetCurrentUser(null)
        }
        const r = await this.assertedPersistence.getCurrentUser();
        let o = r
          , c = !1;
        if (e && this.config.authDomain) {
            await this.getOrInitRedirectPersistenceManager();
            const f = (i = this.redirectUser) === null || i === void 0 ? void 0 : i._redirectEventId
              , h = o == null ? void 0 : o._redirectEventId
              , p = await this.tryRedirectSignIn(e);
            (!f || f === h) && (p != null && p.user) && (o = p.user,
            c = !0)
        }
        if (!o)
            return this.directlySetCurrentUser(null);
        if (!o._redirectEventId) {
            if (c)
                try {
                    await this.beforeStateQueue.runMiddleware(o)
                } catch (f) {
                    o = r,
                    this._popupRedirectResolver._overrideRedirectResult(this, () => Promise.reject(f))
                }
            return o ? this.reloadAndSetCurrentUserOrClear(o) : this.directlySetCurrentUser(null)
        }
        return ie(this._popupRedirectResolver, this, "argument-error"),
        await this.getOrInitRedirectPersistenceManager(),
        this.redirectUser && this.redirectUser._redirectEventId === o._redirectEventId ? this.directlySetCurrentUser(o) : this.reloadAndSetCurrentUserOrClear(o)
    }
    async tryRedirectSignIn(e) {
        let i = null;
        try {
            i = await this._popupRedirectResolver._completeRedirectFn(this, e, !0)
        } catch {
            await this._setRedirectUser(null)
        }
        return i
    }
    async reloadAndSetCurrentUserOrClear(e) {
        try {
            await qo(e)
        } catch (i) {
            if ((i == null ? void 0 : i.code) !== "auth/network-request-failed")
                return this.directlySetCurrentUser(null)
        }
        return this.directlySetCurrentUser(e)
    }
    useDeviceLanguage() {
        this.languageCode = xw()
    }
    async _delete() {
        this._deleted = !0
    }
    async updateCurrentUser(e) {
        if (Wt(this.app))
            return Promise.reject(Ti(this));
        const i = e ? Et(e) : null;
        return i && ie(i.auth.config.apiKey === this.config.apiKey, this, "invalid-user-token"),
        this._updateCurrentUser(i && i._clone(this))
    }
    async _updateCurrentUser(e, i=!1) {
        if (!this._deleted)
            return e && ie(this.tenantId === e.tenantId, this, "tenant-id-mismatch"),
            i || await this.beforeStateQueue.runMiddleware(e),
            this.queue(async () => {
                await this.directlySetCurrentUser(e),
                this.notifyAuthListeners()
            }
            )
    }
    async signOut() {
        return Wt(this.app) ? Promise.reject(Ti(this)) : (await this.beforeStateQueue.runMiddleware(null),
        (this.redirectPersistenceManager || this._popupRedirectResolver) && await this._setRedirectUser(null),
        this._updateCurrentUser(null, !0))
    }
    setPersistence(e) {
        return Wt(this.app) ? Promise.reject(Ti(this)) : this.queue(async () => {
            await this.assertedPersistence.setPersistence(Un(e))
        }
        )
    }
    _getRecaptchaConfig() {
        return this.tenantId == null ? this._agentRecaptchaConfig : this._tenantRecaptchaConfigs[this.tenantId]
    }
    async validatePassword(e) {
        this._getPasswordPolicyInternal() || await this._updatePasswordPolicy();
        const i = this._getPasswordPolicyInternal();
        return i.schemaVersion !== this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION ? Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version", {})) : i.validatePassword(e)
    }
    _getPasswordPolicyInternal() {
        return this.tenantId === null ? this._projectPasswordPolicy : this._tenantPasswordPolicies[this.tenantId]
    }
    async _updatePasswordPolicy() {
        const e = await Qw(this)
          , i = new Xw(e);
        this.tenantId === null ? this._projectPasswordPolicy = i : this._tenantPasswordPolicies[this.tenantId] = i
    }
    _getPersistenceType() {
        return this.assertedPersistence.persistence.type
    }
    _getPersistence() {
        return this.assertedPersistence.persistence
    }
    _updateErrorMap(e) {
        this._errorFactory = new Zr("auth","Firebase",e())
    }
    onAuthStateChanged(e, i, r) {
        return this.registerStateListener(this.authStateSubscription, e, i, r)
    }
    beforeAuthStateChanged(e, i) {
        return this.beforeStateQueue.pushCallback(e, i)
    }
    onIdTokenChanged(e, i, r) {
        return this.registerStateListener(this.idTokenSubscription, e, i, r)
    }
    authStateReady() {
        return new Promise( (e, i) => {
            if (this.currentUser)
                e();
            else {
                const r = this.onAuthStateChanged( () => {
                    r(),
                    e()
                }
                , i)
            }
        }
        )
    }
    async revokeAccessToken(e) {
        if (this.currentUser) {
            const i = await this.currentUser.getIdToken()
              , r = {
                providerId: "apple.com",
                tokenType: "ACCESS_TOKEN",
                token: e,
                idToken: i
            };
            this.tenantId != null && (r.tenantId = this.tenantId),
            await Gw(this, r)
        }
    }
    toJSON() {
        var e;
        return {
            apiKey: this.config.apiKey,
            authDomain: this.config.authDomain,
            appName: this.name,
            currentUser: (e = this._currentUser) === null || e === void 0 ? void 0 : e.toJSON()
        }
    }
    async _setRedirectUser(e, i) {
        const r = await this.getOrInitRedirectPersistenceManager(i);
        return e === null ? r.removeCurrentUser() : r.setCurrentUser(e)
    }
    async getOrInitRedirectPersistenceManager(e) {
        if (!this.redirectPersistenceManager) {
            const i = e && Un(e) || this._popupRedirectResolver;
            ie(i, this, "argument-error"),
            this.redirectPersistenceManager = await ea.create(this, [Un(i._redirectPersistence)], "redirectUser"),
            this.redirectUser = await this.redirectPersistenceManager.getCurrentUser()
        }
        return this.redirectPersistenceManager
    }
    async _redirectUserForId(e) {
        var i, r;
        return this._isInitialized && await this.queue(async () => {}
        ),
        ((i = this._currentUser) === null || i === void 0 ? void 0 : i._redirectEventId) === e ? this._currentUser : ((r = this.redirectUser) === null || r === void 0 ? void 0 : r._redirectEventId) === e ? this.redirectUser : null
    }
    async _persistUserIfCurrent(e) {
        if (e === this.currentUser)
            return this.queue(async () => this.directlySetCurrentUser(e))
    }
    _notifyListenersIfCurrent(e) {
        e === this.currentUser && this.notifyAuthListeners()
    }
    _key() {
        return `${this.config.authDomain}:${this.config.apiKey}:${this.name}`
    }
    _startProactiveRefresh() {
        this.isProactiveRefreshEnabled = !0,
        this.currentUser && this._currentUser._startProactiveRefresh()
    }
    _stopProactiveRefresh() {
        this.isProactiveRefreshEnabled = !1,
        this.currentUser && this._currentUser._stopProactiveRefresh()
    }
    get _currentUser() {
        return this.currentUser
    }
    notifyAuthListeners() {
        var e, i;
        if (!this._isInitialized)
            return;
        this.idTokenSubscription.next(this.currentUser);
        const r = (i = (e = this.currentUser) === null || e === void 0 ? void 0 : e.uid) !== null && i !== void 0 ? i : null;
        this.lastNotifiedUid !== r && (this.lastNotifiedUid = r,
        this.authStateSubscription.next(this.currentUser))
    }
    registerStateListener(e, i, r, o) {
        if (this._deleted)
            return () => {}
            ;
        const c = typeof i == "function" ? i : i.next.bind(i);
        let f = !1;
        const h = this._isInitialized ? Promise.resolve() : this._initializationPromise;
        if (ie(h, this, "internal-error"),
        h.then( () => {
            f || c(this.currentUser)
        }
        ),
        typeof i == "function") {
            const p = e.addObserver(i, r, o);
            return () => {
                f = !0,
                p()
            }
        } else {
            const p = e.addObserver(i);
            return () => {
                f = !0,
                p()
            }
        }
    }
    async directlySetCurrentUser(e) {
        this.currentUser && this.currentUser !== e && this._currentUser._stopProactiveRefresh(),
        e && this.isProactiveRefreshEnabled && e._startProactiveRefresh(),
        this.currentUser = e,
        e ? await this.assertedPersistence.setCurrentUser(e) : await this.assertedPersistence.removeCurrentUser()
    }
    queue(e) {
        return this.operations = this.operations.then(e, e),
        this.operations
    }
    get assertedPersistence() {
        return ie(this.persistenceManager, this, "internal-error"),
        this.persistenceManager
    }
    _logFramework(e) {
        !e || this.frameworks.includes(e) || (this.frameworks.push(e),
        this.frameworks.sort(),
        this.clientVersion = Wy(this.config.clientPlatform, this._getFrameworks()))
    }
    _getFrameworks() {
        return this.frameworks
    }
    async _getAdditionalHeaders() {
        var e;
        const i = {
            "X-Client-Version": this.clientVersion
        };
        this.app.options.appId && (i["X-Firebase-gmpid"] = this.app.options.appId);
        const r = await ((e = this.heartbeatServiceProvider.getImmediate({
            optional: !0
        })) === null || e === void 0 ? void 0 : e.getHeartbeatsHeader());
        r && (i["X-Firebase-Client"] = r);
        const o = await this._getAppCheckToken();
        return o && (i["X-Firebase-AppCheck"] = o),
        i
    }
    async _getAppCheckToken() {
        var e;
        if (Wt(this.app) && this.app.settings.appCheckToken)
            return this.app.settings.appCheckToken;
        const i = await ((e = this.appCheckServiceProvider.getImmediate({
            optional: !0
        })) === null || e === void 0 ? void 0 : e.getToken());
        return i != null && i.error && ww(`Error while retrieving App Check token: ${i.error}`),
        i == null ? void 0 : i.token
    }
}
function cs(s) {
    return Et(s)
}
class nv {
    constructor(e) {
        this.auth = e,
        this.observer = null,
        this.addObserver = uT(i => this.observer = i)
    }
    get next() {
        return ie(this.observer, this.auth, "internal-error"),
        this.observer.next.bind(this.observer)
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let cc = {
    async loadJS() {
        throw new Error("Unable to load external scripts")
    },
    recaptchaV2Script: "",
    recaptchaEnterpriseScript: "",
    gapiScript: ""
};
function Zw(s) {
    cc = s
}
function Xy(s) {
    return cc.loadJS(s)
}
function Jw() {
    return cc.recaptchaEnterpriseScript
}
function eN() {
    return cc.gapiScript
}
function tN(s) {
    return `__${s}${Math.floor(Math.random() * 1e6)}`
}
class nN {
    constructor() {
        this.enterprise = new iN
    }
    ready(e) {
        e()
    }
    execute(e, i) {
        return Promise.resolve("token")
    }
    render(e, i) {
        return ""
    }
}
class iN {
    ready(e) {
        e()
    }
    execute(e, i) {
        return Promise.resolve("token")
    }
    render(e, i) {
        return ""
    }
}
const sN = "recaptcha-enterprise"
  , $y = "NO_RECAPTCHA";
class aN {
    constructor(e) {
        this.type = sN,
        this.auth = cs(e)
    }
    async verify(e="verify", i=!1) {
        async function r(c) {
            if (!i) {
                if (c.tenantId == null && c._agentRecaptchaConfig != null)
                    return c._agentRecaptchaConfig.siteKey;
                if (c.tenantId != null && c._tenantRecaptchaConfigs[c.tenantId] !== void 0)
                    return c._tenantRecaptchaConfigs[c.tenantId].siteKey
            }
            return new Promise(async (f, h) => {
                jw(c, {
                    clientType: "CLIENT_TYPE_WEB",
                    version: "RECAPTCHA_ENTERPRISE"
                }).then(p => {
                    if (p.recaptchaKey === void 0)
                        h(new Error("recaptcha Enterprise site key undefined"));
                    else {
                        const m = new Lw(p);
                        return c.tenantId == null ? c._agentRecaptchaConfig = m : c._tenantRecaptchaConfigs[c.tenantId] = m,
                        f(m.siteKey)
                    }
                }
                ).catch(p => {
                    h(p)
                }
                )
            }
            )
        }
        function o(c, f, h) {
            const p = window.grecaptcha;
            $_(p) ? p.enterprise.ready( () => {
                p.enterprise.execute(c, {
                    action: e
                }).then(m => {
                    f(m)
                }
                ).catch( () => {
                    f($y)
                }
                )
            }
            ) : h(Error("No reCAPTCHA enterprise script loaded."))
        }
        return this.auth.settings.appVerificationDisabledForTesting ? new nN().execute("siteKey", {
            action: "verify"
        }) : new Promise( (c, f) => {
            r(this.auth).then(h => {
                if (!i && $_(window.grecaptcha))
                    o(h, c, f);
                else {
                    if (typeof window > "u") {
                        f(new Error("RecaptchaVerifier is only supported in browser"));
                        return
                    }
                    let p = Jw();
                    p.length !== 0 && (p += h),
                    Xy(p).then( () => {
                        o(h, c, f)
                    }
                    ).catch(m => {
                        f(m)
                    }
                    )
                }
            }
            ).catch(h => {
                f(h)
            }
            )
        }
        )
    }
}
async function iv(s, e, i, r=!1, o=!1) {
    const c = new aN(s);
    let f;
    if (o)
        f = $y;
    else
        try {
            f = await c.verify(i)
        } catch {
            f = await c.verify(i, !0)
        }
    const h = Object.assign({}, e);
    if (i === "mfaSmsEnrollment" || i === "mfaSmsSignIn") {
        if ("phoneEnrollmentInfo"in h) {
            const p = h.phoneEnrollmentInfo.phoneNumber
              , m = h.phoneEnrollmentInfo.recaptchaToken;
            Object.assign(h, {
                phoneEnrollmentInfo: {
                    phoneNumber: p,
                    recaptchaToken: m,
                    captchaResponse: f,
                    clientType: "CLIENT_TYPE_WEB",
                    recaptchaVersion: "RECAPTCHA_ENTERPRISE"
                }
            })
        } else if ("phoneSignInInfo"in h) {
            const p = h.phoneSignInInfo.recaptchaToken;
            Object.assign(h, {
                phoneSignInInfo: {
                    recaptchaToken: p,
                    captchaResponse: f,
                    clientType: "CLIENT_TYPE_WEB",
                    recaptchaVersion: "RECAPTCHA_ENTERPRISE"
                }
            })
        }
        return h
    }
    return r ? Object.assign(h, {
        captchaResp: f
    }) : Object.assign(h, {
        captchaResponse: f
    }),
    Object.assign(h, {
        clientType: "CLIENT_TYPE_WEB"
    }),
    Object.assign(h, {
        recaptchaVersion: "RECAPTCHA_ENTERPRISE"
    }),
    h
}
async function sv(s, e, i, r, o) {
    var c;
    if (!((c = s._getRecaptchaConfig()) === null || c === void 0) && c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")) {
        const f = await iv(s, e, i, i === "getOobCode");
        return r(s, f)
    } else
        return r(s, e).catch(async f => {
            if (f.code === "auth/missing-recaptcha-token") {
                console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);
                const h = await iv(s, e, i, i === "getOobCode");
                return r(s, h)
            } else
                return Promise.reject(f)
        }
        )
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function rN(s, e) {
    const i = Gf(s, "auth");
    if (i.isInitialized()) {
        const o = i.getImmediate()
          , c = i.getOptions();
        if (ns(c, e ?? {}))
            return o;
        Xt(o, "already-initialized")
    }
    return i.initialize({
        options: e
    })
}
function lN(s, e) {
    const i = (e == null ? void 0 : e.persistence) || []
      , r = (Array.isArray(i) ? i : [i]).map(Un);
    e != null && e.errorMap && s._updateErrorMap(e.errorMap),
    s._initializeWithPersistence(r, e == null ? void 0 : e.popupRedirectResolver)
}
function oN(s, e, i) {
    const r = cs(s);
    ie(/^https?:\/\//.test(e), r, "invalid-emulator-scheme");
    const o = !1
      , c = Zy(e)
      , {host: f, port: h} = cN(e)
      , p = h === null ? "" : `:${h}`
      , m = {
        url: `${c}//${f}${p}/`
    }
      , E = Object.freeze({
        host: f,
        port: h,
        protocol: c.replace(":", ""),
        options: Object.freeze({
            disableWarnings: o
        })
    });
    if (!r._canInitEmulator) {
        ie(r.config.emulator && r.emulatorConfig, r, "emulator-config-failed"),
        ie(ns(m, r.config.emulator) && ns(E, r.emulatorConfig), r, "emulator-config-failed");
        return
    }
    r.config.emulator = m,
    r.emulatorConfig = E,
    r.settings.appVerificationDisabledForTesting = !0,
    $r(f) ? (Ty(`${c}//${f}${p}`),
    wy("Auth", !0)) : uN()
}
function Zy(s) {
    const e = s.indexOf(":");
    return e < 0 ? "" : s.substr(0, e + 1)
}
function cN(s) {
    const e = Zy(s)
      , i = /(\/\/)?([^?#/]+)/.exec(s.substr(e.length));
    if (!i)
        return {
            host: "",
            port: null
        };
    const r = i[2].split("@").pop() || ""
      , o = /^(\[[^\]]+\])(:|$)/.exec(r);
    if (o) {
        const c = o[1];
        return {
            host: c,
            port: av(r.substr(c.length + 1))
        }
    } else {
        const [c,f] = r.split(":");
        return {
            host: c,
            port: av(f)
        }
    }
}
function av(s) {
    if (!s)
        return null;
    const e = Number(s);
    return isNaN(e) ? null : e
}
function uN() {
    function s() {
        const e = document.createElement("p")
          , i = e.style;
        e.innerText = "Running in emulator mode. Do not use with production credentials.",
        i.position = "fixed",
        i.width = "100%",
        i.backgroundColor = "#ffffff",
        i.border = ".1em solid #000000",
        i.color = "#b50000",
        i.bottom = "0px",
        i.left = "0px",
        i.margin = "0px",
        i.zIndex = "10000",
        i.textAlign = "center",
        e.classList.add("firebase-emulator-warning"),
        document.body.appendChild(e)
    }
    typeof console < "u" && typeof console.info == "function" && console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),
    typeof window < "u" && typeof document < "u" && (document.readyState === "loading" ? window.addEventListener("DOMContentLoaded", s) : s())
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $f {
    constructor(e, i) {
        this.providerId = e,
        this.signInMethod = i
    }
    toJSON() {
        return jn("not implemented")
    }
    _getIdTokenResponse(e) {
        return jn("not implemented")
    }
    _linkToIdToken(e, i) {
        return jn("not implemented")
    }
    _getReauthenticationResolver(e) {
        return jn("not implemented")
    }
}
async function dN(s, e) {
    return Di(s, "POST", "/v1/accounts:signUp", e)
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function fN(s, e) {
    return oc(s, "POST", "/v1/accounts:signInWithPassword", os(s, e))
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function hN(s, e) {
    return oc(s, "POST", "/v1/accounts:signInWithEmailLink", os(s, e))
}
async function pN(s, e) {
    return oc(s, "POST", "/v1/accounts:signInWithEmailLink", os(s, e))
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Hr extends $f {
    constructor(e, i, r, o=null) {
        super("password", r),
        this._email = e,
        this._password = i,
        this._tenantId = o
    }
    static _fromEmailAndPassword(e, i) {
        return new Hr(e,i,"password")
    }
    static _fromEmailAndCode(e, i, r=null) {
        return new Hr(e,i,"emailLink",r)
    }
    toJSON() {
        return {
            email: this._email,
            password: this._password,
            signInMethod: this.signInMethod,
            tenantId: this._tenantId
        }
    }
    static fromJSON(e) {
        const i = typeof e == "string" ? JSON.parse(e) : e;
        if (i != null && i.email && (i != null && i.password)) {
            if (i.signInMethod === "password")
                return this._fromEmailAndPassword(i.email, i.password);
            if (i.signInMethod === "emailLink")
                return this._fromEmailAndCode(i.email, i.password, i.tenantId)
        }
        return null
    }
    async _getIdTokenResponse(e) {
        switch (this.signInMethod) {
        case "password":
            const i = {
                returnSecureToken: !0,
                email: this._email,
                password: this._password,
                clientType: "CLIENT_TYPE_WEB"
            };
            return sv(e, i, "signInWithPassword", fN);
        case "emailLink":
            return hN(e, {
                email: this._email,
                oobCode: this._password
            });
        default:
            Xt(e, "internal-error")
        }
    }
    async _linkToIdToken(e, i) {
        switch (this.signInMethod) {
        case "password":
            const r = {
                idToken: i,
                returnSecureToken: !0,
                email: this._email,
                password: this._password,
                clientType: "CLIENT_TYPE_WEB"
            };
            return sv(e, r, "signUpPassword", dN);
        case "emailLink":
            return pN(e, {
                idToken: i,
                email: this._email,
                oobCode: this._password
            });
        default:
            Xt(e, "internal-error")
        }
    }
    _getReauthenticationResolver(e) {
        return this._getIdTokenResponse(e)
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ta(s, e) {
    return oc(s, "POST", "/v1/accounts:signInWithIdp", os(s, e))
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const mN = "http://localhost";
class ss extends $f {
    constructor() {
        super(...arguments),
        this.pendingToken = null
    }
    static _fromParams(e) {
        const i = new ss(e.providerId,e.signInMethod);
        return e.idToken || e.accessToken ? (e.idToken && (i.idToken = e.idToken),
        e.accessToken && (i.accessToken = e.accessToken),
        e.nonce && !e.pendingToken && (i.nonce = e.nonce),
        e.pendingToken && (i.pendingToken = e.pendingToken)) : e.oauthToken && e.oauthTokenSecret ? (i.accessToken = e.oauthToken,
        i.secret = e.oauthTokenSecret) : Xt("argument-error"),
        i
    }
    toJSON() {
        return {
            idToken: this.idToken,
            accessToken: this.accessToken,
            secret: this.secret,
            nonce: this.nonce,
            pendingToken: this.pendingToken,
            providerId: this.providerId,
            signInMethod: this.signInMethod
        }
    }
    static fromJSON(e) {
        const i = typeof e == "string" ? JSON.parse(e) : e
          , {providerId: r, signInMethod: o} = i
          , c = Yf(i, ["providerId", "signInMethod"]);
        if (!r || !o)
            return null;
        const f = new ss(r,o);
        return f.idToken = c.idToken || void 0,
        f.accessToken = c.accessToken || void 0,
        f.secret = c.secret,
        f.nonce = c.nonce,
        f.pendingToken = c.pendingToken || null,
        f
    }
    _getIdTokenResponse(e) {
        const i = this.buildRequest();
        return ta(e, i)
    }
    _linkToIdToken(e, i) {
        const r = this.buildRequest();
        return r.idToken = i,
        ta(e, r)
    }
    _getReauthenticationResolver(e) {
        const i = this.buildRequest();
        return i.autoCreate = !1,
        ta(e, i)
    }
    buildRequest() {
        const e = {
            requestUri: mN,
            returnSecureToken: !0
        };
        if (this.pendingToken)
            e.pendingToken = this.pendingToken;
        else {
            const i = {};
            this.idToken && (i.id_token = this.idToken),
            this.accessToken && (i.access_token = this.accessToken),
            this.secret && (i.oauth_token_secret = this.secret),
            i.providerId = this.providerId,
            this.nonce && !this.pendingToken && (i.nonce = this.nonce),
            e.postBody = pa(i)
        }
        return e
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function gN(s) {
    switch (s) {
    case "recoverEmail":
        return "RECOVER_EMAIL";
    case "resetPassword":
        return "PASSWORD_RESET";
    case "signIn":
        return "EMAIL_SIGNIN";
    case "verifyEmail":
        return "VERIFY_EMAIL";
    case "verifyAndChangeEmail":
        return "VERIFY_AND_CHANGE_EMAIL";
    case "revertSecondFactorAddition":
        return "REVERT_SECOND_FACTOR_ADDITION";
    default:
        return null
    }
}
function _N(s) {
    const e = Nr(Rr(s)).link
      , i = e ? Nr(Rr(e)).deep_link_id : null
      , r = Nr(Rr(s)).deep_link_id;
    return (r ? Nr(Rr(r)).link : null) || r || i || e || s
}
class Zf {
    constructor(e) {
        var i, r, o, c, f, h;
        const p = Nr(Rr(e))
          , m = (i = p.apiKey) !== null && i !== void 0 ? i : null
          , E = (r = p.oobCode) !== null && r !== void 0 ? r : null
          , b = gN((o = p.mode) !== null && o !== void 0 ? o : null);
        ie(m && E && b, "argument-error"),
        this.apiKey = m,
        this.operation = b,
        this.code = E,
        this.continueUrl = (c = p.continueUrl) !== null && c !== void 0 ? c : null,
        this.languageCode = (f = p.lang) !== null && f !== void 0 ? f : null,
        this.tenantId = (h = p.tenantId) !== null && h !== void 0 ? h : null
    }
    static parseLink(e) {
        const i = _N(e);
        try {
            return new Zf(i)
        } catch {
            return null
        }
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ga {
    constructor() {
        this.providerId = ga.PROVIDER_ID
    }
    static credential(e, i) {
        return Hr._fromEmailAndPassword(e, i)
    }
    static credentialWithLink(e, i) {
        const r = Zf.parseLink(i);
        return ie(r, "argument-error"),
        Hr._fromEmailAndCode(e, r.code, r.tenantId)
    }
}
ga.PROVIDER_ID = "password";
ga.EMAIL_PASSWORD_SIGN_IN_METHOD = "password";
ga.EMAIL_LINK_SIGN_IN_METHOD = "emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Jf {
    constructor(e) {
        this.providerId = e,
        this.defaultLanguageCode = null,
        this.customParameters = {}
    }
    setDefaultLanguage(e) {
        this.defaultLanguageCode = e
    }
    setCustomParameters(e) {
        return this.customParameters = e,
        this
    }
    getCustomParameters() {
        return this.customParameters
    }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class el extends Jf {
    constructor() {
        super(...arguments),
        this.scopes = []
    }
    addScope(e) {
        return this.scopes.includes(e) || this.scopes.push(e),
        this
    }
    getScopes() {
        return [...this.scopes]
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vi extends el {
    constructor() {
        super("facebook.com")
    }
    static credential(e) {
        return ss._fromParams({
            providerId: vi.PROVIDER_ID,
            signInMethod: vi.FACEBOOK_SIGN_IN_METHOD,
            accessToken: e
        })
    }
    static credentialFromResult(e) {
        return vi.credentialFromTaggedObject(e)
    }
    static credentialFromError(e) {
        return vi.credentialFromTaggedObject(e.customData || {})
    }
    static credentialFromTaggedObject({_tokenResponse: e}) {
        if (!e || !("oauthAccessToken"in e) || !e.oauthAccessToken)
            return null;
        try {
            return vi.credential(e.oauthAccessToken)
        } catch {
            return null
        }
    }
}
vi.FACEBOOK_SIGN_IN_METHOD = "facebook.com";
vi.PROVIDER_ID = "facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ln extends el {
    constructor() {
        super("google.com"),
        this.addScope("profile")
    }
    static credential(e, i) {
        return ss._fromParams({
            providerId: Ln.PROVIDER_ID,
            signInMethod: Ln.GOOGLE_SIGN_IN_METHOD,
            idToken: e,
            accessToken: i
        })
    }
    static credentialFromResult(e) {
        return Ln.credentialFromTaggedObject(e)
    }
    static credentialFromError(e) {
        return Ln.credentialFromTaggedObject(e.customData || {})
    }
    static credentialFromTaggedObject({_tokenResponse: e}) {
        if (!e)
            return null;
        const {oauthIdToken: i, oauthAccessToken: r} = e;
        if (!i && !r)
            return null;
        try {
            return Ln.credential(i, r)
        } catch {
            return null
        }
    }
}
Ln.GOOGLE_SIGN_IN_METHOD = "google.com";
Ln.PROVIDER_ID = "google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class yi extends el {
    constructor() {
        super("github.com")
    }
    static credential(e) {
        return ss._fromParams({
            providerId: yi.PROVIDER_ID,
            signInMethod: yi.GITHUB_SIGN_IN_METHOD,
            accessToken: e
        })
    }
    static credentialFromResult(e) {
        return yi.credentialFromTaggedObject(e)
    }
    static credentialFromError(e) {
        return yi.credentialFromTaggedObject(e.customData || {})
    }
    static credentialFromTaggedObject({_tokenResponse: e}) {
        if (!e || !("oauthAccessToken"in e) || !e.oauthAccessToken)
            return null;
        try {
            return yi.credential(e.oauthAccessToken)
        } catch {
            return null
        }
    }
}
yi.GITHUB_SIGN_IN_METHOD = "github.com";
yi.PROVIDER_ID = "github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ei extends el {
    constructor() {
        super("twitter.com")
    }
    static credential(e, i) {
        return ss._fromParams({
            providerId: Ei.PROVIDER_ID,
            signInMethod: Ei.TWITTER_SIGN_IN_METHOD,
            oauthToken: e,
            oauthTokenSecret: i
        })
    }
    static credentialFromResult(e) {
        return Ei.credentialFromTaggedObject(e)
    }
    static credentialFromError(e) {
        return Ei.credentialFromTaggedObject(e.customData || {})
    }
    static credentialFromTaggedObject({_tokenResponse: e}) {
        if (!e)
            return null;
        const {oauthAccessToken: i, oauthTokenSecret: r} = e;
        if (!i || !r)
            return null;
        try {
            return Ei.credential(i, r)
        } catch {
            return null
        }
    }
}
Ei.TWITTER_SIGN_IN_METHOD = "twitter.com";
Ei.PROVIDER_ID = "twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ra {
    constructor(e) {
        this.user = e.user,
        this.providerId = e.providerId,
        this._tokenResponse = e._tokenResponse,
        this.operationType = e.operationType
    }
    static async _fromIdTokenResponse(e, i, r, o=!1) {
        const c = await sn._fromIdTokenResponse(e, r, o)
          , f = rv(r);
        return new ra({
            user: c,
            providerId: f,
            _tokenResponse: r,
            operationType: i
        })
    }
    static async _forOperation(e, i, r) {
        await e._updateTokensIfNecessary(r, !0);
        const o = rv(r);
        return new ra({
            user: e,
            providerId: o,
            _tokenResponse: r,
            operationType: i
        })
    }
}
function rv(s) {
    return s.providerId ? s.providerId : "phoneNumber"in s ? "phone" : null
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vo extends Ii {
    constructor(e, i, r, o) {
        var c;
        super(i.code, i.message),
        this.operationType = r,
        this.user = o,
        Object.setPrototypeOf(this, Vo.prototype),
        this.customData = {
            appName: e.name,
            tenantId: (c = e.tenantId) !== null && c !== void 0 ? c : void 0,
            _serverResponse: i.customData._serverResponse,
            operationType: r
        }
    }
    static _fromErrorAndOperation(e, i, r, o) {
        return new Vo(e,i,r,o)
    }
}
function Jy(s, e, i, r) {
    return (e === "reauthenticate" ? i._getReauthenticationResolver(s) : i._getIdTokenResponse(s)).catch(c => {
        throw c.code === "auth/multi-factor-auth-required" ? Vo._fromErrorAndOperation(s, c, e, r) : c
    }
    )
}
async function vN(s, e, i=!1) {
    const r = await zr(s, e._linkToIdToken(s.auth, await s.getIdToken()), i);
    return ra._forOperation(s, "link", r)
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function yN(s, e, i=!1) {
    const {auth: r} = s;
    if (Wt(r.app))
        return Promise.reject(Ti(r));
    const o = "reauthenticate";
    try {
        const c = await zr(s, Jy(r, o, e, s), i);
        ie(c.idToken, r, "internal-error");
        const f = Wf(c.idToken);
        ie(f, r, "internal-error");
        const {sub: h} = f;
        return ie(s.uid === h, r, "user-mismatch"),
        ra._forOperation(s, o, c)
    } catch (c) {
        throw (c == null ? void 0 : c.code) === "auth/user-not-found" && Xt(r, "user-mismatch"),
        c
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function e0(s, e, i=!1) {
    if (Wt(s.app))
        return Promise.reject(Ti(s));
    const r = "signIn"
      , o = await Jy(s, r, e)
      , c = await ra._fromIdTokenResponse(s, r, o);
    return i || await s._updateCurrentUser(c.user),
    c
}
async function EN(s, e) {
    return e0(cs(s), e)
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function bN(s) {
    const e = cs(s);
    e._getPasswordPolicyInternal() && await e._updatePasswordPolicy()
}
function SN(s, e, i) {
    return Wt(s.app) ? Promise.reject(Ti(s)) : EN(Et(s), ga.credential(e, i)).catch(async r => {
        throw r.code === "auth/password-does-not-meet-requirements" && bN(s),
        r
    }
    )
}
function CN(s, e, i, r) {
    return Et(s).onIdTokenChanged(e, i, r)
}
function TN(s, e, i) {
    return Et(s).beforeAuthStateChanged(e, i)
}
function t0(s, e, i, r) {
    return Et(s).onAuthStateChanged(e, i, r)
}
function wN(s) {
    return Et(s).signOut()
}
const Go = "__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class n0 {
    constructor(e, i) {
        this.storageRetriever = e,
        this.type = i
    }
    _isAvailable() {
        try {
            return this.storage ? (this.storage.setItem(Go, "1"),
            this.storage.removeItem(Go),
            Promise.resolve(!0)) : Promise.resolve(!1)
        } catch {
            return Promise.resolve(!1)
        }
    }
    _set(e, i) {
        return this.storage.setItem(e, JSON.stringify(i)),
        Promise.resolve()
    }
    _get(e) {
        const i = this.storage.getItem(e);
        return Promise.resolve(i ? JSON.parse(i) : null)
    }
    _remove(e) {
        return this.storage.removeItem(e),
        Promise.resolve()
    }
    get storage() {
        return this.storageRetriever()
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const NN = 1e3
  , RN = 10;
class i0 extends n0 {
    constructor() {
        super( () => window.localStorage, "LOCAL"),
        this.boundEventHandler = (e, i) => this.onStorageEvent(e, i),
        this.listeners = {},
        this.localCache = {},
        this.pollTimer = null,
        this.fallbackToPolling = Qy(),
        this._shouldAllowMigration = !0
    }
    forAllChangedKeys(e) {
        for (const i of Object.keys(this.listeners)) {
            const r = this.storage.getItem(i)
              , o = this.localCache[i];
            r !== o && e(i, o, r)
        }
    }
    onStorageEvent(e, i=!1) {
        if (!e.key) {
            this.forAllChangedKeys( (f, h, p) => {
                this.notifyListeners(f, p)
            }
            );
            return
        }
        const r = e.key;
        i ? this.detachListener() : this.stopPolling();
        const o = () => {
            const f = this.storage.getItem(r);
            !i && this.localCache[r] === f || this.notifyListeners(r, f)
        }
          , c = this.storage.getItem(r);
        Fw() && c !== e.newValue && e.newValue !== e.oldValue ? setTimeout(o, RN) : o()
    }
    notifyListeners(e, i) {
        this.localCache[e] = i;
        const r = this.listeners[e];
        if (r)
            for (const o of Array.from(r))
                o(i && JSON.parse(i))
    }
    startPolling() {
        this.stopPolling(),
        this.pollTimer = setInterval( () => {
            this.forAllChangedKeys( (e, i, r) => {
                this.onStorageEvent(new StorageEvent("storage",{
                    key: e,
                    oldValue: i,
                    newValue: r
                }), !0)
            }
            )
        }
        , NN)
    }
    stopPolling() {
        this.pollTimer && (clearInterval(this.pollTimer),
        this.pollTimer = null)
    }
    attachListener() {
        window.addEventListener("storage", this.boundEventHandler)
    }
    detachListener() {
        window.removeEventListener("storage", this.boundEventHandler)
    }
    _addListener(e, i) {
        Object.keys(this.listeners).length === 0 && (this.fallbackToPolling ? this.startPolling() : this.attachListener()),
        this.listeners[e] || (this.listeners[e] = new Set,
        this.localCache[e] = this.storage.getItem(e)),
        this.listeners[e].add(i)
    }
    _removeListener(e, i) {
        this.listeners[e] && (this.listeners[e].delete(i),
        this.listeners[e].size === 0 && delete this.listeners[e]),
        Object.keys(this.listeners).length === 0 && (this.detachListener(),
        this.stopPolling())
    }
    async _set(e, i) {
        await super._set(e, i),
        this.localCache[e] = JSON.stringify(i)
    }
    async _get(e) {
        const i = await super._get(e);
        return this.localCache[e] = JSON.stringify(i),
        i
    }
    async _remove(e) {
        await super._remove(e),
        delete this.localCache[e]
    }
}
i0.type = "LOCAL";
const AN = i0;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class s0 extends n0 {
    constructor() {
        super( () => window.sessionStorage, "SESSION")
    }
    _addListener(e, i) {}
    _removeListener(e, i) {}
}
s0.type = "SESSION";
const a0 = s0;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xN(s) {
    return Promise.all(s.map(async e => {
        try {
            return {
                fulfilled: !0,
                value: await e
            }
        } catch (i) {
            return {
                fulfilled: !1,
                reason: i
            }
        }
    }
    ))
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class uc {
    constructor(e) {
        this.eventTarget = e,
        this.handlersMap = {},
        this.boundEventHandler = this.handleEvent.bind(this)
    }
    static _getInstance(e) {
        const i = this.receivers.find(o => o.isListeningto(e));
        if (i)
            return i;
        const r = new uc(e);
        return this.receivers.push(r),
        r
    }
    isListeningto(e) {
        return this.eventTarget === e
    }
    async handleEvent(e) {
        const i = e
          , {eventId: r, eventType: o, data: c} = i.data
          , f = this.handlersMap[o];
        if (!(f != null && f.size))
            return;
        i.ports[0].postMessage({
            status: "ack",
            eventId: r,
            eventType: o
        });
        const h = Array.from(f).map(async m => m(i.origin, c))
          , p = await xN(h);
        i.ports[0].postMessage({
            status: "done",
            eventId: r,
            eventType: o,
            response: p
        })
    }
    _subscribe(e, i) {
        Object.keys(this.handlersMap).length === 0 && this.eventTarget.addEventListener("message", this.boundEventHandler),
        this.handlersMap[e] || (this.handlersMap[e] = new Set),
        this.handlersMap[e].add(i)
    }
    _unsubscribe(e, i) {
        this.handlersMap[e] && i && this.handlersMap[e].delete(i),
        (!i || this.handlersMap[e].size === 0) && delete this.handlersMap[e],
        Object.keys(this.handlersMap).length === 0 && this.eventTarget.removeEventListener("message", this.boundEventHandler)
    }
}
uc.receivers = [];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function eh(s="", e=10) {
    let i = "";
    for (let r = 0; r < e; r++)
        i += Math.floor(Math.random() * 10);
    return s + i
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ON {
    constructor(e) {
        this.target = e,
        this.handlers = new Set
    }
    removeMessageHandler(e) {
        e.messageChannel && (e.messageChannel.port1.removeEventListener("message", e.onMessage),
        e.messageChannel.port1.close()),
        this.handlers.delete(e)
    }
    async _send(e, i, r=50) {
        const o = typeof MessageChannel < "u" ? new MessageChannel : null;
        if (!o)
            throw new Error("connection_unavailable");
        let c, f;
        return new Promise( (h, p) => {
            const m = eh("", 20);
            o.port1.start();
            const E = setTimeout( () => {
                p(new Error("unsupported_event"))
            }
            , r);
            f = {
                messageChannel: o,
                onMessage(b) {
                    const y = b;
                    if (y.data.eventId === m)
                        switch (y.data.status) {
                        case "ack":
                            clearTimeout(E),
                            c = setTimeout( () => {
                                p(new Error("timeout"))
                            }
                            , 3e3);
                            break;
                        case "done":
                            clearTimeout(c),
                            h(y.data.response);
                            break;
                        default:
                            clearTimeout(E),
                            clearTimeout(c),
                            p(new Error("invalid_response"));
                            break
                        }
                }
            },
            this.handlers.add(f),
            o.port1.addEventListener("message", f.onMessage),
            this.target.postMessage({
                eventType: e,
                eventId: m,
                data: i
            }, [o.port2])
        }
        ).finally( () => {
            f && this.removeMessageHandler(f)
        }
        )
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function _n() {
    return window
}
function IN(s) {
    _n().location.href = s
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function r0() {
    return typeof _n().WorkerGlobalScope < "u" && typeof _n().importScripts == "function"
}
async function DN() {
    if (!(navigator != null && navigator.serviceWorker))
        return null;
    try {
        return (await navigator.serviceWorker.ready).active
    } catch {
        return null
    }
}
function MN() {
    var s;
    return ((s = navigator == null ? void 0 : navigator.serviceWorker) === null || s === void 0 ? void 0 : s.controller) || null
}
function kN() {
    return r0() ? self : null
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l0 = "firebaseLocalStorageDb"
  , LN = 1
  , Yo = "firebaseLocalStorage"
  , o0 = "fbase_key";
class tl {
    constructor(e) {
        this.request = e
    }
    toPromise() {
        return new Promise( (e, i) => {
            this.request.addEventListener("success", () => {
                e(this.request.result)
            }
            ),
            this.request.addEventListener("error", () => {
                i(this.request.error)
            }
            )
        }
        )
    }
}
function dc(s, e) {
    return s.transaction([Yo], e ? "readwrite" : "readonly").objectStore(Yo)
}
function jN() {
    const s = indexedDB.deleteDatabase(l0);
    return new tl(s).toPromise()
}
function mf() {
    const s = indexedDB.open(l0, LN);
    return new Promise( (e, i) => {
        s.addEventListener("error", () => {
            i(s.error)
        }
        ),
        s.addEventListener("upgradeneeded", () => {
            const r = s.result;
            try {
                r.createObjectStore(Yo, {
                    keyPath: o0
                })
            } catch (o) {
                i(o)
            }
        }
        ),
        s.addEventListener("success", async () => {
            const r = s.result;
            r.objectStoreNames.contains(Yo) ? e(r) : (r.close(),
            await jN(),
            e(await mf()))
        }
        )
    }
    )
}
async function lv(s, e, i) {
    const r = dc(s, !0).put({
        [o0]: e,
        value: i
    });
    return new tl(r).toPromise()
}
async function UN(s, e) {
    const i = dc(s, !1).get(e)
      , r = await new tl(i).toPromise();
    return r === void 0 ? null : r.value
}
function ov(s, e) {
    const i = dc(s, !0).delete(e);
    return new tl(i).toPromise()
}
const PN = 800
  , zN = 3;
class c0 {
    constructor() {
        this.type = "LOCAL",
        this._shouldAllowMigration = !0,
        this.listeners = {},
        this.localCache = {},
        this.pollTimer = null,
        this.pendingWrites = 0,
        this.receiver = null,
        this.sender = null,
        this.serviceWorkerReceiverAvailable = !1,
        this.activeServiceWorker = null,
        this._workerInitializationPromise = this.initializeServiceWorkerMessaging().then( () => {}
        , () => {}
        )
    }
    async _openDb() {
        return this.db ? this.db : (this.db = await mf(),
        this.db)
    }
    async _withRetries(e) {
        let i = 0;
        for (; ; )
            try {
                const r = await this._openDb();
                return await e(r)
            } catch (r) {
                if (i++ > zN)
                    throw r;
                this.db && (this.db.close(),
                this.db = void 0)
            }
    }
    async initializeServiceWorkerMessaging() {
        return r0() ? this.initializeReceiver() : this.initializeSender()
    }
    async initializeReceiver() {
        this.receiver = uc._getInstance(kN()),
        this.receiver._subscribe("keyChanged", async (e, i) => ({
            keyProcessed: (await this._poll()).includes(i.key)
        })),
        this.receiver._subscribe("ping", async (e, i) => ["keyChanged"])
    }
    async initializeSender() {
        var e, i;
        if (this.activeServiceWorker = await DN(),
        !this.activeServiceWorker)
            return;
        this.sender = new ON(this.activeServiceWorker);
        const r = await this.sender._send("ping", {}, 800);
        r && !((e = r[0]) === null || e === void 0) && e.fulfilled && !((i = r[0]) === null || i === void 0) && i.value.includes("keyChanged") && (this.serviceWorkerReceiverAvailable = !0)
    }
    async notifyServiceWorker(e) {
        if (!(!this.sender || !this.activeServiceWorker || MN() !== this.activeServiceWorker))
            try {
                await this.sender._send("keyChanged", {
                    key: e
                }, this.serviceWorkerReceiverAvailable ? 800 : 50)
            } catch {}
    }
    async _isAvailable() {
        try {
            if (!indexedDB)
                return !1;
            const e = await mf();
            return await lv(e, Go, "1"),
            await ov(e, Go),
            !0
        } catch {}
        return !1
    }
    async _withPendingWrite(e) {
        this.pendingWrites++;
        try {
            await e()
        } finally {
            this.pendingWrites--
        }
    }
    async _set(e, i) {
        return this._withPendingWrite(async () => (await this._withRetries(r => lv(r, e, i)),
        this.localCache[e] = i,
        this.notifyServiceWorker(e)))
    }
    async _get(e) {
        const i = await this._withRetries(r => UN(r, e));
        return this.localCache[e] = i,
        i
    }
    async _remove(e) {
        return this._withPendingWrite(async () => (await this._withRetries(i => ov(i, e)),
        delete this.localCache[e],
        this.notifyServiceWorker(e)))
    }
    async _poll() {
        const e = await this._withRetries(o => {
            const c = dc(o, !1).getAll();
            return new tl(c).toPromise()
        }
        );
        if (!e)
            return [];
        if (this.pendingWrites !== 0)
            return [];
        const i = []
          , r = new Set;
        if (e.length !== 0)
            for (const {fbase_key: o, value: c} of e)
                r.add(o),
                JSON.stringify(this.localCache[o]) !== JSON.stringify(c) && (this.notifyListeners(o, c),
                i.push(o));
        for (const o of Object.keys(this.localCache))
            this.localCache[o] && !r.has(o) && (this.notifyListeners(o, null),
            i.push(o));
        return i
    }
    notifyListeners(e, i) {
        this.localCache[e] = i;
        const r = this.listeners[e];
        if (r)
            for (const o of Array.from(r))
                o(i)
    }
    startPolling() {
        this.stopPolling(),
        this.pollTimer = setInterval(async () => this._poll(), PN)
    }
    stopPolling() {
        this.pollTimer && (clearInterval(this.pollTimer),
        this.pollTimer = null)
    }
    _addListener(e, i) {
        Object.keys(this.listeners).length === 0 && this.startPolling(),
        this.listeners[e] || (this.listeners[e] = new Set,
        this._get(e)),
        this.listeners[e].add(i)
    }
    _removeListener(e, i) {
        this.listeners[e] && (this.listeners[e].delete(i),
        this.listeners[e].size === 0 && delete this.listeners[e]),
        Object.keys(this.listeners).length === 0 && this.stopPolling()
    }
}
c0.type = "LOCAL";
const HN = c0;
new Jr(3e4,6e4);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u0(s, e) {
    return e ? Un(e) : (ie(s._popupRedirectResolver, s, "argument-error"),
    s._popupRedirectResolver)
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class th extends $f {
    constructor(e) {
        super("custom", "custom"),
        this.params = e
    }
    _getIdTokenResponse(e) {
        return ta(e, this._buildIdpRequest())
    }
    _linkToIdToken(e, i) {
        return ta(e, this._buildIdpRequest(i))
    }
    _getReauthenticationResolver(e) {
        return ta(e, this._buildIdpRequest())
    }
    _buildIdpRequest(e) {
        const i = {
            requestUri: this.params.requestUri,
            sessionId: this.params.sessionId,
            postBody: this.params.postBody,
            tenantId: this.params.tenantId,
            pendingToken: this.params.pendingToken,
            returnSecureToken: !0,
            returnIdpCredential: !0
        };
        return e && (i.idToken = e),
        i
    }
}
function BN(s) {
    return e0(s.auth, new th(s), s.bypassAuthState)
}
function qN(s) {
    const {auth: e, user: i} = s;
    return ie(i, e, "internal-error"),
    yN(i, new th(s), s.bypassAuthState)
}
async function VN(s) {
    const {auth: e, user: i} = s;
    return ie(i, e, "internal-error"),
    vN(i, new th(s), s.bypassAuthState)
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class d0 {
    constructor(e, i, r, o, c=!1) {
        this.auth = e,
        this.resolver = r,
        this.user = o,
        this.bypassAuthState = c,
        this.pendingPromise = null,
        this.eventManager = null,
        this.filter = Array.isArray(i) ? i : [i]
    }
    execute() {
        return new Promise(async (e, i) => {
            this.pendingPromise = {
                resolve: e,
                reject: i
            };
            try {
                this.eventManager = await this.resolver._initialize(this.auth),
                await this.onExecution(),
                this.eventManager.registerConsumer(this)
            } catch (r) {
                this.reject(r)
            }
        }
        )
    }
    async onAuthEvent(e) {
        const {urlResponse: i, sessionId: r, postBody: o, tenantId: c, error: f, type: h} = e;
        if (f) {
            this.reject(f);
            return
        }
        const p = {
            auth: this.auth,
            requestUri: i,
            sessionId: r,
            tenantId: c || void 0,
            postBody: o || void 0,
            user: this.user,
            bypassAuthState: this.bypassAuthState
        };
        try {
            this.resolve(await this.getIdpTask(h)(p))
        } catch (m) {
            this.reject(m)
        }
    }
    onError(e) {
        this.reject(e)
    }
    getIdpTask(e) {
        switch (e) {
        case "signInViaPopup":
        case "signInViaRedirect":
            return BN;
        case "linkViaPopup":
        case "linkViaRedirect":
            return VN;
        case "reauthViaPopup":
        case "reauthViaRedirect":
            return qN;
        default:
            Xt(this.auth, "internal-error")
        }
    }
    resolve(e) {
        Vn(this.pendingPromise, "Pending promise was never set"),
        this.pendingPromise.resolve(e),
        this.unregisterAndCleanUp()
    }
    reject(e) {
        Vn(this.pendingPromise, "Pending promise was never set"),
        this.pendingPromise.reject(e),
        this.unregisterAndCleanUp()
    }
    unregisterAndCleanUp() {
        this.eventManager && this.eventManager.unregisterConsumer(this),
        this.pendingPromise = null,
        this.cleanUp()
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const GN = new Jr(2e3,1e4);
async function YN(s, e, i) {
    if (Wt(s.app))
        return Promise.reject(ln(s, "operation-not-supported-in-this-environment"));
    const r = cs(s);
    Nw(s, e, Jf);
    const o = u0(r, i);
    return new Ji(r,"signInViaPopup",e,o).executeNotNull()
}
class Ji extends d0 {
    constructor(e, i, r, o, c) {
        super(e, i, o, c),
        this.provider = r,
        this.authWindow = null,
        this.pollId = null,
        Ji.currentPopupAction && Ji.currentPopupAction.cancel(),
        Ji.currentPopupAction = this
    }
    async executeNotNull() {
        const e = await this.execute();
        return ie(e, this.auth, "internal-error"),
        e
    }
    async onExecution() {
        Vn(this.filter.length === 1, "Popup operations only handle one event");
        const e = eh();
        this.authWindow = await this.resolver._openPopup(this.auth, this.provider, this.filter[0], e),
        this.authWindow.associatedEvent = e,
        this.resolver._originValidation(this.auth).catch(i => {
            this.reject(i)
        }
        ),
        this.resolver._isIframeWebStorageSupported(this.auth, i => {
            i || this.reject(ln(this.auth, "web-storage-unsupported"))
        }
        ),
        this.pollUserCancellation()
    }
    get eventId() {
        var e;
        return ((e = this.authWindow) === null || e === void 0 ? void 0 : e.associatedEvent) || null
    }
    cancel() {
        this.reject(ln(this.auth, "cancelled-popup-request"))
    }
    cleanUp() {
        this.authWindow && this.authWindow.close(),
        this.pollId && window.clearTimeout(this.pollId),
        this.authWindow = null,
        this.pollId = null,
        Ji.currentPopupAction = null
    }
    pollUserCancellation() {
        const e = () => {
            var i, r;
            if (!((r = (i = this.authWindow) === null || i === void 0 ? void 0 : i.window) === null || r === void 0) && r.closed) {
                this.pollId = window.setTimeout( () => {
                    this.pollId = null,
                    this.reject(ln(this.auth, "popup-closed-by-user"))
                }
                , 8e3);
                return
            }
            this.pollId = window.setTimeout(e, GN.get())
        }
        ;
        e()
    }
}
Ji.currentPopupAction = null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const FN = "pendingRedirect"
  , Io = new Map;
class KN extends d0 {
    constructor(e, i, r=!1) {
        super(e, ["signInViaRedirect", "linkViaRedirect", "reauthViaRedirect", "unknown"], i, void 0, r),
        this.eventId = null
    }
    async execute() {
        let e = Io.get(this.auth._key());
        if (!e) {
            try {
                const r = await QN(this.resolver, this.auth) ? await super.execute() : null;
                e = () => Promise.resolve(r)
            } catch (i) {
                e = () => Promise.reject(i)
            }
            Io.set(this.auth._key(), e)
        }
        return this.bypassAuthState || Io.set(this.auth._key(), () => Promise.resolve(null)),
        e()
    }
    async onAuthEvent(e) {
        if (e.type === "signInViaRedirect")
            return super.onAuthEvent(e);
        if (e.type === "unknown") {
            this.resolve(null);
            return
        }
        if (e.eventId) {
            const i = await this.auth._redirectUserForId(e.eventId);
            if (i)
                return this.user = i,
                super.onAuthEvent(e);
            this.resolve(null)
        }
    }
    async onExecution() {}
    cleanUp() {}
}
async function QN(s, e) {
    const i = $N(e)
      , r = XN(s);
    if (!await r._isAvailable())
        return !1;
    const o = await r._get(i) === "true";
    return await r._remove(i),
    o
}
function WN(s, e) {
    Io.set(s._key(), e)
}
function XN(s) {
    return Un(s._redirectPersistence)
}
function $N(s) {
    return Oo(FN, s.config.apiKey, s.name)
}
async function ZN(s, e, i=!1) {
    if (Wt(s.app))
        return Promise.reject(Ti(s));
    const r = cs(s)
      , o = u0(r, e)
      , f = await new KN(r,o,i).execute();
    return f && !i && (delete f.user._redirectEventId,
    await r._persistUserIfCurrent(f.user),
    await r._setRedirectUser(null, e)),
    f
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const JN = 10 * 60 * 1e3;
class eR {
    constructor(e) {
        this.auth = e,
        this.cachedEventUids = new Set,
        this.consumers = new Set,
        this.queuedRedirectEvent = null,
        this.hasHandledPotentialRedirect = !1,
        this.lastProcessedEventTime = Date.now()
    }
    registerConsumer(e) {
        this.consumers.add(e),
        this.queuedRedirectEvent && this.isEventForConsumer(this.queuedRedirectEvent, e) && (this.sendToConsumer(this.queuedRedirectEvent, e),
        this.saveEventToCache(this.queuedRedirectEvent),
        this.queuedRedirectEvent = null)
    }
    unregisterConsumer(e) {
        this.consumers.delete(e)
    }
    onEvent(e) {
        if (this.hasEventBeenHandled(e))
            return !1;
        let i = !1;
        return this.consumers.forEach(r => {
            this.isEventForConsumer(e, r) && (i = !0,
            this.sendToConsumer(e, r),
            this.saveEventToCache(e))
        }
        ),
        this.hasHandledPotentialRedirect || !tR(e) || (this.hasHandledPotentialRedirect = !0,
        i || (this.queuedRedirectEvent = e,
        i = !0)),
        i
    }
    sendToConsumer(e, i) {
        var r;
        if (e.error && !f0(e)) {
            const o = ((r = e.error.code) === null || r === void 0 ? void 0 : r.split("auth/")[1]) || "internal-error";
            i.onError(ln(this.auth, o))
        } else
            i.onAuthEvent(e)
    }
    isEventForConsumer(e, i) {
        const r = i.eventId === null || !!e.eventId && e.eventId === i.eventId;
        return i.filter.includes(e.type) && r
    }
    hasEventBeenHandled(e) {
        return Date.now() - this.lastProcessedEventTime >= JN && this.cachedEventUids.clear(),
        this.cachedEventUids.has(cv(e))
    }
    saveEventToCache(e) {
        this.cachedEventUids.add(cv(e)),
        this.lastProcessedEventTime = Date.now()
    }
}
function cv(s) {
    return [s.type, s.eventId, s.sessionId, s.tenantId].filter(e => e).join("-")
}
function f0({type: s, error: e}) {
    return s === "unknown" && (e == null ? void 0 : e.code) === "auth/no-auth-event"
}
function tR(s) {
    switch (s.type) {
    case "signInViaRedirect":
    case "linkViaRedirect":
    case "reauthViaRedirect":
        return !0;
    case "unknown":
        return f0(s);
    default:
        return !1
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function nR(s, e={}) {
    return Di(s, "GET", "/v1/projects", e)
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const iR = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/
  , sR = /^https?/;
async function aR(s) {
    if (s.config.emulator)
        return;
    const {authorizedDomains: e} = await nR(s);
    for (const i of e)
        try {
            if (rR(i))
                return
        } catch {}
    Xt(s, "unauthorized-domain")
}
function rR(s) {
    const e = hf()
      , {protocol: i, hostname: r} = new URL(e);
    if (s.startsWith("chrome-extension://")) {
        const f = new URL(s);
        return f.hostname === "" && r === "" ? i === "chrome-extension:" && s.replace("chrome-extension://", "") === e.replace("chrome-extension://", "") : i === "chrome-extension:" && f.hostname === r
    }
    if (!sR.test(i))
        return !1;
    if (iR.test(s))
        return r === s;
    const o = s.replace(/\./g, "\\.");
    return new RegExp("^(.+\\." + o + "|" + o + ")$","i").test(r)
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const lR = new Jr(3e4,6e4);
function uv() {
    const s = _n().___jsl;
    if (s != null && s.H) {
        for (const e of Object.keys(s.H))
            if (s.H[e].r = s.H[e].r || [],
            s.H[e].L = s.H[e].L || [],
            s.H[e].r = [...s.H[e].L],
            s.CP)
                for (let i = 0; i < s.CP.length; i++)
                    s.CP[i] = null
    }
}
function oR(s) {
    return new Promise( (e, i) => {
        var r, o, c;
        function f() {
            uv(),
            gapi.load("gapi.iframes", {
                callback: () => {
                    e(gapi.iframes.getContext())
                }
                ,
                ontimeout: () => {
                    uv(),
                    i(ln(s, "network-request-failed"))
                }
                ,
                timeout: lR.get()
            })
        }
        if (!((o = (r = _n().gapi) === null || r === void 0 ? void 0 : r.iframes) === null || o === void 0) && o.Iframe)
            e(gapi.iframes.getContext());
        else if (!((c = _n().gapi) === null || c === void 0) && c.load)
            f();
        else {
            const h = tN("iframefcb");
            return _n()[h] = () => {
                gapi.load ? f() : i(ln(s, "network-request-failed"))
            }
            ,
            Xy(`${eN()}?onload=${h}`).catch(p => i(p))
        }
    }
    ).catch(e => {
        throw Do = null,
        e
    }
    )
}
let Do = null;
function cR(s) {
    return Do = Do || oR(s),
    Do
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const uR = new Jr(5e3,15e3)
  , dR = "__/auth/iframe"
  , fR = "emulator/auth/iframe"
  , hR = {
    style: {
        position: "absolute",
        top: "-100px",
        width: "1px",
        height: "1px"
    },
    "aria-hidden": "true",
    tabindex: "-1"
}
  , pR = new Map([["identitytoolkit.googleapis.com", "p"], ["staging-identitytoolkit.sandbox.googleapis.com", "s"], ["test-identitytoolkit.sandbox.googleapis.com", "t"]]);
function mR(s) {
    const e = s.config;
    ie(e.authDomain, s, "auth-domain-config-required");
    const i = e.emulator ? Qf(e, fR) : `https://${s.config.authDomain}/${dR}`
      , r = {
        apiKey: e.apiKey,
        appName: s.name,
        v: ma
    }
      , o = pR.get(s.config.apiHost);
    o && (r.eid = o);
    const c = s._getFrameworks();
    return c.length && (r.fw = c.join(",")),
    `${i}?${pa(r).slice(1)}`
}
async function gR(s) {
    const e = await cR(s)
      , i = _n().gapi;
    return ie(i, s, "internal-error"),
    e.open({
        where: document.body,
        url: mR(s),
        messageHandlersFilter: i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,
        attributes: hR,
        dontclear: !0
    }, r => new Promise(async (o, c) => {
        await r.restyle({
            setHideOnLeave: !1
        });
        const f = ln(s, "network-request-failed")
          , h = _n().setTimeout( () => {
            c(f)
        }
        , uR.get());
        function p() {
            _n().clearTimeout(h),
            o(r)
        }
        r.ping(p).then(p, () => {
            c(f)
        }
        )
    }
    ))
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const _R = {
    location: "yes",
    resizable: "yes",
    statusbar: "yes",
    toolbar: "no"
}
  , vR = 500
  , yR = 600
  , ER = "_blank"
  , bR = "http://localhost";
class dv {
    constructor(e) {
        this.window = e,
        this.associatedEvent = null
    }
    close() {
        if (this.window)
            try {
                this.window.close()
            } catch {}
    }
}
function SR(s, e, i, r=vR, o=yR) {
    const c = Math.max((window.screen.availHeight - o) / 2, 0).toString()
      , f = Math.max((window.screen.availWidth - r) / 2, 0).toString();
    let h = "";
    const p = Object.assign(Object.assign({}, _R), {
        width: r.toString(),
        height: o.toString(),
        top: c,
        left: f
    })
      , m = yt().toLowerCase();
    i && (h = Vy(m) ? ER : i),
    By(m) && (e = e || bR,
    p.scrollbars = "yes");
    const E = Object.entries(p).reduce( (y, [A,T]) => `${y}${A}=${T},`, "");
    if (Yw(m) && h !== "_self")
        return CR(e || "", h),
        new dv(null);
    const b = window.open(e || "", h, E);
    ie(b, s, "popup-blocked");
    try {
        b.focus()
    } catch {}
    return new dv(b)
}
function CR(s, e) {
    const i = document.createElement("a");
    i.href = s,
    i.target = e;
    const r = document.createEvent("MouseEvent");
    r.initMouseEvent("click", !0, !0, window, 1, 0, 0, 0, 0, !1, !1, !1, !1, 1, null),
    i.dispatchEvent(r)
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const TR = "__/auth/handler"
  , wR = "emulator/auth/handler"
  , NR = encodeURIComponent("fac");
async function fv(s, e, i, r, o, c) {
    ie(s.config.authDomain, s, "auth-domain-config-required"),
    ie(s.config.apiKey, s, "invalid-api-key");
    const f = {
        apiKey: s.config.apiKey,
        appName: s.name,
        authType: i,
        redirectUrl: r,
        v: ma,
        eventId: o
    };
    if (e instanceof Jf) {
        e.setDefaultLanguage(s.languageCode),
        f.providerId = e.providerId || "",
        lf(e.getCustomParameters()) || (f.customParameters = JSON.stringify(e.getCustomParameters()));
        for (const [E,b] of Object.entries({}))
            f[E] = b
    }
    if (e instanceof el) {
        const E = e.getScopes().filter(b => b !== "");
        E.length > 0 && (f.scopes = E.join(","))
    }
    s.tenantId && (f.tid = s.tenantId);
    const h = f;
    for (const E of Object.keys(h))
        h[E] === void 0 && delete h[E];
    const p = await s._getAppCheckToken()
      , m = p ? `#${NR}=${encodeURIComponent(p)}` : "";
    return `${RR(s)}?${pa(h).slice(1)}${m}`
}
function RR({config: s}) {
    return s.emulator ? Qf(s, wR) : `https://${s.authDomain}/${TR}`
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Kd = "webStorageSupport";
class AR {
    constructor() {
        this.eventManagers = {},
        this.iframes = {},
        this.originValidationPromises = {},
        this._redirectPersistence = a0,
        this._completeRedirectFn = ZN,
        this._overrideRedirectResult = WN
    }
    async _openPopup(e, i, r, o) {
        var c;
        Vn((c = this.eventManagers[e._key()]) === null || c === void 0 ? void 0 : c.manager, "_initialize() not called before _openPopup()");
        const f = await fv(e, i, r, hf(), o);
        return SR(e, f, eh())
    }
    async _openRedirect(e, i, r, o) {
        await this._originValidation(e);
        const c = await fv(e, i, r, hf(), o);
        return IN(c),
        new Promise( () => {}
        )
    }
    _initialize(e) {
        const i = e._key();
        if (this.eventManagers[i]) {
            const {manager: o, promise: c} = this.eventManagers[i];
            return o ? Promise.resolve(o) : (Vn(c, "If manager is not set, promise should be"),
            c)
        }
        const r = this.initAndGetManager(e);
        return this.eventManagers[i] = {
            promise: r
        },
        r.catch( () => {
            delete this.eventManagers[i]
        }
        ),
        r
    }
    async initAndGetManager(e) {
        const i = await gR(e)
          , r = new eR(e);
        return i.register("authEvent", o => (ie(o == null ? void 0 : o.authEvent, e, "invalid-auth-event"),
        {
            status: r.onEvent(o.authEvent) ? "ACK" : "ERROR"
        }), gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),
        this.eventManagers[e._key()] = {
            manager: r
        },
        this.iframes[e._key()] = i,
        r
    }
    _isIframeWebStorageSupported(e, i) {
        this.iframes[e._key()].send(Kd, {
            type: Kd
        }, o => {
            var c;
            const f = (c = o == null ? void 0 : o[0]) === null || c === void 0 ? void 0 : c[Kd];
            f !== void 0 && i(!!f),
            Xt(e, "internal-error")
        }
        , gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)
    }
    _originValidation(e) {
        const i = e._key();
        return this.originValidationPromises[i] || (this.originValidationPromises[i] = aR(e)),
        this.originValidationPromises[i]
    }
    get _shouldInitProactively() {
        return Qy() || qy() || Xf()
    }
}
const xR = AR;
var hv = "@firebase/auth"
  , pv = "1.10.6";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class OR {
    constructor(e) {
        this.auth = e,
        this.internalListeners = new Map
    }
    getUid() {
        var e;
        return this.assertAuthConfigured(),
        ((e = this.auth.currentUser) === null || e === void 0 ? void 0 : e.uid) || null
    }
    async getToken(e) {
        return this.assertAuthConfigured(),
        await this.auth._initializationPromise,
        this.auth.currentUser ? {
            accessToken: await this.auth.currentUser.getIdToken(e)
        } : null
    }
    addAuthTokenListener(e) {
        if (this.assertAuthConfigured(),
        this.internalListeners.has(e))
            return;
        const i = this.auth.onIdTokenChanged(r => {
            e((r == null ? void 0 : r.stsTokenManager.accessToken) || null)
        }
        );
        this.internalListeners.set(e, i),
        this.updateProactiveRefresh()
    }
    removeAuthTokenListener(e) {
        this.assertAuthConfigured();
        const i = this.internalListeners.get(e);
        i && (this.internalListeners.delete(e),
        i(),
        this.updateProactiveRefresh())
    }
    assertAuthConfigured() {
        ie(this.auth._initializationPromise, "dependent-sdk-initialized-before-auth")
    }
    updateProactiveRefresh() {
        this.internalListeners.size > 0 ? this.auth._startProactiveRefresh() : this.auth._stopProactiveRefresh()
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function IR(s) {
    switch (s) {
    case "Node":
        return "node";
    case "ReactNative":
        return "rn";
    case "Worker":
        return "webworker";
    case "Cordova":
        return "cordova";
    case "WebExtension":
        return "web-extension";
    default:
        return
    }
}
function DR(s) {
    aa(new is("auth", (e, {options: i}) => {
        const r = e.getProvider("app").getImmediate()
          , o = e.getProvider("heartbeat")
          , c = e.getProvider("app-check-internal")
          , {apiKey: f, authDomain: h} = r.options;
        ie(f && !f.includes(":"), "invalid-api-key", {
            appName: r.name
        });
        const p = {
            apiKey: f,
            authDomain: h,
            clientPlatform: s,
            apiHost: "identitytoolkit.googleapis.com",
            tokenApiHost: "securetoken.googleapis.com",
            apiScheme: "https",
            sdkClientVersion: Wy(s)
        }
          , m = new $w(r,o,c,p);
        return lN(m, i),
        m
    }
    ,"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback( (e, i, r) => {
        e.getProvider("auth-internal").initialize()
    }
    )),
    aa(new is("auth-internal",e => {
        const i = cs(e.getProvider("auth").getImmediate());
        return (r => new OR(r))(i)
    }
    ,"PRIVATE").setInstantiationMode("EXPLICIT")),
    Ci(hv, pv, IR(s)),
    Ci(hv, pv, "esm2017")
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const MR = 5 * 60
  , kR = Cy("authIdTokenMaxAge") || MR;
let mv = null;
const LR = s => async e => {
    const i = e && await e.getIdTokenResult()
      , r = i && (new Date().getTime() - Date.parse(i.issuedAtTime)) / 1e3;
    if (r && r > kR)
        return;
    const o = i == null ? void 0 : i.token;
    mv !== o && (mv = o,
    await fetch(s, {
        method: o ? "POST" : "DELETE",
        headers: o ? {
            Authorization: `Bearer ${o}`
        } : {}
    }))
}
;
function jR(s=Iy()) {
    const e = Gf(s, "auth");
    if (e.isInitialized())
        return e.getImmediate();
    const i = rN(s, {
        popupRedirectResolver: xR,
        persistence: [HN, AN, a0]
    })
      , r = Cy("authTokenSyncURL");
    if (r && typeof isSecureContext == "boolean" && isSecureContext) {
        const c = new URL(r,location.origin);
        if (location.origin === c.origin) {
            const f = LR(c.toString());
            TN(i, f, () => f(i.currentUser)),
            CN(i, h => f(h))
        }
    }
    const o = by("auth");
    return o && oN(i, `http://${o}`),
    i
}
function UR() {
    var s, e;
    return (e = (s = document.getElementsByTagName("head")) === null || s === void 0 ? void 0 : s[0]) !== null && e !== void 0 ? e : document
}
Zw({
    loadJS(s) {
        return new Promise( (e, i) => {
            const r = document.createElement("script");
            r.setAttribute("src", s),
            r.onload = e,
            r.onerror = o => {
                const c = ln("internal-error");
                c.customData = o,
                i(c)
            }
            ,
            r.type = "text/javascript",
            r.charset = "UTF-8",
            UR().appendChild(r)
        }
        )
    },
    gapiScript: "https://apis.google.com/js/api.js",
    recaptchaV2Script: "https://www.google.com/recaptcha/api.js",
    recaptchaEnterpriseScript: "https://www.google.com/recaptcha/enterprise.js?render="
});
DR("Browser");
var gv = {};
const _v = "@firebase/database"
  , vv = "1.0.19";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let h0 = "";
function PR(s) {
    h0 = s
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zR {
    constructor(e) {
        this.domStorage_ = e,
        this.prefix_ = "firebase:"
    }
    set(e, i) {
        i == null ? this.domStorage_.removeItem(this.prefixedName_(e)) : this.domStorage_.setItem(this.prefixedName_(e), Ze(i))
    }
    get(e) {
        const i = this.domStorage_.getItem(this.prefixedName_(e));
        return i == null ? null : Ur(i)
    }
    remove(e) {
        this.domStorage_.removeItem(this.prefixedName_(e))
    }
    prefixedName_(e) {
        return this.prefix_ + e
    }
    toString() {
        return this.domStorage_.toString()
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class HR {
    constructor() {
        this.cache_ = {},
        this.isInMemoryStorage = !0
    }
    set(e, i) {
        i == null ? delete this.cache_[e] : this.cache_[e] = i
    }
    get(e) {
        return Yn(this.cache_, e) ? this.cache_[e] : null
    }
    remove(e) {
        delete this.cache_[e]
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const p0 = function(s) {
    try {
        if (typeof window < "u" && typeof window[s] < "u") {
            const e = window[s];
            return e.setItem("firebase:sentinel", "cache"),
            e.removeItem("firebase:sentinel"),
            new zR(e)
        }
    } catch {}
    return new HR
}
  , es = p0("localStorage")
  , BR = p0("sessionStorage");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const na = new qf("@firebase/database")
  , qR = function() {
    let s = 1;
    return function() {
        return s++
    }
}()
  , m0 = function(s) {
    const e = hT(s)
      , i = new cT;
    i.update(e);
    const r = i.digest();
    return Pf.encodeByteArray(r)
}
  , nl = function(...s) {
    let e = "";
    for (let i = 0; i < s.length; i++) {
        const r = s[i];
        Array.isArray(r) || r && typeof r == "object" && typeof r.length == "number" ? e += nl.apply(null, r) : typeof r == "object" ? e += Ze(r) : e += r,
        e += " "
    }
    return e
};
let Ir = null
  , yv = !0;
const VR = function(s, e) {
    Y(!0, "Can't turn on custom loggers persistently."),
    na.logLevel = Oe.VERBOSE,
    Ir = na.log.bind(na)
}
  , mt = function(...s) {
    if (yv === !0 && (yv = !1,
    Ir === null && BR.get("logging_enabled") === !0 && VR()),
    Ir) {
        const e = nl.apply(null, s);
        Ir(e)
    }
}
  , il = function(s) {
    return function(...e) {
        mt(s, ...e)
    }
}
  , gf = function(...s) {
    const e = "FIREBASE INTERNAL ERROR: " + nl(...s);
    na.error(e)
}
  , Gn = function(...s) {
    const e = `FIREBASE FATAL ERROR: ${nl(...s)}`;
    throw na.error(e),
    new Error(e)
}
  , Rt = function(...s) {
    const e = "FIREBASE WARNING: " + nl(...s);
    na.warn(e)
}
  , GR = function() {
    typeof window < "u" && window.location && window.location.protocol && window.location.protocol.indexOf("https:") !== -1 && Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")
}
  , g0 = function(s) {
    return typeof s == "number" && (s !== s || s === Number.POSITIVE_INFINITY || s === Number.NEGATIVE_INFINITY)
}
  , YR = function(s) {
    if (document.readyState === "complete")
        s();
    else {
        let e = !1;
        const i = function() {
            if (!document.body) {
                setTimeout(i, Math.floor(10));
                return
            }
            e || (e = !0,
            s())
        };
        document.addEventListener ? (document.addEventListener("DOMContentLoaded", i, !1),
        window.addEventListener("load", i, !1)) : document.attachEvent && (document.attachEvent("onreadystatechange", () => {
            document.readyState === "complete" && i()
        }
        ),
        window.attachEvent("onload", i))
    }
}
  , la = "[MIN_NAME]"
  , as = "[MAX_NAME]"
  , _a = function(s, e) {
    if (s === e)
        return 0;
    if (s === la || e === as)
        return -1;
    if (e === la || s === as)
        return 1;
    {
        const i = Ev(s)
          , r = Ev(e);
        return i !== null ? r !== null ? i - r === 0 ? s.length - e.length : i - r : -1 : r !== null ? 1 : s < e ? -1 : 1
    }
}
  , FR = function(s, e) {
    return s === e ? 0 : s < e ? -1 : 1
}
  , Sr = function(s, e) {
    if (e && s in e)
        return e[s];
    throw new Error("Missing required key (" + s + ") in object: " + Ze(e))
}
  , nh = function(s) {
    if (typeof s != "object" || s === null)
        return Ze(s);
    const e = [];
    for (const r in s)
        e.push(r);
    e.sort();
    let i = "{";
    for (let r = 0; r < e.length; r++)
        r !== 0 && (i += ","),
        i += Ze(e[r]),
        i += ":",
        i += nh(s[e[r]]);
    return i += "}",
    i
}
  , _0 = function(s, e) {
    const i = s.length;
    if (i <= e)
        return [s];
    const r = [];
    for (let o = 0; o < i; o += e)
        o + e > i ? r.push(s.substring(o, i)) : r.push(s.substring(o, o + e));
    return r
};
function At(s, e) {
    for (const i in s)
        s.hasOwnProperty(i) && e(i, s[i])
}
const v0 = function(s) {
    Y(!g0(s), "Invalid JSON number");
    const e = 11
      , i = 52
      , r = (1 << e - 1) - 1;
    let o, c, f, h, p;
    s === 0 ? (c = 0,
    f = 0,
    o = 1 / s === -1 / 0 ? 1 : 0) : (o = s < 0,
    s = Math.abs(s),
    s >= Math.pow(2, 1 - r) ? (h = Math.min(Math.floor(Math.log(s) / Math.LN2), r),
    c = h + r,
    f = Math.round(s * Math.pow(2, i - h) - Math.pow(2, i))) : (c = 0,
    f = Math.round(s / Math.pow(2, 1 - r - i))));
    const m = [];
    for (p = i; p; p -= 1)
        m.push(f % 2 ? 1 : 0),
        f = Math.floor(f / 2);
    for (p = e; p; p -= 1)
        m.push(c % 2 ? 1 : 0),
        c = Math.floor(c / 2);
    m.push(o ? 1 : 0),
    m.reverse();
    const E = m.join("");
    let b = "";
    for (p = 0; p < 64; p += 8) {
        let y = parseInt(E.substr(p, 8), 2).toString(16);
        y.length === 1 && (y = "0" + y),
        b = b + y
    }
    return b.toLowerCase()
}
  , KR = function() {
    return !!(typeof window == "object" && window.chrome && window.chrome.extension && !/^chrome/.test(window.location.href))
}
  , QR = function() {
    return typeof Windows == "object" && typeof Windows.UI == "object"
};
function WR(s, e) {
    let i = "Unknown Error";
    s === "too_big" ? i = "The data requested exceeds the maximum size that can be accessed with a single request." : s === "permission_denied" ? i = "Client doesn't have permission to access the desired data." : s === "unavailable" && (i = "The service is unavailable");
    const r = new Error(s + " at " + e._path.toString() + ": " + i);
    return r.code = s.toUpperCase(),
    r
}
const XR = new RegExp("^-?(0*)\\d{1,10}$")
  , $R = -2147483648
  , ZR = 2147483647
  , Ev = function(s) {
    if (XR.test(s)) {
        const e = Number(s);
        if (e >= $R && e <= ZR)
            return e
    }
    return null
}
  , va = function(s) {
    try {
        s()
    } catch (e) {
        setTimeout( () => {
            const i = e.stack || "";
            throw Rt("Exception was thrown by user callback.", i),
            e
        }
        , Math.floor(0))
    }
}
  , JR = function() {
    return (typeof window == "object" && window.navigator && window.navigator.userAgent || "").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i) >= 0
}
  , Dr = function(s, e) {
    const i = setTimeout(s, e);
    return typeof i == "number" && typeof Deno < "u" && Deno.unrefTimer ? Deno.unrefTimer(i) : typeof i == "object" && i.unref && i.unref(),
    i
};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class eA {
    constructor(e, i) {
        this.appCheckProvider = i,
        this.appName = e.name,
        Wt(e) && e.settings.appCheckToken && (this.serverAppAppCheckToken = e.settings.appCheckToken),
        this.appCheck = i == null ? void 0 : i.getImmediate({
            optional: !0
        }),
        this.appCheck || i == null || i.get().then(r => this.appCheck = r)
    }
    getToken(e) {
        if (this.serverAppAppCheckToken) {
            if (e)
                throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");
            return Promise.resolve({
                token: this.serverAppAppCheckToken
            })
        }
        return this.appCheck ? this.appCheck.getToken(e) : new Promise( (i, r) => {
            setTimeout( () => {
                this.appCheck ? this.getToken(e).then(i, r) : i(null)
            }
            , 0)
        }
        )
    }
    addTokenChangeListener(e) {
        var i;
        (i = this.appCheckProvider) === null || i === void 0 || i.get().then(r => r.addTokenListener(e))
    }
    notifyForInvalidToken() {
        Rt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class tA {
    constructor(e, i, r) {
        this.appName_ = e,
        this.firebaseOptions_ = i,
        this.authProvider_ = r,
        this.auth_ = null,
        this.auth_ = r.getImmediate({
            optional: !0
        }),
        this.auth_ || r.onInit(o => this.auth_ = o)
    }
    getToken(e) {
        return this.auth_ ? this.auth_.getToken(e).catch(i => i && i.code === "auth/token-not-initialized" ? (mt("Got auth/token-not-initialized error.  Treating as null token."),
        null) : Promise.reject(i)) : new Promise( (i, r) => {
            setTimeout( () => {
                this.auth_ ? this.getToken(e).then(i, r) : i(null)
            }
            , 0)
        }
        )
    }
    addTokenChangeListener(e) {
        this.auth_ ? this.auth_.addAuthTokenListener(e) : this.authProvider_.get().then(i => i.addAuthTokenListener(e))
    }
    removeTokenChangeListener(e) {
        this.authProvider_.get().then(i => i.removeAuthTokenListener(e))
    }
    notifyForInvalidToken() {
        let e = 'Provided authentication credentials for the app named "' + this.appName_ + '" are invalid. This usually indicates your app was not initialized correctly. ';
        "credential"in this.firebaseOptions_ ? e += 'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.' : "serviceAccount"in this.firebaseOptions_ ? e += 'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.' : e += 'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',
        Rt(e)
    }
}
class Mo {
    constructor(e) {
        this.accessToken = e
    }
    getToken(e) {
        return Promise.resolve({
            accessToken: this.accessToken
        })
    }
    addTokenChangeListener(e) {
        e(this.accessToken)
    }
    removeTokenChangeListener(e) {}
    notifyForInvalidToken() {}
}
Mo.OWNER = "owner";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ih = "5"
  , y0 = "v"
  , E0 = "s"
  , b0 = "r"
  , S0 = "f"
  , C0 = /(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/
  , T0 = "ls"
  , w0 = "p"
  , _f = "ac"
  , N0 = "websocket"
  , R0 = "long_polling";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class A0 {
    constructor(e, i, r, o, c=!1, f="", h=!1, p=!1, m=null) {
        this.secure = i,
        this.namespace = r,
        this.webSocketOnly = o,
        this.nodeAdmin = c,
        this.persistenceKey = f,
        this.includeNamespaceInQueryParams = h,
        this.isUsingEmulator = p,
        this.emulatorOptions = m,
        this._host = e.toLowerCase(),
        this._domain = this._host.substr(this._host.indexOf(".") + 1),
        this.internalHost = es.get("host:" + e) || this._host
    }
    isCacheableHost() {
        return this.internalHost.substr(0, 2) === "s-"
    }
    isCustomHost() {
        return this._domain !== "firebaseio.com" && this._domain !== "firebaseio-demo.com"
    }
    get host() {
        return this._host
    }
    set host(e) {
        e !== this.internalHost && (this.internalHost = e,
        this.isCacheableHost() && es.set("host:" + this._host, this.internalHost))
    }
    toString() {
        let e = this.toURLString();
        return this.persistenceKey && (e += "<" + this.persistenceKey + ">"),
        e
    }
    toURLString() {
        const e = this.secure ? "https://" : "http://"
          , i = this.includeNamespaceInQueryParams ? `?ns=${this.namespace}` : "";
        return `${e}${this.host}/${i}`
    }
}
function nA(s) {
    return s.host !== s.internalHost || s.isCustomHost() || s.includeNamespaceInQueryParams
}
function x0(s, e, i) {
    Y(typeof e == "string", "typeof type must == string"),
    Y(typeof i == "object", "typeof params must == object");
    let r;
    if (e === N0)
        r = (s.secure ? "wss://" : "ws://") + s.internalHost + "/.ws?";
    else if (e === R0)
        r = (s.secure ? "https://" : "http://") + s.internalHost + "/.lp?";
    else
        throw new Error("Unknown connection type: " + e);
    nA(s) && (i.ns = s.namespace);
    const o = [];
    return At(i, (c, f) => {
        o.push(c + "=" + f)
    }
    ),
    r + o.join("&")
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class iA {
    constructor() {
        this.counters_ = {}
    }
    incrementCounter(e, i=1) {
        Yn(this.counters_, e) || (this.counters_[e] = 0),
        this.counters_[e] += i
    }
    get() {
        return qC(this.counters_)
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Qd = {}
  , Wd = {};
function sh(s) {
    const e = s.toString();
    return Qd[e] || (Qd[e] = new iA),
    Qd[e]
}
function sA(s, e) {
    const i = s.toString();
    return Wd[i] || (Wd[i] = e()),
    Wd[i]
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class aA {
    constructor(e) {
        this.onMessage_ = e,
        this.pendingResponses = [],
        this.currentResponseNum = 0,
        this.closeAfterResponse = -1,
        this.onClose = null
    }
    closeAfter(e, i) {
        this.closeAfterResponse = e,
        this.onClose = i,
        this.closeAfterResponse < this.currentResponseNum && (this.onClose(),
        this.onClose = null)
    }
    handleResponse(e, i) {
        for (this.pendingResponses[e] = i; this.pendingResponses[this.currentResponseNum]; ) {
            const r = this.pendingResponses[this.currentResponseNum];
            delete this.pendingResponses[this.currentResponseNum];
            for (let o = 0; o < r.length; ++o)
                r[o] && va( () => {
                    this.onMessage_(r[o])
                }
                );
            if (this.currentResponseNum === this.closeAfterResponse) {
                this.onClose && (this.onClose(),
                this.onClose = null);
                break
            }
            this.currentResponseNum++
        }
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const bv = "start"
  , rA = "close"
  , lA = "pLPCommand"
  , oA = "pRTLPCB"
  , O0 = "id"
  , I0 = "pw"
  , D0 = "ser"
  , cA = "cb"
  , uA = "seg"
  , dA = "ts"
  , fA = "d"
  , hA = "dframe"
  , M0 = 1870
  , k0 = 30
  , pA = M0 - k0
  , mA = 25e3
  , gA = 3e4;
class Zs {
    constructor(e, i, r, o, c, f, h) {
        this.connId = e,
        this.repoInfo = i,
        this.applicationId = r,
        this.appCheckToken = o,
        this.authToken = c,
        this.transportSessionId = f,
        this.lastSessionId = h,
        this.bytesSent = 0,
        this.bytesReceived = 0,
        this.everConnected_ = !1,
        this.log_ = il(e),
        this.stats_ = sh(i),
        this.urlFn = p => (this.appCheckToken && (p[_f] = this.appCheckToken),
        x0(i, R0, p))
    }
    open(e, i) {
        this.curSegmentNum = 0,
        this.onDisconnect_ = i,
        this.myPacketOrderer = new aA(e),
        this.isClosed_ = !1,
        this.connectTimeoutTimer_ = setTimeout( () => {
            this.log_("Timed out trying to connect."),
            this.onClosed_(),
            this.connectTimeoutTimer_ = null
        }
        , Math.floor(gA)),
        YR( () => {
            if (this.isClosed_)
                return;
            this.scriptTagHolder = new ah( (...c) => {
                const [f,h,p,m,E] = c;
                if (this.incrementIncomingBytes_(c),
                !!this.scriptTagHolder)
                    if (this.connectTimeoutTimer_ && (clearTimeout(this.connectTimeoutTimer_),
                    this.connectTimeoutTimer_ = null),
                    this.everConnected_ = !0,
                    f === bv)
                        this.id = h,
                        this.password = p;
                    else if (f === rA)
                        h ? (this.scriptTagHolder.sendNewPolls = !1,
                        this.myPacketOrderer.closeAfter(h, () => {
                            this.onClosed_()
                        }
                        )) : this.onClosed_();
                    else
                        throw new Error("Unrecognized command received: " + f)
            }
            , (...c) => {
                const [f,h] = c;
                this.incrementIncomingBytes_(c),
                this.myPacketOrderer.handleResponse(f, h)
            }
            , () => {
                this.onClosed_()
            }
            ,this.urlFn);
            const r = {};
            r[bv] = "t",
            r[D0] = Math.floor(Math.random() * 1e8),
            this.scriptTagHolder.uniqueCallbackIdentifier && (r[cA] = this.scriptTagHolder.uniqueCallbackIdentifier),
            r[y0] = ih,
            this.transportSessionId && (r[E0] = this.transportSessionId),
            this.lastSessionId && (r[T0] = this.lastSessionId),
            this.applicationId && (r[w0] = this.applicationId),
            this.appCheckToken && (r[_f] = this.appCheckToken),
            typeof location < "u" && location.hostname && C0.test(location.hostname) && (r[b0] = S0);
            const o = this.urlFn(r);
            this.log_("Connecting via long-poll to " + o),
            this.scriptTagHolder.addTag(o, () => {}
            )
        }
        )
    }
    start() {
        this.scriptTagHolder.startLongPoll(this.id, this.password),
        this.addDisconnectPingFrame(this.id, this.password)
    }
    static forceAllow() {
        Zs.forceAllow_ = !0
    }
    static forceDisallow() {
        Zs.forceDisallow_ = !0
    }
    static isAvailable() {
        return Zs.forceAllow_ ? !0 : !Zs.forceDisallow_ && typeof document < "u" && document.createElement != null && !KR() && !QR()
    }
    markConnectionHealthy() {}
    shutdown_() {
        this.isClosed_ = !0,
        this.scriptTagHolder && (this.scriptTagHolder.close(),
        this.scriptTagHolder = null),
        this.myDisconnFrame && (document.body.removeChild(this.myDisconnFrame),
        this.myDisconnFrame = null),
        this.connectTimeoutTimer_ && (clearTimeout(this.connectTimeoutTimer_),
        this.connectTimeoutTimer_ = null)
    }
    onClosed_() {
        this.isClosed_ || (this.log_("Longpoll is closing itself"),
        this.shutdown_(),
        this.onDisconnect_ && (this.onDisconnect_(this.everConnected_),
        this.onDisconnect_ = null))
    }
    close() {
        this.isClosed_ || (this.log_("Longpoll is being closed."),
        this.shutdown_())
    }
    send(e) {
        const i = Ze(e);
        this.bytesSent += i.length,
        this.stats_.incrementCounter("bytes_sent", i.length);
        const r = yy(i)
          , o = _0(r, pA);
        for (let c = 0; c < o.length; c++)
            this.scriptTagHolder.enqueueSegment(this.curSegmentNum, o.length, o[c]),
            this.curSegmentNum++
    }
    addDisconnectPingFrame(e, i) {
        this.myDisconnFrame = document.createElement("iframe");
        const r = {};
        r[hA] = "t",
        r[O0] = e,
        r[I0] = i,
        this.myDisconnFrame.src = this.urlFn(r),
        this.myDisconnFrame.style.display = "none",
        document.body.appendChild(this.myDisconnFrame)
    }
    incrementIncomingBytes_(e) {
        const i = Ze(e).length;
        this.bytesReceived += i,
        this.stats_.incrementCounter("bytes_received", i)
    }
}
class ah {
    constructor(e, i, r, o) {
        this.onDisconnect = r,
        this.urlFn = o,
        this.outstandingRequests = new Set,
        this.pendingSegs = [],
        this.currentSerial = Math.floor(Math.random() * 1e8),
        this.sendNewPolls = !0;
        {
            this.uniqueCallbackIdentifier = qR(),
            window[lA + this.uniqueCallbackIdentifier] = e,
            window[oA + this.uniqueCallbackIdentifier] = i,
            this.myIFrame = ah.createIFrame_();
            let c = "";
            this.myIFrame.src && this.myIFrame.src.substr(0, 11) === "javascript:" && (c = '<script>document.domain="' + document.domain + '";<\/script>');
            const f = "<html><body>" + c + "</body></html>";
            try {
                this.myIFrame.doc.open(),
                this.myIFrame.doc.write(f),
                this.myIFrame.doc.close()
            } catch (h) {
                mt("frame writing exception"),
                h.stack && mt(h.stack),
                mt(h)
            }
        }
    }
    static createIFrame_() {
        const e = document.createElement("iframe");
        if (e.style.display = "none",
        document.body) {
            document.body.appendChild(e);
            try {
                e.contentWindow.document || mt("No IE domain setting required")
            } catch {
                const r = document.domain;
                e.src = "javascript:void((function(){document.open();document.domain='" + r + "';document.close();})())"
            }
        } else
            throw "Document body has not initialized. Wait to initialize Firebase until after the document is ready.";
        return e.contentDocument ? e.doc = e.contentDocument : e.contentWindow ? e.doc = e.contentWindow.document : e.document && (e.doc = e.document),
        e
    }
    close() {
        this.alive = !1,
        this.myIFrame && (this.myIFrame.doc.body.textContent = "",
        setTimeout( () => {
            this.myIFrame !== null && (document.body.removeChild(this.myIFrame),
            this.myIFrame = null)
        }
        , Math.floor(0)));
        const e = this.onDisconnect;
        e && (this.onDisconnect = null,
        e())
    }
    startLongPoll(e, i) {
        for (this.myID = e,
        this.myPW = i,
        this.alive = !0; this.newRequest_(); )
            ;
    }
    newRequest_() {
        if (this.alive && this.sendNewPolls && this.outstandingRequests.size < (this.pendingSegs.length > 0 ? 2 : 1)) {
            this.currentSerial++;
            const e = {};
            e[O0] = this.myID,
            e[I0] = this.myPW,
            e[D0] = this.currentSerial;
            let i = this.urlFn(e)
              , r = ""
              , o = 0;
            for (; this.pendingSegs.length > 0 && this.pendingSegs[0].d.length + k0 + r.length <= M0; ) {
                const f = this.pendingSegs.shift();
                r = r + "&" + uA + o + "=" + f.seg + "&" + dA + o + "=" + f.ts + "&" + fA + o + "=" + f.d,
                o++
            }
            return i = i + r,
            this.addLongPollTag_(i, this.currentSerial),
            !0
        } else
            return !1
    }
    enqueueSegment(e, i, r) {
        this.pendingSegs.push({
            seg: e,
            ts: i,
            d: r
        }),
        this.alive && this.newRequest_()
    }
    addLongPollTag_(e, i) {
        this.outstandingRequests.add(i);
        const r = () => {
            this.outstandingRequests.delete(i),
            this.newRequest_()
        }
          , o = setTimeout(r, Math.floor(mA))
          , c = () => {
            clearTimeout(o),
            r()
        }
        ;
        this.addTag(e, c)
    }
    addTag(e, i) {
        setTimeout( () => {
            try {
                if (!this.sendNewPolls)
                    return;
                const r = this.myIFrame.doc.createElement("script");
                r.type = "text/javascript",
                r.async = !0,
                r.src = e,
                r.onload = r.onreadystatechange = function() {
                    const o = r.readyState;
                    (!o || o === "loaded" || o === "complete") && (r.onload = r.onreadystatechange = null,
                    r.parentNode && r.parentNode.removeChild(r),
                    i())
                }
                ,
                r.onerror = () => {
                    mt("Long-poll script failed to load: " + e),
                    this.sendNewPolls = !1,
                    this.close()
                }
                ,
                this.myIFrame.doc.body.appendChild(r)
            } catch {}
        }
        , Math.floor(1))
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const _A = 16384
  , vA = 45e3;
let Fo = null;
typeof MozWebSocket < "u" ? Fo = MozWebSocket : typeof WebSocket < "u" && (Fo = WebSocket);
class nn {
    constructor(e, i, r, o, c, f, h) {
        this.connId = e,
        this.applicationId = r,
        this.appCheckToken = o,
        this.authToken = c,
        this.keepaliveTimer = null,
        this.frames = null,
        this.totalFrames = 0,
        this.bytesSent = 0,
        this.bytesReceived = 0,
        this.log_ = il(this.connId),
        this.stats_ = sh(i),
        this.connURL = nn.connectionURL_(i, f, h, o, r),
        this.nodeAdmin = i.nodeAdmin
    }
    static connectionURL_(e, i, r, o, c) {
        const f = {};
        return f[y0] = ih,
        typeof location < "u" && location.hostname && C0.test(location.hostname) && (f[b0] = S0),
        i && (f[E0] = i),
        r && (f[T0] = r),
        o && (f[_f] = o),
        c && (f[w0] = c),
        x0(e, N0, f)
    }
    open(e, i) {
        this.onDisconnect = i,
        this.onMessage = e,
        this.log_("Websocket connecting to " + this.connURL),
        this.everConnected_ = !1,
        es.set("previous_websocket_failure", !0);
        try {
            let r;
            tT(),
            this.mySock = new Fo(this.connURL,[],r)
        } catch (r) {
            this.log_("Error instantiating WebSocket.");
            const o = r.message || r.data;
            o && this.log_(o),
            this.onClosed_();
            return
        }
        this.mySock.onopen = () => {
            this.log_("Websocket connected."),
            this.everConnected_ = !0
        }
        ,
        this.mySock.onclose = () => {
            this.log_("Websocket connection was disconnected."),
            this.mySock = null,
            this.onClosed_()
        }
        ,
        this.mySock.onmessage = r => {
            this.handleIncomingFrame(r)
        }
        ,
        this.mySock.onerror = r => {
            this.log_("WebSocket error.  Closing connection.");
            const o = r.message || r.data;
            o && this.log_(o),
            this.onClosed_()
        }
    }
    start() {}
    static forceDisallow() {
        nn.forceDisallow_ = !0
    }
    static isAvailable() {
        let e = !1;
        if (typeof navigator < "u" && navigator.userAgent) {
            const i = /Android ([0-9]{0,}\.[0-9]{0,})/
              , r = navigator.userAgent.match(i);
            r && r.length > 1 && parseFloat(r[1]) < 4.4 && (e = !0)
        }
        return !e && Fo !== null && !nn.forceDisallow_
    }
    static previouslyFailed() {
        return es.isInMemoryStorage || es.get("previous_websocket_failure") === !0
    }
    markConnectionHealthy() {
        es.remove("previous_websocket_failure")
    }
    appendFrame_(e) {
        if (this.frames.push(e),
        this.frames.length === this.totalFrames) {
            const i = this.frames.join("");
            this.frames = null;
            const r = Ur(i);
            this.onMessage(r)
        }
    }
    handleNewFrameCount_(e) {
        this.totalFrames = e,
        this.frames = []
    }
    extractFrameCount_(e) {
        if (Y(this.frames === null, "We already have a frame buffer"),
        e.length <= 6) {
            const i = Number(e);
            if (!isNaN(i))
                return this.handleNewFrameCount_(i),
                null
        }
        return this.handleNewFrameCount_(1),
        e
    }
    handleIncomingFrame(e) {
        if (this.mySock === null)
            return;
        const i = e.data;
        if (this.bytesReceived += i.length,
        this.stats_.incrementCounter("bytes_received", i.length),
        this.resetKeepAlive(),
        this.frames !== null)
            this.appendFrame_(i);
        else {
            const r = this.extractFrameCount_(i);
            r !== null && this.appendFrame_(r)
        }
    }
    send(e) {
        this.resetKeepAlive();
        const i = Ze(e);
        this.bytesSent += i.length,
        this.stats_.incrementCounter("bytes_sent", i.length);
        const r = _0(i, _A);
        r.length > 1 && this.sendString_(String(r.length));
        for (let o = 0; o < r.length; o++)
            this.sendString_(r[o])
    }
    shutdown_() {
        this.isClosed_ = !0,
        this.keepaliveTimer && (clearInterval(this.keepaliveTimer),
        this.keepaliveTimer = null),
        this.mySock && (this.mySock.close(),
        this.mySock = null)
    }
    onClosed_() {
        this.isClosed_ || (this.log_("WebSocket is closing itself"),
        this.shutdown_(),
        this.onDisconnect && (this.onDisconnect(this.everConnected_),
        this.onDisconnect = null))
    }
    close() {
        this.isClosed_ || (this.log_("WebSocket is being closed"),
        this.shutdown_())
    }
    resetKeepAlive() {
        clearInterval(this.keepaliveTimer),
        this.keepaliveTimer = setInterval( () => {
            this.mySock && this.sendString_("0"),
            this.resetKeepAlive()
        }
        , Math.floor(vA))
    }
    sendString_(e) {
        try {
            this.mySock.send(e)
        } catch (i) {
            this.log_("Exception thrown from WebSocket.send():", i.message || i.data, "Closing connection."),
            setTimeout(this.onClosed_.bind(this), 0)
        }
    }
}
nn.responsesRequiredToBeHealthy = 2;
nn.healthyTimeout = 3e4;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Br {
    static get ALL_TRANSPORTS() {
        return [Zs, nn]
    }
    static get IS_TRANSPORT_INITIALIZED() {
        return this.globalTransportInitialized_
    }
    constructor(e) {
        this.initTransports_(e)
    }
    initTransports_(e) {
        const i = nn && nn.isAvailable();
        let r = i && !nn.previouslyFailed();
        if (e.webSocketOnly && (i || Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),
        r = !0),
        r)
            this.transports_ = [nn];
        else {
            const o = this.transports_ = [];
            for (const c of Br.ALL_TRANSPORTS)
                c && c.isAvailable() && o.push(c);
            Br.globalTransportInitialized_ = !0
        }
    }
    initialTransport() {
        if (this.transports_.length > 0)
            return this.transports_[0];
        throw new Error("No transports available")
    }
    upgradeTransport() {
        return this.transports_.length > 1 ? this.transports_[1] : null
    }
}
Br.globalTransportInitialized_ = !1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const yA = 6e4
  , EA = 5e3
  , bA = 10 * 1024
  , SA = 100 * 1024
  , Xd = "t"
  , Sv = "d"
  , CA = "s"
  , Cv = "r"
  , TA = "e"
  , Tv = "o"
  , wv = "a"
  , Nv = "n"
  , Rv = "p"
  , wA = "h";
class NA {
    constructor(e, i, r, o, c, f, h, p, m, E) {
        this.id = e,
        this.repoInfo_ = i,
        this.applicationId_ = r,
        this.appCheckToken_ = o,
        this.authToken_ = c,
        this.onMessage_ = f,
        this.onReady_ = h,
        this.onDisconnect_ = p,
        this.onKill_ = m,
        this.lastSessionId = E,
        this.connectionCount = 0,
        this.pendingDataMessages = [],
        this.state_ = 0,
        this.log_ = il("c:" + this.id + ":"),
        this.transportManager_ = new Br(i),
        this.log_("Connection created"),
        this.start_()
    }
    start_() {
        const e = this.transportManager_.initialTransport();
        this.conn_ = new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),
        this.primaryResponsesRequired_ = e.responsesRequiredToBeHealthy || 0;
        const i = this.connReceiver_(this.conn_)
          , r = this.disconnReceiver_(this.conn_);
        this.tx_ = this.conn_,
        this.rx_ = this.conn_,
        this.secondaryConn_ = null,
        this.isHealthy_ = !1,
        setTimeout( () => {
            this.conn_ && this.conn_.open(i, r)
        }
        , Math.floor(0));
        const o = e.healthyTimeout || 0;
        o > 0 && (this.healthyTimeout_ = Dr( () => {
            this.healthyTimeout_ = null,
            this.isHealthy_ || (this.conn_ && this.conn_.bytesReceived > SA ? (this.log_("Connection exceeded healthy timeout but has received " + this.conn_.bytesReceived + " bytes.  Marking connection healthy."),
            this.isHealthy_ = !0,
            this.conn_.markConnectionHealthy()) : this.conn_ && this.conn_.bytesSent > bA ? this.log_("Connection exceeded healthy timeout but has sent " + this.conn_.bytesSent + " bytes.  Leaving connection alive.") : (this.log_("Closing unhealthy connection after timeout."),
            this.close()))
        }
        , Math.floor(o)))
    }
    nextTransportId_() {
        return "c:" + this.id + ":" + this.connectionCount++
    }
    disconnReceiver_(e) {
        return i => {
            e === this.conn_ ? this.onConnectionLost_(i) : e === this.secondaryConn_ ? (this.log_("Secondary connection lost."),
            this.onSecondaryConnectionLost_()) : this.log_("closing an old connection")
        }
    }
    connReceiver_(e) {
        return i => {
            this.state_ !== 2 && (e === this.rx_ ? this.onPrimaryMessageReceived_(i) : e === this.secondaryConn_ ? this.onSecondaryMessageReceived_(i) : this.log_("message on old connection"))
        }
    }
    sendRequest(e) {
        const i = {
            t: "d",
            d: e
        };
        this.sendData_(i)
    }
    tryCleanupConnection() {
        this.tx_ === this.secondaryConn_ && this.rx_ === this.secondaryConn_ && (this.log_("cleaning up and promoting a connection: " + this.secondaryConn_.connId),
        this.conn_ = this.secondaryConn_,
        this.secondaryConn_ = null)
    }
    onSecondaryControl_(e) {
        if (Xd in e) {
            const i = e[Xd];
            i === wv ? this.upgradeIfSecondaryHealthy_() : i === Cv ? (this.log_("Got a reset on secondary, closing it"),
            this.secondaryConn_.close(),
            (this.tx_ === this.secondaryConn_ || this.rx_ === this.secondaryConn_) && this.close()) : i === Tv && (this.log_("got pong on secondary."),
            this.secondaryResponsesRequired_--,
            this.upgradeIfSecondaryHealthy_())
        }
    }
    onSecondaryMessageReceived_(e) {
        const i = Sr("t", e)
          , r = Sr("d", e);
        if (i === "c")
            this.onSecondaryControl_(r);
        else if (i === "d")
            this.pendingDataMessages.push(r);
        else
            throw new Error("Unknown protocol layer: " + i)
    }
    upgradeIfSecondaryHealthy_() {
        this.secondaryResponsesRequired_ <= 0 ? (this.log_("Secondary connection is healthy."),
        this.isHealthy_ = !0,
        this.secondaryConn_.markConnectionHealthy(),
        this.proceedWithUpgrade_()) : (this.log_("sending ping on secondary."),
        this.secondaryConn_.send({
            t: "c",
            d: {
                t: Rv,
                d: {}
            }
        }))
    }
    proceedWithUpgrade_() {
        this.secondaryConn_.start(),
        this.log_("sending client ack on secondary"),
        this.secondaryConn_.send({
            t: "c",
            d: {
                t: wv,
                d: {}
            }
        }),
        this.log_("Ending transmission on primary"),
        this.conn_.send({
            t: "c",
            d: {
                t: Nv,
                d: {}
            }
        }),
        this.tx_ = this.secondaryConn_,
        this.tryCleanupConnection()
    }
    onPrimaryMessageReceived_(e) {
        const i = Sr("t", e)
          , r = Sr("d", e);
        i === "c" ? this.onControl_(r) : i === "d" && this.onDataMessage_(r)
    }
    onDataMessage_(e) {
        this.onPrimaryResponse_(),
        this.onMessage_(e)
    }
    onPrimaryResponse_() {
        this.isHealthy_ || (this.primaryResponsesRequired_--,
        this.primaryResponsesRequired_ <= 0 && (this.log_("Primary connection is healthy."),
        this.isHealthy_ = !0,
        this.conn_.markConnectionHealthy()))
    }
    onControl_(e) {
        const i = Sr(Xd, e);
        if (Sv in e) {
            const r = e[Sv];
            if (i === wA) {
                const o = Object.assign({}, r);
                this.repoInfo_.isUsingEmulator && (o.h = this.repoInfo_.host),
                this.onHandshake_(o)
            } else if (i === Nv) {
                this.log_("recvd end transmission on primary"),
                this.rx_ = this.secondaryConn_;
                for (let o = 0; o < this.pendingDataMessages.length; ++o)
                    this.onDataMessage_(this.pendingDataMessages[o]);
                this.pendingDataMessages = [],
                this.tryCleanupConnection()
            } else
                i === CA ? this.onConnectionShutdown_(r) : i === Cv ? this.onReset_(r) : i === TA ? gf("Server Error: " + r) : i === Tv ? (this.log_("got pong on primary."),
                this.onPrimaryResponse_(),
                this.sendPingOnPrimaryIfNecessary_()) : gf("Unknown control packet command: " + i)
        }
    }
    onHandshake_(e) {
        const i = e.ts
          , r = e.v
          , o = e.h;
        this.sessionId = e.s,
        this.repoInfo_.host = o,
        this.state_ === 0 && (this.conn_.start(),
        this.onConnectionEstablished_(this.conn_, i),
        ih !== r && Rt("Protocol version mismatch detected"),
        this.tryStartUpgrade_())
    }
    tryStartUpgrade_() {
        const e = this.transportManager_.upgradeTransport();
        e && this.startUpgrade_(e)
    }
    startUpgrade_(e) {
        this.secondaryConn_ = new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),
        this.secondaryResponsesRequired_ = e.responsesRequiredToBeHealthy || 0;
        const i = this.connReceiver_(this.secondaryConn_)
          , r = this.disconnReceiver_(this.secondaryConn_);
        this.secondaryConn_.open(i, r),
        Dr( () => {
            this.secondaryConn_ && (this.log_("Timed out trying to upgrade."),
            this.secondaryConn_.close())
        }
        , Math.floor(yA))
    }
    onReset_(e) {
        this.log_("Reset packet received.  New host: " + e),
        this.repoInfo_.host = e,
        this.state_ === 1 ? this.close() : (this.closeConnections_(),
        this.start_())
    }
    onConnectionEstablished_(e, i) {
        this.log_("Realtime connection established."),
        this.conn_ = e,
        this.state_ = 1,
        this.onReady_ && (this.onReady_(i, this.sessionId),
        this.onReady_ = null),
        this.primaryResponsesRequired_ === 0 ? (this.log_("Primary connection is healthy."),
        this.isHealthy_ = !0) : Dr( () => {
            this.sendPingOnPrimaryIfNecessary_()
        }
        , Math.floor(EA))
    }
    sendPingOnPrimaryIfNecessary_() {
        !this.isHealthy_ && this.state_ === 1 && (this.log_("sending ping on primary."),
        this.sendData_({
            t: "c",
            d: {
                t: Rv,
                d: {}
            }
        }))
    }
    onSecondaryConnectionLost_() {
        const e = this.secondaryConn_;
        this.secondaryConn_ = null,
        (this.tx_ === e || this.rx_ === e) && this.close()
    }
    onConnectionLost_(e) {
        this.conn_ = null,
        !e && this.state_ === 0 ? (this.log_("Realtime connection failed."),
        this.repoInfo_.isCacheableHost() && (es.remove("host:" + this.repoInfo_.host),
        this.repoInfo_.internalHost = this.repoInfo_.host)) : this.state_ === 1 && this.log_("Realtime connection lost."),
        this.close()
    }
    onConnectionShutdown_(e) {
        this.log_("Connection shutdown command received. Shutting down..."),
        this.onKill_ && (this.onKill_(e),
        this.onKill_ = null),
        this.onDisconnect_ = null,
        this.close()
    }
    sendData_(e) {
        if (this.state_ !== 1)
            throw "Connection is not connected";
        this.tx_.send(e)
    }
    close() {
        this.state_ !== 2 && (this.log_("Closing realtime connection."),
        this.state_ = 2,
        this.closeConnections_(),
        this.onDisconnect_ && (this.onDisconnect_(),
        this.onDisconnect_ = null))
    }
    closeConnections_() {
        this.log_("Shutting down all connections"),
        this.conn_ && (this.conn_.close(),
        this.conn_ = null),
        this.secondaryConn_ && (this.secondaryConn_.close(),
        this.secondaryConn_ = null),
        this.healthyTimeout_ && (clearTimeout(this.healthyTimeout_),
        this.healthyTimeout_ = null)
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class L0 {
    put(e, i, r, o) {}
    merge(e, i, r, o) {}
    refreshAuthToken(e) {}
    refreshAppCheckToken(e) {}
    onDisconnectPut(e, i, r) {}
    onDisconnectMerge(e, i, r) {}
    onDisconnectCancel(e, i) {}
    reportStats(e) {}
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class j0 {
    constructor(e) {
        this.allowedEvents_ = e,
        this.listeners_ = {},
        Y(Array.isArray(e) && e.length > 0, "Requires a non-empty array")
    }
    trigger(e, ...i) {
        if (Array.isArray(this.listeners_[e])) {
            const r = [...this.listeners_[e]];
            for (let o = 0; o < r.length; o++)
                r[o].callback.apply(r[o].context, i)
        }
    }
    on(e, i, r) {
        this.validateEventType_(e),
        this.listeners_[e] = this.listeners_[e] || [],
        this.listeners_[e].push({
            callback: i,
            context: r
        });
        const o = this.getInitialEvent(e);
        o && i.apply(r, o)
    }
    off(e, i, r) {
        this.validateEventType_(e);
        const o = this.listeners_[e] || [];
        for (let c = 0; c < o.length; c++)
            if (o[c].callback === i && (!r || r === o[c].context)) {
                o.splice(c, 1);
                return
            }
    }
    validateEventType_(e) {
        Y(this.allowedEvents_.find(i => i === e), "Unknown event: " + e)
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ko extends j0 {
    static getInstance() {
        return new Ko
    }
    constructor() {
        super(["online"]),
        this.online_ = !0,
        typeof window < "u" && typeof window.addEventListener < "u" && !Hf() && (window.addEventListener("online", () => {
            this.online_ || (this.online_ = !0,
            this.trigger("online", !0))
        }
        , !1),
        window.addEventListener("offline", () => {
            this.online_ && (this.online_ = !1,
            this.trigger("online", !1))
        }
        , !1))
    }
    getInitialEvent(e) {
        return Y(e === "online", "Unknown event type: " + e),
        [this.online_]
    }
    currentlyOnline() {
        return this.online_
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Av = 32
  , xv = 768;
class Me {
    constructor(e, i) {
        if (i === void 0) {
            this.pieces_ = e.split("/");
            let r = 0;
            for (let o = 0; o < this.pieces_.length; o++)
                this.pieces_[o].length > 0 && (this.pieces_[r] = this.pieces_[o],
                r++);
            this.pieces_.length = r,
            this.pieceNum_ = 0
        } else
            this.pieces_ = e,
            this.pieceNum_ = i
    }
    toString() {
        let e = "";
        for (let i = this.pieceNum_; i < this.pieces_.length; i++)
            this.pieces_[i] !== "" && (e += "/" + this.pieces_[i]);
        return e || "/"
    }
}
function Se() {
    return new Me("")
}
function _e(s) {
    return s.pieceNum_ >= s.pieces_.length ? null : s.pieces_[s.pieceNum_]
}
function Ri(s) {
    return s.pieces_.length - s.pieceNum_
}
function Le(s) {
    let e = s.pieceNum_;
    return e < s.pieces_.length && e++,
    new Me(s.pieces_,e)
}
function U0(s) {
    return s.pieceNum_ < s.pieces_.length ? s.pieces_[s.pieces_.length - 1] : null
}
function RA(s) {
    let e = "";
    for (let i = s.pieceNum_; i < s.pieces_.length; i++)
        s.pieces_[i] !== "" && (e += "/" + encodeURIComponent(String(s.pieces_[i])));
    return e || "/"
}
function P0(s, e=0) {
    return s.pieces_.slice(s.pieceNum_ + e)
}
function z0(s) {
    if (s.pieceNum_ >= s.pieces_.length)
        return null;
    const e = [];
    for (let i = s.pieceNum_; i < s.pieces_.length - 1; i++)
        e.push(s.pieces_[i]);
    return new Me(e,0)
}
function Je(s, e) {
    const i = [];
    for (let r = s.pieceNum_; r < s.pieces_.length; r++)
        i.push(s.pieces_[r]);
    if (e instanceof Me)
        for (let r = e.pieceNum_; r < e.pieces_.length; r++)
            i.push(e.pieces_[r]);
    else {
        const r = e.split("/");
        for (let o = 0; o < r.length; o++)
            r[o].length > 0 && i.push(r[o])
    }
    return new Me(i,0)
}
function me(s) {
    return s.pieceNum_ >= s.pieces_.length
}
function vt(s, e) {
    const i = _e(s)
      , r = _e(e);
    if (i === null)
        return e;
    if (i === r)
        return vt(Le(s), Le(e));
    throw new Error("INTERNAL ERROR: innerPath (" + e + ") is not within outerPath (" + s + ")")
}
function H0(s, e) {
    if (Ri(s) !== Ri(e))
        return !1;
    for (let i = s.pieceNum_, r = e.pieceNum_; i <= s.pieces_.length; i++,
    r++)
        if (s.pieces_[i] !== e.pieces_[r])
            return !1;
    return !0
}
function an(s, e) {
    let i = s.pieceNum_
      , r = e.pieceNum_;
    if (Ri(s) > Ri(e))
        return !1;
    for (; i < s.pieces_.length; ) {
        if (s.pieces_[i] !== e.pieces_[r])
            return !1;
        ++i,
        ++r
    }
    return !0
}
class AA {
    constructor(e, i) {
        this.errorPrefix_ = i,
        this.parts_ = P0(e, 0),
        this.byteLength_ = Math.max(1, this.parts_.length);
        for (let r = 0; r < this.parts_.length; r++)
            this.byteLength_ += lc(this.parts_[r]);
        B0(this)
    }
}
function xA(s, e) {
    s.parts_.length > 0 && (s.byteLength_ += 1),
    s.parts_.push(e),
    s.byteLength_ += lc(e),
    B0(s)
}
function OA(s) {
    const e = s.parts_.pop();
    s.byteLength_ -= lc(e),
    s.parts_.length > 0 && (s.byteLength_ -= 1)
}
function B0(s) {
    if (s.byteLength_ > xv)
        throw new Error(s.errorPrefix_ + "has a key path longer than " + xv + " bytes (" + s.byteLength_ + ").");
    if (s.parts_.length > Av)
        throw new Error(s.errorPrefix_ + "path specified exceeds the maximum depth that can be written (" + Av + ") or object contains a cycle " + Zi(s))
}
function Zi(s) {
    return s.parts_.length === 0 ? "" : "in property '" + s.parts_.join(".") + "'"
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rh extends j0 {
    static getInstance() {
        return new rh
    }
    constructor() {
        super(["visible"]);
        let e, i;
        typeof document < "u" && typeof document.addEventListener < "u" && (typeof document.hidden < "u" ? (i = "visibilitychange",
        e = "hidden") : typeof document.mozHidden < "u" ? (i = "mozvisibilitychange",
        e = "mozHidden") : typeof document.msHidden < "u" ? (i = "msvisibilitychange",
        e = "msHidden") : typeof document.webkitHidden < "u" && (i = "webkitvisibilitychange",
        e = "webkitHidden")),
        this.visible_ = !0,
        i && document.addEventListener(i, () => {
            const r = !document[e];
            r !== this.visible_ && (this.visible_ = r,
            this.trigger("visible", r))
        }
        , !1)
    }
    getInitialEvent(e) {
        return Y(e === "visible", "Unknown event type: " + e),
        [this.visible_]
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Cr = 1e3
  , IA = 60 * 5 * 1e3
  , Ov = 30 * 1e3
  , DA = 1.3
  , MA = 3e4
  , kA = "server_kill"
  , Iv = 3;
class Hn extends L0 {
    constructor(e, i, r, o, c, f, h, p) {
        if (super(),
        this.repoInfo_ = e,
        this.applicationId_ = i,
        this.onDataUpdate_ = r,
        this.onConnectStatus_ = o,
        this.onServerInfoUpdate_ = c,
        this.authTokenProvider_ = f,
        this.appCheckTokenProvider_ = h,
        this.authOverride_ = p,
        this.id = Hn.nextPersistentConnectionId_++,
        this.log_ = il("p:" + this.id + ":"),
        this.interruptReasons_ = {},
        this.listens = new Map,
        this.outstandingPuts_ = [],
        this.outstandingGets_ = [],
        this.outstandingPutCount_ = 0,
        this.outstandingGetCount_ = 0,
        this.onDisconnectRequestQueue_ = [],
        this.connected_ = !1,
        this.reconnectDelay_ = Cr,
        this.maxReconnectDelay_ = IA,
        this.securityDebugCallback_ = null,
        this.lastSessionId = null,
        this.establishConnectionTimer_ = null,
        this.visible_ = !1,
        this.requestCBHash_ = {},
        this.requestNumber_ = 0,
        this.realtime_ = null,
        this.authToken_ = null,
        this.appCheckToken_ = null,
        this.forceTokenRefresh_ = !1,
        this.invalidAuthTokenCount_ = 0,
        this.invalidAppCheckTokenCount_ = 0,
        this.firstConnection_ = !0,
        this.lastConnectionAttemptTime_ = null,
        this.lastConnectionEstablishedTime_ = null,
        p)
            throw new Error("Auth override specified in options, but not supported on non Node.js platforms");
        rh.getInstance().on("visible", this.onVisible_, this),
        e.host.indexOf("fblocal") === -1 && Ko.getInstance().on("online", this.onOnline_, this)
    }
    sendRequest(e, i, r) {
        const o = ++this.requestNumber_
          , c = {
            r: o,
            a: e,
            b: i
        };
        this.log_(Ze(c)),
        Y(this.connected_, "sendRequest call when we're not connected not allowed."),
        this.realtime_.sendRequest(c),
        r && (this.requestCBHash_[o] = r)
    }
    get(e) {
        this.initConnection_();
        const i = new rc
          , o = {
            action: "g",
            request: {
                p: e._path.toString(),
                q: e._queryObject
            },
            onComplete: f => {
                const h = f.d;
                f.s === "ok" ? i.resolve(h) : i.reject(h)
            }
        };
        this.outstandingGets_.push(o),
        this.outstandingGetCount_++;
        const c = this.outstandingGets_.length - 1;
        return this.connected_ && this.sendGet_(c),
        i.promise
    }
    listen(e, i, r, o) {
        this.initConnection_();
        const c = e._queryIdentifier
          , f = e._path.toString();
        this.log_("Listen called for " + f + " " + c),
        this.listens.has(f) || this.listens.set(f, new Map),
        Y(e._queryParams.isDefault() || !e._queryParams.loadsAllData(), "listen() called for non-default but complete query"),
        Y(!this.listens.get(f).has(c), "listen() called twice for same path/queryId.");
        const h = {
            onComplete: o,
            hashFn: i,
            query: e,
            tag: r
        };
        this.listens.get(f).set(c, h),
        this.connected_ && this.sendListen_(h)
    }
    sendGet_(e) {
        const i = this.outstandingGets_[e];
        this.sendRequest("g", i.request, r => {
            delete this.outstandingGets_[e],
            this.outstandingGetCount_--,
            this.outstandingGetCount_ === 0 && (this.outstandingGets_ = []),
            i.onComplete && i.onComplete(r)
        }
        )
    }
    sendListen_(e) {
        const i = e.query
          , r = i._path.toString()
          , o = i._queryIdentifier;
        this.log_("Listen on " + r + " for " + o);
        const c = {
            p: r
        }
          , f = "q";
        e.tag && (c.q = i._queryObject,
        c.t = e.tag),
        c.h = e.hashFn(),
        this.sendRequest(f, c, h => {
            const p = h.d
              , m = h.s;
            Hn.warnOnListenWarnings_(p, i),
            (this.listens.get(r) && this.listens.get(r).get(o)) === e && (this.log_("listen response", h),
            m !== "ok" && this.removeListen_(r, o),
            e.onComplete && e.onComplete(m, p))
        }
        )
    }
    static warnOnListenWarnings_(e, i) {
        if (e && typeof e == "object" && Yn(e, "w")) {
            const r = sa(e, "w");
            if (Array.isArray(r) && ~r.indexOf("no_index")) {
                const o = '".indexOn": "' + i._queryParams.getIndex().toString() + '"'
                  , c = i._path.toString();
                Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)
            }
        }
    }
    refreshAuthToken(e) {
        this.authToken_ = e,
        this.log_("Auth token refreshed"),
        this.authToken_ ? this.tryAuth() : this.connected_ && this.sendRequest("unauth", {}, () => {}
        ),
        this.reduceReconnectDelayIfAdminCredential_(e)
    }
    reduceReconnectDelayIfAdminCredential_(e) {
        (e && e.length === 40 || oT(e)) && (this.log_("Admin auth credential detected.  Reducing max reconnect time."),
        this.maxReconnectDelay_ = Ov)
    }
    refreshAppCheckToken(e) {
        this.appCheckToken_ = e,
        this.log_("App check token refreshed"),
        this.appCheckToken_ ? this.tryAppCheck() : this.connected_ && this.sendRequest("unappeck", {}, () => {}
        )
    }
    tryAuth() {
        if (this.connected_ && this.authToken_) {
            const e = this.authToken_
              , i = lT(e) ? "auth" : "gauth"
              , r = {
                cred: e
            };
            this.authOverride_ === null ? r.noauth = !0 : typeof this.authOverride_ == "object" && (r.authvar = this.authOverride_),
            this.sendRequest(i, r, o => {
                const c = o.s
                  , f = o.d || "error";
                this.authToken_ === e && (c === "ok" ? this.invalidAuthTokenCount_ = 0 : this.onAuthRevoked_(c, f))
            }
            )
        }
    }
    tryAppCheck() {
        this.connected_ && this.appCheckToken_ && this.sendRequest("appcheck", {
            token: this.appCheckToken_
        }, e => {
            const i = e.s
              , r = e.d || "error";
            i === "ok" ? this.invalidAppCheckTokenCount_ = 0 : this.onAppCheckRevoked_(i, r)
        }
        )
    }
    unlisten(e, i) {
        const r = e._path.toString()
          , o = e._queryIdentifier;
        this.log_("Unlisten called for " + r + " " + o),
        Y(e._queryParams.isDefault() || !e._queryParams.loadsAllData(), "unlisten() called for non-default but complete query"),
        this.removeListen_(r, o) && this.connected_ && this.sendUnlisten_(r, o, e._queryObject, i)
    }
    sendUnlisten_(e, i, r, o) {
        this.log_("Unlisten on " + e + " for " + i);
        const c = {
            p: e
        }
          , f = "n";
        o && (c.q = r,
        c.t = o),
        this.sendRequest(f, c)
    }
    onDisconnectPut(e, i, r) {
        this.initConnection_(),
        this.connected_ ? this.sendOnDisconnect_("o", e, i, r) : this.onDisconnectRequestQueue_.push({
            pathString: e,
            action: "o",
            data: i,
            onComplete: r
        })
    }
    onDisconnectMerge(e, i, r) {
        this.initConnection_(),
        this.connected_ ? this.sendOnDisconnect_("om", e, i, r) : this.onDisconnectRequestQueue_.push({
            pathString: e,
            action: "om",
            data: i,
            onComplete: r
        })
    }
    onDisconnectCancel(e, i) {
        this.initConnection_(),
        this.connected_ ? this.sendOnDisconnect_("oc", e, null, i) : this.onDisconnectRequestQueue_.push({
            pathString: e,
            action: "oc",
            data: null,
            onComplete: i
        })
    }
    sendOnDisconnect_(e, i, r, o) {
        const c = {
            p: i,
            d: r
        };
        this.log_("onDisconnect " + e, c),
        this.sendRequest(e, c, f => {
            o && setTimeout( () => {
                o(f.s, f.d)
            }
            , Math.floor(0))
        }
        )
    }
    put(e, i, r, o) {
        this.putInternal("p", e, i, r, o)
    }
    merge(e, i, r, o) {
        this.putInternal("m", e, i, r, o)
    }
    putInternal(e, i, r, o, c) {
        this.initConnection_();
        const f = {
            p: i,
            d: r
        };
        c !== void 0 && (f.h = c),
        this.outstandingPuts_.push({
            action: e,
            request: f,
            onComplete: o
        }),
        this.outstandingPutCount_++;
        const h = this.outstandingPuts_.length - 1;
        this.connected_ ? this.sendPut_(h) : this.log_("Buffering put: " + i)
    }
    sendPut_(e) {
        const i = this.outstandingPuts_[e].action
          , r = this.outstandingPuts_[e].request
          , o = this.outstandingPuts_[e].onComplete;
        this.outstandingPuts_[e].queued = this.connected_,
        this.sendRequest(i, r, c => {
            this.log_(i + " response", c),
            delete this.outstandingPuts_[e],
            this.outstandingPutCount_--,
            this.outstandingPutCount_ === 0 && (this.outstandingPuts_ = []),
            o && o(c.s, c.d)
        }
        )
    }
    reportStats(e) {
        if (this.connected_) {
            const i = {
                c: e
            };
            this.log_("reportStats", i),
            this.sendRequest("s", i, r => {
                if (r.s !== "ok") {
                    const c = r.d;
                    this.log_("reportStats", "Error sending stats: " + c)
                }
            }
            )
        }
    }
    onDataMessage_(e) {
        if ("r"in e) {
            this.log_("from server: " + Ze(e));
            const i = e.r
              , r = this.requestCBHash_[i];
            r && (delete this.requestCBHash_[i],
            r(e.b))
        } else {
            if ("error"in e)
                throw "A server-side error has occurred: " + e.error;
            "a"in e && this.onDataPush_(e.a, e.b)
        }
    }
    onDataPush_(e, i) {
        this.log_("handleServerMessage", e, i),
        e === "d" ? this.onDataUpdate_(i.p, i.d, !1, i.t) : e === "m" ? this.onDataUpdate_(i.p, i.d, !0, i.t) : e === "c" ? this.onListenRevoked_(i.p, i.q) : e === "ac" ? this.onAuthRevoked_(i.s, i.d) : e === "apc" ? this.onAppCheckRevoked_(i.s, i.d) : e === "sd" ? this.onSecurityDebugPacket_(i) : gf("Unrecognized action received from server: " + Ze(e) + `
Are you using the latest client?`)
    }
    onReady_(e, i) {
        this.log_("connection ready"),
        this.connected_ = !0,
        this.lastConnectionEstablishedTime_ = new Date().getTime(),
        this.handleTimestamp_(e),
        this.lastSessionId = i,
        this.firstConnection_ && this.sendConnectStats_(),
        this.restoreState_(),
        this.firstConnection_ = !1,
        this.onConnectStatus_(!0)
    }
    scheduleConnect_(e) {
        Y(!this.realtime_, "Scheduling a connect when we're already connected/ing?"),
        this.establishConnectionTimer_ && clearTimeout(this.establishConnectionTimer_),
        this.establishConnectionTimer_ = setTimeout( () => {
            this.establishConnectionTimer_ = null,
            this.establishConnection_()
        }
        , Math.floor(e))
    }
    initConnection_() {
        !this.realtime_ && this.firstConnection_ && this.scheduleConnect_(0)
    }
    onVisible_(e) {
        e && !this.visible_ && this.reconnectDelay_ === this.maxReconnectDelay_ && (this.log_("Window became visible.  Reducing delay."),
        this.reconnectDelay_ = Cr,
        this.realtime_ || this.scheduleConnect_(0)),
        this.visible_ = e
    }
    onOnline_(e) {
        e ? (this.log_("Browser went online."),
        this.reconnectDelay_ = Cr,
        this.realtime_ || this.scheduleConnect_(0)) : (this.log_("Browser went offline.  Killing connection."),
        this.realtime_ && this.realtime_.close())
    }
    onRealtimeDisconnect_() {
        if (this.log_("data client disconnected"),
        this.connected_ = !1,
        this.realtime_ = null,
        this.cancelSentTransactions_(),
        this.requestCBHash_ = {},
        this.shouldReconnect_()) {
            this.visible_ ? this.lastConnectionEstablishedTime_ && (new Date().getTime() - this.lastConnectionEstablishedTime_ > MA && (this.reconnectDelay_ = Cr),
            this.lastConnectionEstablishedTime_ = null) : (this.log_("Window isn't visible.  Delaying reconnect."),
            this.reconnectDelay_ = this.maxReconnectDelay_,
            this.lastConnectionAttemptTime_ = new Date().getTime());
            const e = Math.max(0, new Date().getTime() - this.lastConnectionAttemptTime_);
            let i = Math.max(0, this.reconnectDelay_ - e);
            i = Math.random() * i,
            this.log_("Trying to reconnect in " + i + "ms"),
            this.scheduleConnect_(i),
            this.reconnectDelay_ = Math.min(this.maxReconnectDelay_, this.reconnectDelay_ * DA)
        }
        this.onConnectStatus_(!1)
    }
    async establishConnection_() {
        if (this.shouldReconnect_()) {
            this.log_("Making a connection attempt"),
            this.lastConnectionAttemptTime_ = new Date().getTime(),
            this.lastConnectionEstablishedTime_ = null;
            const e = this.onDataMessage_.bind(this)
              , i = this.onReady_.bind(this)
              , r = this.onRealtimeDisconnect_.bind(this)
              , o = this.id + ":" + Hn.nextConnectionId_++
              , c = this.lastSessionId;
            let f = !1
              , h = null;
            const p = function() {
                h ? h.close() : (f = !0,
                r())
            }
              , m = function(b) {
                Y(h, "sendRequest call when we're not connected not allowed."),
                h.sendRequest(b)
            };
            this.realtime_ = {
                close: p,
                sendRequest: m
            };
            const E = this.forceTokenRefresh_;
            this.forceTokenRefresh_ = !1;
            try {
                const [b,y] = await Promise.all([this.authTokenProvider_.getToken(E), this.appCheckTokenProvider_.getToken(E)]);
                f ? mt("getToken() completed but was canceled") : (mt("getToken() completed. Creating connection."),
                this.authToken_ = b && b.accessToken,
                this.appCheckToken_ = y && y.token,
                h = new NA(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,A => {
                    Rt(A + " (" + this.repoInfo_.toString() + ")"),
                    this.interrupt(kA)
                }
                ,c))
            } catch (b) {
                this.log_("Failed to get token: " + b),
                f || (this.repoInfo_.nodeAdmin && Rt(b),
                p())
            }
        }
    }
    interrupt(e) {
        mt("Interrupting connection for reason: " + e),
        this.interruptReasons_[e] = !0,
        this.realtime_ ? this.realtime_.close() : (this.establishConnectionTimer_ && (clearTimeout(this.establishConnectionTimer_),
        this.establishConnectionTimer_ = null),
        this.connected_ && this.onRealtimeDisconnect_())
    }
    resume(e) {
        mt("Resuming connection for reason: " + e),
        delete this.interruptReasons_[e],
        lf(this.interruptReasons_) && (this.reconnectDelay_ = Cr,
        this.realtime_ || this.scheduleConnect_(0))
    }
    handleTimestamp_(e) {
        const i = e - new Date().getTime();
        this.onServerInfoUpdate_({
            serverTimeOffset: i
        })
    }
    cancelSentTransactions_() {
        for (let e = 0; e < this.outstandingPuts_.length; e++) {
            const i = this.outstandingPuts_[e];
            i && "h"in i.request && i.queued && (i.onComplete && i.onComplete("disconnect"),
            delete this.outstandingPuts_[e],
            this.outstandingPutCount_--)
        }
        this.outstandingPutCount_ === 0 && (this.outstandingPuts_ = [])
    }
    onListenRevoked_(e, i) {
        let r;
        i ? r = i.map(c => nh(c)).join("$") : r = "default";
        const o = this.removeListen_(e, r);
        o && o.onComplete && o.onComplete("permission_denied")
    }
    removeListen_(e, i) {
        const r = new Me(e).toString();
        let o;
        if (this.listens.has(r)) {
            const c = this.listens.get(r);
            o = c.get(i),
            c.delete(i),
            c.size === 0 && this.listens.delete(r)
        } else
            o = void 0;
        return o
    }
    onAuthRevoked_(e, i) {
        mt("Auth token revoked: " + e + "/" + i),
        this.authToken_ = null,
        this.forceTokenRefresh_ = !0,
        this.realtime_.close(),
        (e === "invalid_token" || e === "permission_denied") && (this.invalidAuthTokenCount_++,
        this.invalidAuthTokenCount_ >= Iv && (this.reconnectDelay_ = Ov,
        this.authTokenProvider_.notifyForInvalidToken()))
    }
    onAppCheckRevoked_(e, i) {
        mt("App check token revoked: " + e + "/" + i),
        this.appCheckToken_ = null,
        this.forceTokenRefresh_ = !0,
        (e === "invalid_token" || e === "permission_denied") && (this.invalidAppCheckTokenCount_++,
        this.invalidAppCheckTokenCount_ >= Iv && this.appCheckTokenProvider_.notifyForInvalidToken())
    }
    onSecurityDebugPacket_(e) {
        this.securityDebugCallback_ ? this.securityDebugCallback_(e) : "msg"in e && console.log("FIREBASE: " + e.msg.replace(`
`, `
FIREBASE: `))
    }
    restoreState_() {
        this.tryAuth(),
        this.tryAppCheck();
        for (const e of this.listens.values())
            for (const i of e.values())
                this.sendListen_(i);
        for (let e = 0; e < this.outstandingPuts_.length; e++)
            this.outstandingPuts_[e] && this.sendPut_(e);
        for (; this.onDisconnectRequestQueue_.length; ) {
            const e = this.onDisconnectRequestQueue_.shift();
            this.sendOnDisconnect_(e.action, e.pathString, e.data, e.onComplete)
        }
        for (let e = 0; e < this.outstandingGets_.length; e++)
            this.outstandingGets_[e] && this.sendGet_(e)
    }
    sendConnectStats_() {
        const e = {};
        let i = "js";
        e["sdk." + i + "." + h0.replace(/\./g, "-")] = 1,
        Hf() ? e["framework.cordova"] = 1 : Ny() && (e["framework.reactnative"] = 1),
        this.reportStats(e)
    }
    shouldReconnect_() {
        const e = Ko.getInstance().currentlyOnline();
        return lf(this.interruptReasons_) && e
    }
}
Hn.nextPersistentConnectionId_ = 0;
Hn.nextConnectionId_ = 0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fe {
    constructor(e, i) {
        this.name = e,
        this.node = i
    }
    static Wrap(e, i) {
        return new fe(e,i)
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fc {
    getCompare() {
        return this.compare.bind(this)
    }
    indexedValueChanged(e, i) {
        const r = new fe(la,e)
          , o = new fe(la,i);
        return this.compare(r, o) !== 0
    }
    minPost() {
        return fe.MIN
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let wo;
class q0 extends fc {
    static get __EMPTY_NODE() {
        return wo
    }
    static set __EMPTY_NODE(e) {
        wo = e
    }
    compare(e, i) {
        return _a(e.name, i.name)
    }
    isDefinedOn(e) {
        throw ha("KeyIndex.isDefinedOn not expected to be called.")
    }
    indexedValueChanged(e, i) {
        return !1
    }
    minPost() {
        return fe.MIN
    }
    maxPost() {
        return new fe(as,wo)
    }
    makePost(e, i) {
        return Y(typeof e == "string", "KeyIndex indexValue must always be a string."),
        new fe(e,wo)
    }
    toString() {
        return ".key"
    }
}
const ia = new q0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class No {
    constructor(e, i, r, o, c=null) {
        this.isReverse_ = o,
        this.resultGenerator_ = c,
        this.nodeStack_ = [];
        let f = 1;
        for (; !e.isEmpty(); )
            if (e = e,
            f = i ? r(e.key, i) : 1,
            o && (f *= -1),
            f < 0)
                this.isReverse_ ? e = e.left : e = e.right;
            else if (f === 0) {
                this.nodeStack_.push(e);
                break
            } else
                this.nodeStack_.push(e),
                this.isReverse_ ? e = e.right : e = e.left
    }
    getNext() {
        if (this.nodeStack_.length === 0)
            return null;
        let e = this.nodeStack_.pop(), i;
        if (this.resultGenerator_ ? i = this.resultGenerator_(e.key, e.value) : i = {
            key: e.key,
            value: e.value
        },
        this.isReverse_)
            for (e = e.left; !e.isEmpty(); )
                this.nodeStack_.push(e),
                e = e.right;
        else
            for (e = e.right; !e.isEmpty(); )
                this.nodeStack_.push(e),
                e = e.left;
        return i
    }
    hasNext() {
        return this.nodeStack_.length > 0
    }
    peek() {
        if (this.nodeStack_.length === 0)
            return null;
        const e = this.nodeStack_[this.nodeStack_.length - 1];
        return this.resultGenerator_ ? this.resultGenerator_(e.key, e.value) : {
            key: e.key,
            value: e.value
        }
    }
}
class rt {
    constructor(e, i, r, o, c) {
        this.key = e,
        this.value = i,
        this.color = r ?? rt.RED,
        this.left = o ?? Nt.EMPTY_NODE,
        this.right = c ?? Nt.EMPTY_NODE
    }
    copy(e, i, r, o, c) {
        return new rt(e ?? this.key,i ?? this.value,r ?? this.color,o ?? this.left,c ?? this.right)
    }
    count() {
        return this.left.count() + 1 + this.right.count()
    }
    isEmpty() {
        return !1
    }
    inorderTraversal(e) {
        return this.left.inorderTraversal(e) || !!e(this.key, this.value) || this.right.inorderTraversal(e)
    }
    reverseTraversal(e) {
        return this.right.reverseTraversal(e) || e(this.key, this.value) || this.left.reverseTraversal(e)
    }
    min_() {
        return this.left.isEmpty() ? this : this.left.min_()
    }
    minKey() {
        return this.min_().key
    }
    maxKey() {
        return this.right.isEmpty() ? this.key : this.right.maxKey()
    }
    insert(e, i, r) {
        let o = this;
        const c = r(e, o.key);
        return c < 0 ? o = o.copy(null, null, null, o.left.insert(e, i, r), null) : c === 0 ? o = o.copy(null, i, null, null, null) : o = o.copy(null, null, null, null, o.right.insert(e, i, r)),
        o.fixUp_()
    }
    removeMin_() {
        if (this.left.isEmpty())
            return Nt.EMPTY_NODE;
        let e = this;
        return !e.left.isRed_() && !e.left.left.isRed_() && (e = e.moveRedLeft_()),
        e = e.copy(null, null, null, e.left.removeMin_(), null),
        e.fixUp_()
    }
    remove(e, i) {
        let r, o;
        if (r = this,
        i(e, r.key) < 0)
            !r.left.isEmpty() && !r.left.isRed_() && !r.left.left.isRed_() && (r = r.moveRedLeft_()),
            r = r.copy(null, null, null, r.left.remove(e, i), null);
        else {
            if (r.left.isRed_() && (r = r.rotateRight_()),
            !r.right.isEmpty() && !r.right.isRed_() && !r.right.left.isRed_() && (r = r.moveRedRight_()),
            i(e, r.key) === 0) {
                if (r.right.isEmpty())
                    return Nt.EMPTY_NODE;
                o = r.right.min_(),
                r = r.copy(o.key, o.value, null, null, r.right.removeMin_())
            }
            r = r.copy(null, null, null, null, r.right.remove(e, i))
        }
        return r.fixUp_()
    }
    isRed_() {
        return this.color
    }
    fixUp_() {
        let e = this;
        return e.right.isRed_() && !e.left.isRed_() && (e = e.rotateLeft_()),
        e.left.isRed_() && e.left.left.isRed_() && (e = e.rotateRight_()),
        e.left.isRed_() && e.right.isRed_() && (e = e.colorFlip_()),
        e
    }
    moveRedLeft_() {
        let e = this.colorFlip_();
        return e.right.left.isRed_() && (e = e.copy(null, null, null, null, e.right.rotateRight_()),
        e = e.rotateLeft_(),
        e = e.colorFlip_()),
        e
    }
    moveRedRight_() {
        let e = this.colorFlip_();
        return e.left.left.isRed_() && (e = e.rotateRight_(),
        e = e.colorFlip_()),
        e
    }
    rotateLeft_() {
        const e = this.copy(null, null, rt.RED, null, this.right.left);
        return this.right.copy(null, null, this.color, e, null)
    }
    rotateRight_() {
        const e = this.copy(null, null, rt.RED, this.left.right, null);
        return this.left.copy(null, null, this.color, null, e)
    }
    colorFlip_() {
        const e = this.left.copy(null, null, !this.left.color, null, null)
          , i = this.right.copy(null, null, !this.right.color, null, null);
        return this.copy(null, null, !this.color, e, i)
    }
    checkMaxDepth_() {
        const e = this.check_();
        return Math.pow(2, e) <= this.count() + 1
    }
    check_() {
        if (this.isRed_() && this.left.isRed_())
            throw new Error("Red node has red child(" + this.key + "," + this.value + ")");
        if (this.right.isRed_())
            throw new Error("Right child of (" + this.key + "," + this.value + ") is red");
        const e = this.left.check_();
        if (e !== this.right.check_())
            throw new Error("Black depths differ");
        return e + (this.isRed_() ? 0 : 1)
    }
}
rt.RED = !0;
rt.BLACK = !1;
class LA {
    copy(e, i, r, o, c) {
        return this
    }
    insert(e, i, r) {
        return new rt(e,i,null)
    }
    remove(e, i) {
        return this
    }
    count() {
        return 0
    }
    isEmpty() {
        return !0
    }
    inorderTraversal(e) {
        return !1
    }
    reverseTraversal(e) {
        return !1
    }
    minKey() {
        return null
    }
    maxKey() {
        return null
    }
    check_() {
        return 0
    }
    isRed_() {
        return !1
    }
}
class Nt {
    constructor(e, i=Nt.EMPTY_NODE) {
        this.comparator_ = e,
        this.root_ = i
    }
    insert(e, i) {
        return new Nt(this.comparator_,this.root_.insert(e, i, this.comparator_).copy(null, null, rt.BLACK, null, null))
    }
    remove(e) {
        return new Nt(this.comparator_,this.root_.remove(e, this.comparator_).copy(null, null, rt.BLACK, null, null))
    }
    get(e) {
        let i, r = this.root_;
        for (; !r.isEmpty(); ) {
            if (i = this.comparator_(e, r.key),
            i === 0)
                return r.value;
            i < 0 ? r = r.left : i > 0 && (r = r.right)
        }
        return null
    }
    getPredecessorKey(e) {
        let i, r = this.root_, o = null;
        for (; !r.isEmpty(); )
            if (i = this.comparator_(e, r.key),
            i === 0) {
                if (r.left.isEmpty())
                    return o ? o.key : null;
                for (r = r.left; !r.right.isEmpty(); )
                    r = r.right;
                return r.key
            } else
                i < 0 ? r = r.left : i > 0 && (o = r,
                r = r.right);
        throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")
    }
    isEmpty() {
        return this.root_.isEmpty()
    }
    count() {
        return this.root_.count()
    }
    minKey() {
        return this.root_.minKey()
    }
    maxKey() {
        return this.root_.maxKey()
    }
    inorderTraversal(e) {
        return this.root_.inorderTraversal(e)
    }
    reverseTraversal(e) {
        return this.root_.reverseTraversal(e)
    }
    getIterator(e) {
        return new No(this.root_,null,this.comparator_,!1,e)
    }
    getIteratorFrom(e, i) {
        return new No(this.root_,e,this.comparator_,!1,i)
    }
    getReverseIteratorFrom(e, i) {
        return new No(this.root_,e,this.comparator_,!0,i)
    }
    getReverseIterator(e) {
        return new No(this.root_,null,this.comparator_,!0,e)
    }
}
Nt.EMPTY_NODE = new LA;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function jA(s, e) {
    return _a(s.name, e.name)
}
function lh(s, e) {
    return _a(s, e)
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let vf;
function UA(s) {
    vf = s
}
const V0 = function(s) {
    return typeof s == "number" ? "number:" + v0(s) : "string:" + s
}
  , G0 = function(s) {
    if (s.isLeafNode()) {
        const e = s.val();
        Y(typeof e == "string" || typeof e == "number" || typeof e == "object" && Yn(e, ".sv"), "Priority must be a string or number.")
    } else
        Y(s === vf || s.isEmpty(), "priority of unexpected type.");
    Y(s === vf || s.getPriority().isEmpty(), "Priority nodes can't have a priority of their own.")
};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Dv;
class at {
    static set __childrenNodeConstructor(e) {
        Dv = e
    }
    static get __childrenNodeConstructor() {
        return Dv
    }
    constructor(e, i=at.__childrenNodeConstructor.EMPTY_NODE) {
        this.value_ = e,
        this.priorityNode_ = i,
        this.lazyHash_ = null,
        Y(this.value_ !== void 0 && this.value_ !== null, "LeafNode shouldn't be created with null/undefined value."),
        G0(this.priorityNode_)
    }
    isLeafNode() {
        return !0
    }
    getPriority() {
        return this.priorityNode_
    }
    updatePriority(e) {
        return new at(this.value_,e)
    }
    getImmediateChild(e) {
        return e === ".priority" ? this.priorityNode_ : at.__childrenNodeConstructor.EMPTY_NODE
    }
    getChild(e) {
        return me(e) ? this : _e(e) === ".priority" ? this.priorityNode_ : at.__childrenNodeConstructor.EMPTY_NODE
    }
    hasChild() {
        return !1
    }
    getPredecessorChildName(e, i) {
        return null
    }
    updateImmediateChild(e, i) {
        return e === ".priority" ? this.updatePriority(i) : i.isEmpty() && e !== ".priority" ? this : at.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e, i).updatePriority(this.priorityNode_)
    }
    updateChild(e, i) {
        const r = _e(e);
        return r === null ? i : i.isEmpty() && r !== ".priority" ? this : (Y(r !== ".priority" || Ri(e) === 1, ".priority must be the last token in a path"),
        this.updateImmediateChild(r, at.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(e), i)))
    }
    isEmpty() {
        return !1
    }
    numChildren() {
        return 0
    }
    forEachChild(e, i) {
        return !1
    }
    val(e) {
        return e && !this.getPriority().isEmpty() ? {
            ".value": this.getValue(),
            ".priority": this.getPriority().val()
        } : this.getValue()
    }
    hash() {
        if (this.lazyHash_ === null) {
            let e = "";
            this.priorityNode_.isEmpty() || (e += "priority:" + V0(this.priorityNode_.val()) + ":");
            const i = typeof this.value_;
            e += i + ":",
            i === "number" ? e += v0(this.value_) : e += this.value_,
            this.lazyHash_ = m0(e)
        }
        return this.lazyHash_
    }
    getValue() {
        return this.value_
    }
    compareTo(e) {
        return e === at.__childrenNodeConstructor.EMPTY_NODE ? 1 : e instanceof at.__childrenNodeConstructor ? -1 : (Y(e.isLeafNode(), "Unknown node type"),
        this.compareToLeafNode_(e))
    }
    compareToLeafNode_(e) {
        const i = typeof e.value_
          , r = typeof this.value_
          , o = at.VALUE_TYPE_ORDER.indexOf(i)
          , c = at.VALUE_TYPE_ORDER.indexOf(r);
        return Y(o >= 0, "Unknown leaf type: " + i),
        Y(c >= 0, "Unknown leaf type: " + r),
        o === c ? r === "object" ? 0 : this.value_ < e.value_ ? -1 : this.value_ === e.value_ ? 0 : 1 : c - o
    }
    withIndex() {
        return this
    }
    isIndexed() {
        return !0
    }
    equals(e) {
        if (e === this)
            return !0;
        if (e.isLeafNode()) {
            const i = e;
            return this.value_ === i.value_ && this.priorityNode_.equals(i.priorityNode_)
        } else
            return !1
    }
}
at.VALUE_TYPE_ORDER = ["object", "boolean", "number", "string"];
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Y0, F0;
function PA(s) {
    Y0 = s
}
function zA(s) {
    F0 = s
}
class HA extends fc {
    compare(e, i) {
        const r = e.node.getPriority()
          , o = i.node.getPriority()
          , c = r.compareTo(o);
        return c === 0 ? _a(e.name, i.name) : c
    }
    isDefinedOn(e) {
        return !e.getPriority().isEmpty()
    }
    indexedValueChanged(e, i) {
        return !e.getPriority().equals(i.getPriority())
    }
    minPost() {
        return fe.MIN
    }
    maxPost() {
        return new fe(as,new at("[PRIORITY-POST]",F0))
    }
    makePost(e, i) {
        const r = Y0(e);
        return new fe(i,new at("[PRIORITY-POST]",r))
    }
    toString() {
        return ".priority"
    }
}
const Ge = new HA;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const BA = Math.log(2);
class qA {
    constructor(e) {
        const i = c => parseInt(Math.log(c) / BA, 10)
          , r = c => parseInt(Array(c + 1).join("1"), 2);
        this.count = i(e + 1),
        this.current_ = this.count - 1;
        const o = r(this.count);
        this.bits_ = e + 1 & o
    }
    nextBitIsOne() {
        const e = !(this.bits_ & 1 << this.current_);
        return this.current_--,
        e
    }
}
const Qo = function(s, e, i, r) {
    s.sort(e);
    const o = function(p, m) {
        const E = m - p;
        let b, y;
        if (E === 0)
            return null;
        if (E === 1)
            return b = s[p],
            y = i ? i(b) : b,
            new rt(y,b.node,rt.BLACK,null,null);
        {
            const A = parseInt(E / 2, 10) + p
              , T = o(p, A)
              , k = o(A + 1, m);
            return b = s[A],
            y = i ? i(b) : b,
            new rt(y,b.node,rt.BLACK,T,k)
        }
    }
      , c = function(p) {
        let m = null
          , E = null
          , b = s.length;
        const y = function(T, k) {
            const z = b - T
              , H = b;
            b -= T;
            const B = o(z + 1, H)
              , F = s[z]
              , Q = i ? i(F) : F;
            A(new rt(Q,F.node,k,null,B))
        }
          , A = function(T) {
            m ? (m.left = T,
            m = T) : (E = T,
            m = T)
        };
        for (let T = 0; T < p.count; ++T) {
            const k = p.nextBitIsOne()
              , z = Math.pow(2, p.count - (T + 1));
            k ? y(z, rt.BLACK) : (y(z, rt.BLACK),
            y(z, rt.RED))
        }
        return E
    }
      , f = new qA(s.length)
      , h = c(f);
    return new Nt(r || e,h)
};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let $d;
const $s = {};
class Pn {
    static get Default() {
        return Y($s && Ge, "ChildrenNode.ts has not been loaded"),
        $d = $d || new Pn({
            ".priority": $s
        },{
            ".priority": Ge
        }),
        $d
    }
    constructor(e, i) {
        this.indexes_ = e,
        this.indexSet_ = i
    }
    get(e) {
        const i = sa(this.indexes_, e);
        if (!i)
            throw new Error("No index defined for " + e);
        return i instanceof Nt ? i : null
    }
    hasIndex(e) {
        return Yn(this.indexSet_, e.toString())
    }
    addIndex(e, i) {
        Y(e !== ia, "KeyIndex always exists and isn't meant to be added to the IndexMap.");
        const r = [];
        let o = !1;
        const c = i.getIterator(fe.Wrap);
        let f = c.getNext();
        for (; f; )
            o = o || e.isDefinedOn(f.node),
            r.push(f),
            f = c.getNext();
        let h;
        o ? h = Qo(r, e.getCompare()) : h = $s;
        const p = e.toString()
          , m = Object.assign({}, this.indexSet_);
        m[p] = e;
        const E = Object.assign({}, this.indexes_);
        return E[p] = h,
        new Pn(E,m)
    }
    addToIndexes(e, i) {
        const r = Po(this.indexes_, (o, c) => {
            const f = sa(this.indexSet_, c);
            if (Y(f, "Missing index implementation for " + c),
            o === $s)
                if (f.isDefinedOn(e.node)) {
                    const h = []
                      , p = i.getIterator(fe.Wrap);
                    let m = p.getNext();
                    for (; m; )
                        m.name !== e.name && h.push(m),
                        m = p.getNext();
                    return h.push(e),
                    Qo(h, f.getCompare())
                } else
                    return $s;
            else {
                const h = i.get(e.name);
                let p = o;
                return h && (p = p.remove(new fe(e.name,h))),
                p.insert(e, e.node)
            }
        }
        );
        return new Pn(r,this.indexSet_)
    }
    removeFromIndexes(e, i) {
        const r = Po(this.indexes_, o => {
            if (o === $s)
                return o;
            {
                const c = i.get(e.name);
                return c ? o.remove(new fe(e.name,c)) : o
            }
        }
        );
        return new Pn(r,this.indexSet_)
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Tr;
class se {
    static get EMPTY_NODE() {
        return Tr || (Tr = new se(new Nt(lh),null,Pn.Default))
    }
    constructor(e, i, r) {
        this.children_ = e,
        this.priorityNode_ = i,
        this.indexMap_ = r,
        this.lazyHash_ = null,
        this.priorityNode_ && G0(this.priorityNode_),
        this.children_.isEmpty() && Y(!this.priorityNode_ || this.priorityNode_.isEmpty(), "An empty node cannot have a priority")
    }
    isLeafNode() {
        return !1
    }
    getPriority() {
        return this.priorityNode_ || Tr
    }
    updatePriority(e) {
        return this.children_.isEmpty() ? this : new se(this.children_,e,this.indexMap_)
    }
    getImmediateChild(e) {
        if (e === ".priority")
            return this.getPriority();
        {
            const i = this.children_.get(e);
            return i === null ? Tr : i
        }
    }
    getChild(e) {
        const i = _e(e);
        return i === null ? this : this.getImmediateChild(i).getChild(Le(e))
    }
    hasChild(e) {
        return this.children_.get(e) !== null
    }
    updateImmediateChild(e, i) {
        if (Y(i, "We should always be passing snapshot nodes"),
        e === ".priority")
            return this.updatePriority(i);
        {
            const r = new fe(e,i);
            let o, c;
            i.isEmpty() ? (o = this.children_.remove(e),
            c = this.indexMap_.removeFromIndexes(r, this.children_)) : (o = this.children_.insert(e, i),
            c = this.indexMap_.addToIndexes(r, this.children_));
            const f = o.isEmpty() ? Tr : this.priorityNode_;
            return new se(o,f,c)
        }
    }
    updateChild(e, i) {
        const r = _e(e);
        if (r === null)
            return i;
        {
            Y(_e(e) !== ".priority" || Ri(e) === 1, ".priority must be the last token in a path");
            const o = this.getImmediateChild(r).updateChild(Le(e), i);
            return this.updateImmediateChild(r, o)
        }
    }
    isEmpty() {
        return this.children_.isEmpty()
    }
    numChildren() {
        return this.children_.count()
    }
    val(e) {
        if (this.isEmpty())
            return null;
        const i = {};
        let r = 0
          , o = 0
          , c = !0;
        if (this.forEachChild(Ge, (f, h) => {
            i[f] = h.val(e),
            r++,
            c && se.INTEGER_REGEXP_.test(f) ? o = Math.max(o, Number(f)) : c = !1
        }
        ),
        !e && c && o < 2 * r) {
            const f = [];
            for (const h in i)
                f[h] = i[h];
            return f
        } else
            return e && !this.getPriority().isEmpty() && (i[".priority"] = this.getPriority().val()),
            i
    }
    hash() {
        if (this.lazyHash_ === null) {
            let e = "";
            this.getPriority().isEmpty() || (e += "priority:" + V0(this.getPriority().val()) + ":"),
            this.forEachChild(Ge, (i, r) => {
                const o = r.hash();
                o !== "" && (e += ":" + i + ":" + o)
            }
            ),
            this.lazyHash_ = e === "" ? "" : m0(e)
        }
        return this.lazyHash_
    }
    getPredecessorChildName(e, i, r) {
        const o = this.resolveIndex_(r);
        if (o) {
            const c = o.getPredecessorKey(new fe(e,i));
            return c ? c.name : null
        } else
            return this.children_.getPredecessorKey(e)
    }
    getFirstChildName(e) {
        const i = this.resolveIndex_(e);
        if (i) {
            const r = i.minKey();
            return r && r.name
        } else
            return this.children_.minKey()
    }
    getFirstChild(e) {
        const i = this.getFirstChildName(e);
        return i ? new fe(i,this.children_.get(i)) : null
    }
    getLastChildName(e) {
        const i = this.resolveIndex_(e);
        if (i) {
            const r = i.maxKey();
            return r && r.name
        } else
            return this.children_.maxKey()
    }
    getLastChild(e) {
        const i = this.getLastChildName(e);
        return i ? new fe(i,this.children_.get(i)) : null
    }
    forEachChild(e, i) {
        const r = this.resolveIndex_(e);
        return r ? r.inorderTraversal(o => i(o.name, o.node)) : this.children_.inorderTraversal(i)
    }
    getIterator(e) {
        return this.getIteratorFrom(e.minPost(), e)
    }
    getIteratorFrom(e, i) {
        const r = this.resolveIndex_(i);
        if (r)
            return r.getIteratorFrom(e, o => o);
        {
            const o = this.children_.getIteratorFrom(e.name, fe.Wrap);
            let c = o.peek();
            for (; c != null && i.compare(c, e) < 0; )
                o.getNext(),
                c = o.peek();
            return o
        }
    }
    getReverseIterator(e) {
        return this.getReverseIteratorFrom(e.maxPost(), e)
    }
    getReverseIteratorFrom(e, i) {
        const r = this.resolveIndex_(i);
        if (r)
            return r.getReverseIteratorFrom(e, o => o);
        {
            const o = this.children_.getReverseIteratorFrom(e.name, fe.Wrap);
            let c = o.peek();
            for (; c != null && i.compare(c, e) > 0; )
                o.getNext(),
                c = o.peek();
            return o
        }
    }
    compareTo(e) {
        return this.isEmpty() ? e.isEmpty() ? 0 : -1 : e.isLeafNode() || e.isEmpty() ? 1 : e === sl ? -1 : 0
    }
    withIndex(e) {
        if (e === ia || this.indexMap_.hasIndex(e))
            return this;
        {
            const i = this.indexMap_.addIndex(e, this.children_);
            return new se(this.children_,this.priorityNode_,i)
        }
    }
    isIndexed(e) {
        return e === ia || this.indexMap_.hasIndex(e)
    }
    equals(e) {
        if (e === this)
            return !0;
        if (e.isLeafNode())
            return !1;
        {
            const i = e;
            if (this.getPriority().equals(i.getPriority()))
                if (this.children_.count() === i.children_.count()) {
                    const r = this.getIterator(Ge)
                      , o = i.getIterator(Ge);
                    let c = r.getNext()
                      , f = o.getNext();
                    for (; c && f; ) {
                        if (c.name !== f.name || !c.node.equals(f.node))
                            return !1;
                        c = r.getNext(),
                        f = o.getNext()
                    }
                    return c === null && f === null
                } else
                    return !1;
            else
                return !1
        }
    }
    resolveIndex_(e) {
        return e === ia ? null : this.indexMap_.get(e.toString())
    }
}
se.INTEGER_REGEXP_ = /^(0|[1-9]\d*)$/;
class VA extends se {
    constructor() {
        super(new Nt(lh), se.EMPTY_NODE, Pn.Default)
    }
    compareTo(e) {
        return e === this ? 0 : 1
    }
    equals(e) {
        return e === this
    }
    getPriority() {
        return this
    }
    getImmediateChild(e) {
        return se.EMPTY_NODE
    }
    isEmpty() {
        return !1
    }
}
const sl = new VA;
Object.defineProperties(fe, {
    MIN: {
        value: new fe(la,se.EMPTY_NODE)
    },
    MAX: {
        value: new fe(as,sl)
    }
});
q0.__EMPTY_NODE = se.EMPTY_NODE;
at.__childrenNodeConstructor = se;
UA(sl);
zA(sl);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const GA = !0;
function lt(s, e=null) {
    if (s === null)
        return se.EMPTY_NODE;
    if (typeof s == "object" && ".priority"in s && (e = s[".priority"]),
    Y(e === null || typeof e == "string" || typeof e == "number" || typeof e == "object" && ".sv"in e, "Invalid priority type found: " + typeof e),
    typeof s == "object" && ".value"in s && s[".value"] !== null && (s = s[".value"]),
    typeof s != "object" || ".sv"in s) {
        const i = s;
        return new at(i,lt(e))
    }
    if (!(s instanceof Array) && GA) {
        const i = [];
        let r = !1;
        if (At(s, (f, h) => {
            if (f.substring(0, 1) !== ".") {
                const p = lt(h);
                p.isEmpty() || (r = r || !p.getPriority().isEmpty(),
                i.push(new fe(f,p)))
            }
        }
        ),
        i.length === 0)
            return se.EMPTY_NODE;
        const c = Qo(i, jA, f => f.name, lh);
        if (r) {
            const f = Qo(i, Ge.getCompare());
            return new se(c,lt(e),new Pn({
                ".priority": f
            },{
                ".priority": Ge
            }))
        } else
            return new se(c,lt(e),Pn.Default)
    } else {
        let i = se.EMPTY_NODE;
        return At(s, (r, o) => {
            if (Yn(s, r) && r.substring(0, 1) !== ".") {
                const c = lt(o);
                (c.isLeafNode() || !c.isEmpty()) && (i = i.updateImmediateChild(r, c))
            }
        }
        ),
        i.updatePriority(lt(e))
    }
}
PA(lt);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class YA extends fc {
    constructor(e) {
        super(),
        this.indexPath_ = e,
        Y(!me(e) && _e(e) !== ".priority", "Can't create PathIndex with empty path or .priority key")
    }
    extractChild(e) {
        return e.getChild(this.indexPath_)
    }
    isDefinedOn(e) {
        return !e.getChild(this.indexPath_).isEmpty()
    }
    compare(e, i) {
        const r = this.extractChild(e.node)
          , o = this.extractChild(i.node)
          , c = r.compareTo(o);
        return c === 0 ? _a(e.name, i.name) : c
    }
    makePost(e, i) {
        const r = lt(e)
          , o = se.EMPTY_NODE.updateChild(this.indexPath_, r);
        return new fe(i,o)
    }
    maxPost() {
        const e = se.EMPTY_NODE.updateChild(this.indexPath_, sl);
        return new fe(as,e)
    }
    toString() {
        return P0(this.indexPath_, 0).join("/")
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class FA extends fc {
    compare(e, i) {
        const r = e.node.compareTo(i.node);
        return r === 0 ? _a(e.name, i.name) : r
    }
    isDefinedOn(e) {
        return !0
    }
    indexedValueChanged(e, i) {
        return !e.equals(i)
    }
    minPost() {
        return fe.MIN
    }
    maxPost() {
        return fe.MAX
    }
    makePost(e, i) {
        const r = lt(e);
        return new fe(i,r)
    }
    toString() {
        return ".value"
    }
}
const KA = new FA;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function K0(s) {
    return {
        type: "value",
        snapshotNode: s
    }
}
function oa(s, e) {
    return {
        type: "child_added",
        snapshotNode: e,
        childName: s
    }
}
function qr(s, e) {
    return {
        type: "child_removed",
        snapshotNode: e,
        childName: s
    }
}
function Vr(s, e, i) {
    return {
        type: "child_changed",
        snapshotNode: e,
        childName: s,
        oldSnap: i
    }
}
function QA(s, e) {
    return {
        type: "child_moved",
        snapshotNode: e,
        childName: s
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class oh {
    constructor(e) {
        this.index_ = e
    }
    updateChild(e, i, r, o, c, f) {
        Y(e.isIndexed(this.index_), "A node must be indexed if only a child is updated");
        const h = e.getImmediateChild(i);
        return h.getChild(o).equals(r.getChild(o)) && h.isEmpty() === r.isEmpty() || (f != null && (r.isEmpty() ? e.hasChild(i) ? f.trackChildChange(qr(i, h)) : Y(e.isLeafNode(), "A child remove without an old child only makes sense on a leaf node") : h.isEmpty() ? f.trackChildChange(oa(i, r)) : f.trackChildChange(Vr(i, r, h))),
        e.isLeafNode() && r.isEmpty()) ? e : e.updateImmediateChild(i, r).withIndex(this.index_)
    }
    updateFullNode(e, i, r) {
        return r != null && (e.isLeafNode() || e.forEachChild(Ge, (o, c) => {
            i.hasChild(o) || r.trackChildChange(qr(o, c))
        }
        ),
        i.isLeafNode() || i.forEachChild(Ge, (o, c) => {
            if (e.hasChild(o)) {
                const f = e.getImmediateChild(o);
                f.equals(c) || r.trackChildChange(Vr(o, c, f))
            } else
                r.trackChildChange(oa(o, c))
        }
        )),
        i.withIndex(this.index_)
    }
    updatePriority(e, i) {
        return e.isEmpty() ? se.EMPTY_NODE : e.updatePriority(i)
    }
    filtersNodes() {
        return !1
    }
    getIndexedFilter() {
        return this
    }
    getIndex() {
        return this.index_
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Gr {
    constructor(e) {
        this.indexedFilter_ = new oh(e.getIndex()),
        this.index_ = e.getIndex(),
        this.startPost_ = Gr.getStartPost_(e),
        this.endPost_ = Gr.getEndPost_(e),
        this.startIsInclusive_ = !e.startAfterSet_,
        this.endIsInclusive_ = !e.endBeforeSet_
    }
    getStartPost() {
        return this.startPost_
    }
    getEndPost() {
        return this.endPost_
    }
    matches(e) {
        const i = this.startIsInclusive_ ? this.index_.compare(this.getStartPost(), e) <= 0 : this.index_.compare(this.getStartPost(), e) < 0
          , r = this.endIsInclusive_ ? this.index_.compare(e, this.getEndPost()) <= 0 : this.index_.compare(e, this.getEndPost()) < 0;
        return i && r
    }
    updateChild(e, i, r, o, c, f) {
        return this.matches(new fe(i,r)) || (r = se.EMPTY_NODE),
        this.indexedFilter_.updateChild(e, i, r, o, c, f)
    }
    updateFullNode(e, i, r) {
        i.isLeafNode() && (i = se.EMPTY_NODE);
        let o = i.withIndex(this.index_);
        o = o.updatePriority(se.EMPTY_NODE);
        const c = this;
        return i.forEachChild(Ge, (f, h) => {
            c.matches(new fe(f,h)) || (o = o.updateImmediateChild(f, se.EMPTY_NODE))
        }
        ),
        this.indexedFilter_.updateFullNode(e, o, r)
    }
    updatePriority(e, i) {
        return e
    }
    filtersNodes() {
        return !0
    }
    getIndexedFilter() {
        return this.indexedFilter_
    }
    getIndex() {
        return this.index_
    }
    static getStartPost_(e) {
        if (e.hasStart()) {
            const i = e.getIndexStartName();
            return e.getIndex().makePost(e.getIndexStartValue(), i)
        } else
            return e.getIndex().minPost()
    }
    static getEndPost_(e) {
        if (e.hasEnd()) {
            const i = e.getIndexEndName();
            return e.getIndex().makePost(e.getIndexEndValue(), i)
        } else
            return e.getIndex().maxPost()
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class WA {
    constructor(e) {
        this.withinDirectionalStart = i => this.reverse_ ? this.withinEndPost(i) : this.withinStartPost(i),
        this.withinDirectionalEnd = i => this.reverse_ ? this.withinStartPost(i) : this.withinEndPost(i),
        this.withinStartPost = i => {
            const r = this.index_.compare(this.rangedFilter_.getStartPost(), i);
            return this.startIsInclusive_ ? r <= 0 : r < 0
        }
        ,
        this.withinEndPost = i => {
            const r = this.index_.compare(i, this.rangedFilter_.getEndPost());
            return this.endIsInclusive_ ? r <= 0 : r < 0
        }
        ,
        this.rangedFilter_ = new Gr(e),
        this.index_ = e.getIndex(),
        this.limit_ = e.getLimit(),
        this.reverse_ = !e.isViewFromLeft(),
        this.startIsInclusive_ = !e.startAfterSet_,
        this.endIsInclusive_ = !e.endBeforeSet_
    }
    updateChild(e, i, r, o, c, f) {
        return this.rangedFilter_.matches(new fe(i,r)) || (r = se.EMPTY_NODE),
        e.getImmediateChild(i).equals(r) ? e : e.numChildren() < this.limit_ ? this.rangedFilter_.getIndexedFilter().updateChild(e, i, r, o, c, f) : this.fullLimitUpdateChild_(e, i, r, c, f)
    }
    updateFullNode(e, i, r) {
        let o;
        if (i.isLeafNode() || i.isEmpty())
            o = se.EMPTY_NODE.withIndex(this.index_);
        else if (this.limit_ * 2 < i.numChildren() && i.isIndexed(this.index_)) {
            o = se.EMPTY_NODE.withIndex(this.index_);
            let c;
            this.reverse_ ? c = i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(), this.index_) : c = i.getIteratorFrom(this.rangedFilter_.getStartPost(), this.index_);
            let f = 0;
            for (; c.hasNext() && f < this.limit_; ) {
                const h = c.getNext();
                if (this.withinDirectionalStart(h))
                    if (this.withinDirectionalEnd(h))
                        o = o.updateImmediateChild(h.name, h.node),
                        f++;
                    else
                        break;
                else
                    continue
            }
        } else {
            o = i.withIndex(this.index_),
            o = o.updatePriority(se.EMPTY_NODE);
            let c;
            this.reverse_ ? c = o.getReverseIterator(this.index_) : c = o.getIterator(this.index_);
            let f = 0;
            for (; c.hasNext(); ) {
                const h = c.getNext();
                f < this.limit_ && this.withinDirectionalStart(h) && this.withinDirectionalEnd(h) ? f++ : o = o.updateImmediateChild(h.name, se.EMPTY_NODE)
            }
        }
        return this.rangedFilter_.getIndexedFilter().updateFullNode(e, o, r)
    }
    updatePriority(e, i) {
        return e
    }
    filtersNodes() {
        return !0
    }
    getIndexedFilter() {
        return this.rangedFilter_.getIndexedFilter()
    }
    getIndex() {
        return this.index_
    }
    fullLimitUpdateChild_(e, i, r, o, c) {
        let f;
        if (this.reverse_) {
            const b = this.index_.getCompare();
            f = (y, A) => b(A, y)
        } else
            f = this.index_.getCompare();
        const h = e;
        Y(h.numChildren() === this.limit_, "");
        const p = new fe(i,r)
          , m = this.reverse_ ? h.getFirstChild(this.index_) : h.getLastChild(this.index_)
          , E = this.rangedFilter_.matches(p);
        if (h.hasChild(i)) {
            const b = h.getImmediateChild(i);
            let y = o.getChildAfterChild(this.index_, m, this.reverse_);
            for (; y != null && (y.name === i || h.hasChild(y.name)); )
                y = o.getChildAfterChild(this.index_, y, this.reverse_);
            const A = y == null ? 1 : f(y, p);
            if (E && !r.isEmpty() && A >= 0)
                return c != null && c.trackChildChange(Vr(i, r, b)),
                h.updateImmediateChild(i, r);
            {
                c != null && c.trackChildChange(qr(i, b));
                const k = h.updateImmediateChild(i, se.EMPTY_NODE);
                return y != null && this.rangedFilter_.matches(y) ? (c != null && c.trackChildChange(oa(y.name, y.node)),
                k.updateImmediateChild(y.name, y.node)) : k
            }
        } else
            return r.isEmpty() ? e : E && f(m, p) >= 0 ? (c != null && (c.trackChildChange(qr(m.name, m.node)),
            c.trackChildChange(oa(i, r))),
            h.updateImmediateChild(i, r).updateImmediateChild(m.name, se.EMPTY_NODE)) : e
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ch {
    constructor() {
        this.limitSet_ = !1,
        this.startSet_ = !1,
        this.startNameSet_ = !1,
        this.startAfterSet_ = !1,
        this.endSet_ = !1,
        this.endNameSet_ = !1,
        this.endBeforeSet_ = !1,
        this.limit_ = 0,
        this.viewFrom_ = "",
        this.indexStartValue_ = null,
        this.indexStartName_ = "",
        this.indexEndValue_ = null,
        this.indexEndName_ = "",
        this.index_ = Ge
    }
    hasStart() {
        return this.startSet_
    }
    isViewFromLeft() {
        return this.viewFrom_ === "" ? this.startSet_ : this.viewFrom_ === "l"
    }
    getIndexStartValue() {
        return Y(this.startSet_, "Only valid if start has been set"),
        this.indexStartValue_
    }
    getIndexStartName() {
        return Y(this.startSet_, "Only valid if start has been set"),
        this.startNameSet_ ? this.indexStartName_ : la
    }
    hasEnd() {
        return this.endSet_
    }
    getIndexEndValue() {
        return Y(this.endSet_, "Only valid if end has been set"),
        this.indexEndValue_
    }
    getIndexEndName() {
        return Y(this.endSet_, "Only valid if end has been set"),
        this.endNameSet_ ? this.indexEndName_ : as
    }
    hasLimit() {
        return this.limitSet_
    }
    hasAnchoredLimit() {
        return this.limitSet_ && this.viewFrom_ !== ""
    }
    getLimit() {
        return Y(this.limitSet_, "Only valid if limit has been set"),
        this.limit_
    }
    getIndex() {
        return this.index_
    }
    loadsAllData() {
        return !(this.startSet_ || this.endSet_ || this.limitSet_)
    }
    isDefault() {
        return this.loadsAllData() && this.index_ === Ge
    }
    copy() {
        const e = new ch;
        return e.limitSet_ = this.limitSet_,
        e.limit_ = this.limit_,
        e.startSet_ = this.startSet_,
        e.startAfterSet_ = this.startAfterSet_,
        e.indexStartValue_ = this.indexStartValue_,
        e.startNameSet_ = this.startNameSet_,
        e.indexStartName_ = this.indexStartName_,
        e.endSet_ = this.endSet_,
        e.endBeforeSet_ = this.endBeforeSet_,
        e.indexEndValue_ = this.indexEndValue_,
        e.endNameSet_ = this.endNameSet_,
        e.indexEndName_ = this.indexEndName_,
        e.index_ = this.index_,
        e.viewFrom_ = this.viewFrom_,
        e
    }
}
function XA(s) {
    return s.loadsAllData() ? new oh(s.getIndex()) : s.hasLimit() ? new WA(s) : new Gr(s)
}
function Mv(s) {
    const e = {};
    if (s.isDefault())
        return e;
    let i;
    if (s.index_ === Ge ? i = "$priority" : s.index_ === KA ? i = "$value" : s.index_ === ia ? i = "$key" : (Y(s.index_ instanceof YA, "Unrecognized index type!"),
    i = s.index_.toString()),
    e.orderBy = Ze(i),
    s.startSet_) {
        const r = s.startAfterSet_ ? "startAfter" : "startAt";
        e[r] = Ze(s.indexStartValue_),
        s.startNameSet_ && (e[r] += "," + Ze(s.indexStartName_))
    }
    if (s.endSet_) {
        const r = s.endBeforeSet_ ? "endBefore" : "endAt";
        e[r] = Ze(s.indexEndValue_),
        s.endNameSet_ && (e[r] += "," + Ze(s.indexEndName_))
    }
    return s.limitSet_ && (s.isViewFromLeft() ? e.limitToFirst = s.limit_ : e.limitToLast = s.limit_),
    e
}
function kv(s) {
    const e = {};
    if (s.startSet_ && (e.sp = s.indexStartValue_,
    s.startNameSet_ && (e.sn = s.indexStartName_),
    e.sin = !s.startAfterSet_),
    s.endSet_ && (e.ep = s.indexEndValue_,
    s.endNameSet_ && (e.en = s.indexEndName_),
    e.ein = !s.endBeforeSet_),
    s.limitSet_) {
        e.l = s.limit_;
        let i = s.viewFrom_;
        i === "" && (s.isViewFromLeft() ? i = "l" : i = "r"),
        e.vf = i
    }
    return s.index_ !== Ge && (e.i = s.index_.toString()),
    e
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Wo extends L0 {
    reportStats(e) {
        throw new Error("Method not implemented.")
    }
    static getListenId_(e, i) {
        return i !== void 0 ? "tag$" + i : (Y(e._queryParams.isDefault(), "should have a tag if it's not a default query."),
        e._path.toString())
    }
    constructor(e, i, r, o) {
        super(),
        this.repoInfo_ = e,
        this.onDataUpdate_ = i,
        this.authTokenProvider_ = r,
        this.appCheckTokenProvider_ = o,
        this.log_ = il("p:rest:"),
        this.listens_ = {}
    }
    listen(e, i, r, o) {
        const c = e._path.toString();
        this.log_("Listen called for " + c + " " + e._queryIdentifier);
        const f = Wo.getListenId_(e, r)
          , h = {};
        this.listens_[f] = h;
        const p = Mv(e._queryParams);
        this.restRequest_(c + ".json", p, (m, E) => {
            let b = E;
            if (m === 404 && (b = null,
            m = null),
            m === null && this.onDataUpdate_(c, b, !1, r),
            sa(this.listens_, f) === h) {
                let y;
                m ? m === 401 ? y = "permission_denied" : y = "rest_error:" + m : y = "ok",
                o(y, null)
            }
        }
        )
    }
    unlisten(e, i) {
        const r = Wo.getListenId_(e, i);
        delete this.listens_[r]
    }
    get(e) {
        const i = Mv(e._queryParams)
          , r = e._path.toString()
          , o = new rc;
        return this.restRequest_(r + ".json", i, (c, f) => {
            let h = f;
            c === 404 && (h = null,
            c = null),
            c === null ? (this.onDataUpdate_(r, h, !1, null),
            o.resolve(h)) : o.reject(new Error(h))
        }
        ),
        o.promise
    }
    refreshAuthToken(e) {}
    restRequest_(e, i={}, r) {
        return i.format = "export",
        Promise.all([this.authTokenProvider_.getToken(!1), this.appCheckTokenProvider_.getToken(!1)]).then( ([o,c]) => {
            o && o.accessToken && (i.auth = o.accessToken),
            c && c.token && (i.ac = c.token);
            const f = (this.repoInfo_.secure ? "https://" : "http://") + this.repoInfo_.host + e + "?ns=" + this.repoInfo_.namespace + pa(i);
            this.log_("Sending REST request for " + f);
            const h = new XMLHttpRequest;
            h.onreadystatechange = () => {
                if (r && h.readyState === 4) {
                    this.log_("REST Response for " + f + " received. status:", h.status, "response:", h.responseText);
                    let p = null;
                    if (h.status >= 200 && h.status < 300) {
                        try {
                            p = Ur(h.responseText)
                        } catch {
                            Rt("Failed to parse JSON response for " + f + ": " + h.responseText)
                        }
                        r(null, p)
                    } else
                        h.status !== 401 && h.status !== 404 && Rt("Got unsuccessful REST response for " + f + " Status: " + h.status),
                        r(h.status);
                    r = null
                }
            }
            ,
            h.open("GET", f, !0),
            h.send()
        }
        )
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $A {
    constructor() {
        this.rootNode_ = se.EMPTY_NODE
    }
    getNode(e) {
        return this.rootNode_.getChild(e)
    }
    updateSnapshot(e, i) {
        this.rootNode_ = this.rootNode_.updateChild(e, i)
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xo() {
    return {
        value: null,
        children: new Map
    }
}
function Q0(s, e, i) {
    if (me(e))
        s.value = i,
        s.children.clear();
    else if (s.value !== null)
        s.value = s.value.updateChild(e, i);
    else {
        const r = _e(e);
        s.children.has(r) || s.children.set(r, Xo());
        const o = s.children.get(r);
        e = Le(e),
        Q0(o, e, i)
    }
}
function yf(s, e, i) {
    s.value !== null ? i(e, s.value) : ZA(s, (r, o) => {
        const c = new Me(e.toString() + "/" + r);
        yf(o, c, i)
    }
    )
}
function ZA(s, e) {
    s.children.forEach( (i, r) => {
        e(r, i)
    }
    )
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class JA {
    constructor(e) {
        this.collection_ = e,
        this.last_ = null
    }
    get() {
        const e = this.collection_.get()
          , i = Object.assign({}, e);
        return this.last_ && At(this.last_, (r, o) => {
            i[r] = i[r] - o
        }
        ),
        this.last_ = e,
        i
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Lv = 10 * 1e3
  , ex = 30 * 1e3
  , tx = 5 * 60 * 1e3;
class nx {
    constructor(e, i) {
        this.server_ = i,
        this.statsToReport_ = {},
        this.statsListener_ = new JA(e);
        const r = Lv + (ex - Lv) * Math.random();
        Dr(this.reportStats_.bind(this), Math.floor(r))
    }
    reportStats_() {
        const e = this.statsListener_.get()
          , i = {};
        let r = !1;
        At(e, (o, c) => {
            c > 0 && Yn(this.statsToReport_, o) && (i[o] = c,
            r = !0)
        }
        ),
        r && this.server_.reportStats(i),
        Dr(this.reportStats_.bind(this), Math.floor(Math.random() * 2 * tx))
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rn;
(function(s) {
    s[s.OVERWRITE = 0] = "OVERWRITE",
    s[s.MERGE = 1] = "MERGE",
    s[s.ACK_USER_WRITE = 2] = "ACK_USER_WRITE",
    s[s.LISTEN_COMPLETE = 3] = "LISTEN_COMPLETE"
}
)(rn || (rn = {}));
function W0() {
    return {
        fromUser: !0,
        fromServer: !1,
        queryId: null,
        tagged: !1
    }
}
function uh() {
    return {
        fromUser: !1,
        fromServer: !0,
        queryId: null,
        tagged: !1
    }
}
function dh(s) {
    return {
        fromUser: !1,
        fromServer: !0,
        queryId: s,
        tagged: !0
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $o {
    constructor(e, i, r) {
        this.path = e,
        this.affectedTree = i,
        this.revert = r,
        this.type = rn.ACK_USER_WRITE,
        this.source = W0()
    }
    operationForChild(e) {
        if (me(this.path)) {
            if (this.affectedTree.value != null)
                return Y(this.affectedTree.children.isEmpty(), "affectedTree should not have overlapping affected paths."),
                this;
            {
                const i = this.affectedTree.subtree(new Me(e));
                return new $o(Se(),i,this.revert)
            }
        } else
            return Y(_e(this.path) === e, "operationForChild called for unrelated child."),
            new $o(Le(this.path),this.affectedTree,this.revert)
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yr {
    constructor(e, i) {
        this.source = e,
        this.path = i,
        this.type = rn.LISTEN_COMPLETE
    }
    operationForChild(e) {
        return me(this.path) ? new Yr(this.source,Se()) : new Yr(this.source,Le(this.path))
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rs {
    constructor(e, i, r) {
        this.source = e,
        this.path = i,
        this.snap = r,
        this.type = rn.OVERWRITE
    }
    operationForChild(e) {
        return me(this.path) ? new rs(this.source,Se(),this.snap.getImmediateChild(e)) : new rs(this.source,Le(this.path),this.snap)
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fr {
    constructor(e, i, r) {
        this.source = e,
        this.path = i,
        this.children = r,
        this.type = rn.MERGE
    }
    operationForChild(e) {
        if (me(this.path)) {
            const i = this.children.subtree(new Me(e));
            return i.isEmpty() ? null : i.value ? new rs(this.source,Se(),i.value) : new Fr(this.source,Se(),i)
        } else
            return Y(_e(this.path) === e, "Can't get a merge for a child not on the path of the operation"),
            new Fr(this.source,Le(this.path),this.children)
    }
    toString() {
        return "Operation(" + this.path + ": " + this.source.toString() + " merge: " + this.children.toString() + ")"
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ai {
    constructor(e, i, r) {
        this.node_ = e,
        this.fullyInitialized_ = i,
        this.filtered_ = r
    }
    isFullyInitialized() {
        return this.fullyInitialized_
    }
    isFiltered() {
        return this.filtered_
    }
    isCompleteForPath(e) {
        if (me(e))
            return this.isFullyInitialized() && !this.filtered_;
        const i = _e(e);
        return this.isCompleteForChild(i)
    }
    isCompleteForChild(e) {
        return this.isFullyInitialized() && !this.filtered_ || this.node_.hasChild(e)
    }
    getNode() {
        return this.node_
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ix {
    constructor(e) {
        this.query_ = e,
        this.index_ = this.query_._queryParams.getIndex()
    }
}
function sx(s, e, i, r) {
    const o = []
      , c = [];
    return e.forEach(f => {
        f.type === "child_changed" && s.index_.indexedValueChanged(f.oldSnap, f.snapshotNode) && c.push(QA(f.childName, f.snapshotNode))
    }
    ),
    wr(s, o, "child_removed", e, r, i),
    wr(s, o, "child_added", e, r, i),
    wr(s, o, "child_moved", c, r, i),
    wr(s, o, "child_changed", e, r, i),
    wr(s, o, "value", e, r, i),
    o
}
function wr(s, e, i, r, o, c) {
    const f = r.filter(h => h.type === i);
    f.sort( (h, p) => rx(s, h, p)),
    f.forEach(h => {
        const p = ax(s, h, c);
        o.forEach(m => {
            m.respondsTo(h.type) && e.push(m.createEvent(p, s.query_))
        }
        )
    }
    )
}
function ax(s, e, i) {
    return e.type === "value" || e.type === "child_removed" || (e.prevName = i.getPredecessorChildName(e.childName, e.snapshotNode, s.index_)),
    e
}
function rx(s, e, i) {
    if (e.childName == null || i.childName == null)
        throw ha("Should only compare child_ events.");
    const r = new fe(e.childName,e.snapshotNode)
      , o = new fe(i.childName,i.snapshotNode);
    return s.index_.compare(r, o)
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function hc(s, e) {
    return {
        eventCache: s,
        serverCache: e
    }
}
function Mr(s, e, i, r) {
    return hc(new Ai(e,i,r), s.serverCache)
}
function X0(s, e, i, r) {
    return hc(s.eventCache, new Ai(e,i,r))
}
function Zo(s) {
    return s.eventCache.isFullyInitialized() ? s.eventCache.getNode() : null
}
function ls(s) {
    return s.serverCache.isFullyInitialized() ? s.serverCache.getNode() : null
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Zd;
const lx = () => (Zd || (Zd = new Nt(FR)),
Zd);
class je {
    static fromObject(e) {
        let i = new je(null);
        return At(e, (r, o) => {
            i = i.set(new Me(r), o)
        }
        ),
        i
    }
    constructor(e, i=lx()) {
        this.value = e,
        this.children = i
    }
    isEmpty() {
        return this.value === null && this.children.isEmpty()
    }
    findRootMostMatchingPathAndValue(e, i) {
        if (this.value != null && i(this.value))
            return {
                path: Se(),
                value: this.value
            };
        if (me(e))
            return null;
        {
            const r = _e(e)
              , o = this.children.get(r);
            if (o !== null) {
                const c = o.findRootMostMatchingPathAndValue(Le(e), i);
                return c != null ? {
                    path: Je(new Me(r), c.path),
                    value: c.value
                } : null
            } else
                return null
        }
    }
    findRootMostValueAndPath(e) {
        return this.findRootMostMatchingPathAndValue(e, () => !0)
    }
    subtree(e) {
        if (me(e))
            return this;
        {
            const i = _e(e)
              , r = this.children.get(i);
            return r !== null ? r.subtree(Le(e)) : new je(null)
        }
    }
    set(e, i) {
        if (me(e))
            return new je(i,this.children);
        {
            const r = _e(e)
              , c = (this.children.get(r) || new je(null)).set(Le(e), i)
              , f = this.children.insert(r, c);
            return new je(this.value,f)
        }
    }
    remove(e) {
        if (me(e))
            return this.children.isEmpty() ? new je(null) : new je(null,this.children);
        {
            const i = _e(e)
              , r = this.children.get(i);
            if (r) {
                const o = r.remove(Le(e));
                let c;
                return o.isEmpty() ? c = this.children.remove(i) : c = this.children.insert(i, o),
                this.value === null && c.isEmpty() ? new je(null) : new je(this.value,c)
            } else
                return this
        }
    }
    get(e) {
        if (me(e))
            return this.value;
        {
            const i = _e(e)
              , r = this.children.get(i);
            return r ? r.get(Le(e)) : null
        }
    }
    setTree(e, i) {
        if (me(e))
            return i;
        {
            const r = _e(e)
              , c = (this.children.get(r) || new je(null)).setTree(Le(e), i);
            let f;
            return c.isEmpty() ? f = this.children.remove(r) : f = this.children.insert(r, c),
            new je(this.value,f)
        }
    }
    fold(e) {
        return this.fold_(Se(), e)
    }
    fold_(e, i) {
        const r = {};
        return this.children.inorderTraversal( (o, c) => {
            r[o] = c.fold_(Je(e, o), i)
        }
        ),
        i(e, this.value, r)
    }
    findOnPath(e, i) {
        return this.findOnPath_(e, Se(), i)
    }
    findOnPath_(e, i, r) {
        const o = this.value ? r(i, this.value) : !1;
        if (o)
            return o;
        if (me(e))
            return null;
        {
            const c = _e(e)
              , f = this.children.get(c);
            return f ? f.findOnPath_(Le(e), Je(i, c), r) : null
        }
    }
    foreachOnPath(e, i) {
        return this.foreachOnPath_(e, Se(), i)
    }
    foreachOnPath_(e, i, r) {
        if (me(e))
            return this;
        {
            this.value && r(i, this.value);
            const o = _e(e)
              , c = this.children.get(o);
            return c ? c.foreachOnPath_(Le(e), Je(i, o), r) : new je(null)
        }
    }
    foreach(e) {
        this.foreach_(Se(), e)
    }
    foreach_(e, i) {
        this.children.inorderTraversal( (r, o) => {
            o.foreach_(Je(e, r), i)
        }
        ),
        this.value && i(e, this.value)
    }
    foreachChild(e) {
        this.children.inorderTraversal( (i, r) => {
            r.value && e(i, r.value)
        }
        )
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class on {
    constructor(e) {
        this.writeTree_ = e
    }
    static empty() {
        return new on(new je(null))
    }
}
function kr(s, e, i) {
    if (me(e))
        return new on(new je(i));
    {
        const r = s.writeTree_.findRootMostValueAndPath(e);
        if (r != null) {
            const o = r.path;
            let c = r.value;
            const f = vt(o, e);
            return c = c.updateChild(f, i),
            new on(s.writeTree_.set(o, c))
        } else {
            const o = new je(i)
              , c = s.writeTree_.setTree(e, o);
            return new on(c)
        }
    }
}
function jv(s, e, i) {
    let r = s;
    return At(i, (o, c) => {
        r = kr(r, Je(e, o), c)
    }
    ),
    r
}
function Uv(s, e) {
    if (me(e))
        return on.empty();
    {
        const i = s.writeTree_.setTree(e, new je(null));
        return new on(i)
    }
}
function Ef(s, e) {
    return us(s, e) != null
}
function us(s, e) {
    const i = s.writeTree_.findRootMostValueAndPath(e);
    return i != null ? s.writeTree_.get(i.path).getChild(vt(i.path, e)) : null
}
function Pv(s) {
    const e = []
      , i = s.writeTree_.value;
    return i != null ? i.isLeafNode() || i.forEachChild(Ge, (r, o) => {
        e.push(new fe(r,o))
    }
    ) : s.writeTree_.children.inorderTraversal( (r, o) => {
        o.value != null && e.push(new fe(r,o.value))
    }
    ),
    e
}
function wi(s, e) {
    if (me(e))
        return s;
    {
        const i = us(s, e);
        return i != null ? new on(new je(i)) : new on(s.writeTree_.subtree(e))
    }
}
function bf(s) {
    return s.writeTree_.isEmpty()
}
function ca(s, e) {
    return $0(Se(), s.writeTree_, e)
}
function $0(s, e, i) {
    if (e.value != null)
        return i.updateChild(s, e.value);
    {
        let r = null;
        return e.children.inorderTraversal( (o, c) => {
            o === ".priority" ? (Y(c.value !== null, "Priority writes must always be leaf nodes"),
            r = c.value) : i = $0(Je(s, o), c, i)
        }
        ),
        !i.getChild(s).isEmpty() && r !== null && (i = i.updateChild(Je(s, ".priority"), r)),
        i
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pc(s, e) {
    return tE(e, s)
}
function ox(s, e, i, r, o) {
    Y(r > s.lastWriteId, "Stacking an older write on top of newer ones"),
    o === void 0 && (o = !0),
    s.allWrites.push({
        path: e,
        snap: i,
        writeId: r,
        visible: o
    }),
    o && (s.visibleWrites = kr(s.visibleWrites, e, i)),
    s.lastWriteId = r
}
function cx(s, e) {
    for (let i = 0; i < s.allWrites.length; i++) {
        const r = s.allWrites[i];
        if (r.writeId === e)
            return r
    }
    return null
}
function ux(s, e) {
    const i = s.allWrites.findIndex(h => h.writeId === e);
    Y(i >= 0, "removeWrite called with nonexistent writeId.");
    const r = s.allWrites[i];
    s.allWrites.splice(i, 1);
    let o = r.visible
      , c = !1
      , f = s.allWrites.length - 1;
    for (; o && f >= 0; ) {
        const h = s.allWrites[f];
        h.visible && (f >= i && dx(h, r.path) ? o = !1 : an(r.path, h.path) && (c = !0)),
        f--
    }
    if (o) {
        if (c)
            return fx(s),
            !0;
        if (r.snap)
            s.visibleWrites = Uv(s.visibleWrites, r.path);
        else {
            const h = r.children;
            At(h, p => {
                s.visibleWrites = Uv(s.visibleWrites, Je(r.path, p))
            }
            )
        }
        return !0
    } else
        return !1
}
function dx(s, e) {
    if (s.snap)
        return an(s.path, e);
    for (const i in s.children)
        if (s.children.hasOwnProperty(i) && an(Je(s.path, i), e))
            return !0;
    return !1
}
function fx(s) {
    s.visibleWrites = Z0(s.allWrites, hx, Se()),
    s.allWrites.length > 0 ? s.lastWriteId = s.allWrites[s.allWrites.length - 1].writeId : s.lastWriteId = -1
}
function hx(s) {
    return s.visible
}
function Z0(s, e, i) {
    let r = on.empty();
    for (let o = 0; o < s.length; ++o) {
        const c = s[o];
        if (e(c)) {
            const f = c.path;
            let h;
            if (c.snap)
                an(i, f) ? (h = vt(i, f),
                r = kr(r, h, c.snap)) : an(f, i) && (h = vt(f, i),
                r = kr(r, Se(), c.snap.getChild(h)));
            else if (c.children) {
                if (an(i, f))
                    h = vt(i, f),
                    r = jv(r, h, c.children);
                else if (an(f, i))
                    if (h = vt(f, i),
                    me(h))
                        r = jv(r, Se(), c.children);
                    else {
                        const p = sa(c.children, _e(h));
                        if (p) {
                            const m = p.getChild(Le(h));
                            r = kr(r, Se(), m)
                        }
                    }
            } else
                throw ha("WriteRecord should have .snap or .children")
        }
    }
    return r
}
function J0(s, e, i, r, o) {
    if (!r && !o) {
        const c = us(s.visibleWrites, e);
        if (c != null)
            return c;
        {
            const f = wi(s.visibleWrites, e);
            if (bf(f))
                return i;
            if (i == null && !Ef(f, Se()))
                return null;
            {
                const h = i || se.EMPTY_NODE;
                return ca(f, h)
            }
        }
    } else {
        const c = wi(s.visibleWrites, e);
        if (!o && bf(c))
            return i;
        if (!o && i == null && !Ef(c, Se()))
            return null;
        {
            const f = function(m) {
                return (m.visible || o) && (!r || !~r.indexOf(m.writeId)) && (an(m.path, e) || an(e, m.path))
            }
              , h = Z0(s.allWrites, f, e)
              , p = i || se.EMPTY_NODE;
            return ca(h, p)
        }
    }
}
function px(s, e, i) {
    let r = se.EMPTY_NODE;
    const o = us(s.visibleWrites, e);
    if (o)
        return o.isLeafNode() || o.forEachChild(Ge, (c, f) => {
            r = r.updateImmediateChild(c, f)
        }
        ),
        r;
    if (i) {
        const c = wi(s.visibleWrites, e);
        return i.forEachChild(Ge, (f, h) => {
            const p = ca(wi(c, new Me(f)), h);
            r = r.updateImmediateChild(f, p)
        }
        ),
        Pv(c).forEach(f => {
            r = r.updateImmediateChild(f.name, f.node)
        }
        ),
        r
    } else {
        const c = wi(s.visibleWrites, e);
        return Pv(c).forEach(f => {
            r = r.updateImmediateChild(f.name, f.node)
        }
        ),
        r
    }
}
function mx(s, e, i, r, o) {
    Y(r || o, "Either existingEventSnap or existingServerSnap must exist");
    const c = Je(e, i);
    if (Ef(s.visibleWrites, c))
        return null;
    {
        const f = wi(s.visibleWrites, c);
        return bf(f) ? o.getChild(i) : ca(f, o.getChild(i))
    }
}
function gx(s, e, i, r) {
    const o = Je(e, i)
      , c = us(s.visibleWrites, o);
    if (c != null)
        return c;
    if (r.isCompleteForChild(i)) {
        const f = wi(s.visibleWrites, o);
        return ca(f, r.getNode().getImmediateChild(i))
    } else
        return null
}
function _x(s, e) {
    return us(s.visibleWrites, e)
}
function vx(s, e, i, r, o, c, f) {
    let h;
    const p = wi(s.visibleWrites, e)
      , m = us(p, Se());
    if (m != null)
        h = m;
    else if (i != null)
        h = ca(p, i);
    else
        return [];
    if (h = h.withIndex(f),
    !h.isEmpty() && !h.isLeafNode()) {
        const E = []
          , b = f.getCompare()
          , y = c ? h.getReverseIteratorFrom(r, f) : h.getIteratorFrom(r, f);
        let A = y.getNext();
        for (; A && E.length < o; )
            b(A, r) !== 0 && E.push(A),
            A = y.getNext();
        return E
    } else
        return []
}
function yx() {
    return {
        visibleWrites: on.empty(),
        allWrites: [],
        lastWriteId: -1
    }
}
function Jo(s, e, i, r) {
    return J0(s.writeTree, s.treePath, e, i, r)
}
function fh(s, e) {
    return px(s.writeTree, s.treePath, e)
}
function zv(s, e, i, r) {
    return mx(s.writeTree, s.treePath, e, i, r)
}
function ec(s, e) {
    return _x(s.writeTree, Je(s.treePath, e))
}
function Ex(s, e, i, r, o, c) {
    return vx(s.writeTree, s.treePath, e, i, r, o, c)
}
function hh(s, e, i) {
    return gx(s.writeTree, s.treePath, e, i)
}
function eE(s, e) {
    return tE(Je(s.treePath, e), s.writeTree)
}
function tE(s, e) {
    return {
        treePath: s,
        writeTree: e
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bx {
    constructor() {
        this.changeMap = new Map
    }
    trackChildChange(e) {
        const i = e.type
          , r = e.childName;
        Y(i === "child_added" || i === "child_changed" || i === "child_removed", "Only child changes supported for tracking"),
        Y(r !== ".priority", "Only non-priority child changes can be tracked.");
        const o = this.changeMap.get(r);
        if (o) {
            const c = o.type;
            if (i === "child_added" && c === "child_removed")
                this.changeMap.set(r, Vr(r, e.snapshotNode, o.snapshotNode));
            else if (i === "child_removed" && c === "child_added")
                this.changeMap.delete(r);
            else if (i === "child_removed" && c === "child_changed")
                this.changeMap.set(r, qr(r, o.oldSnap));
            else if (i === "child_changed" && c === "child_added")
                this.changeMap.set(r, oa(r, e.snapshotNode));
            else if (i === "child_changed" && c === "child_changed")
                this.changeMap.set(r, Vr(r, e.snapshotNode, o.oldSnap));
            else
                throw ha("Illegal combination of changes: " + e + " occurred after " + o)
        } else
            this.changeMap.set(r, e)
    }
    getChanges() {
        return Array.from(this.changeMap.values())
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Sx {
    getCompleteChild(e) {
        return null
    }
    getChildAfterChild(e, i, r) {
        return null
    }
}
const nE = new Sx;
class ph {
    constructor(e, i, r=null) {
        this.writes_ = e,
        this.viewCache_ = i,
        this.optCompleteServerCache_ = r
    }
    getCompleteChild(e) {
        const i = this.viewCache_.eventCache;
        if (i.isCompleteForChild(e))
            return i.getNode().getImmediateChild(e);
        {
            const r = this.optCompleteServerCache_ != null ? new Ai(this.optCompleteServerCache_,!0,!1) : this.viewCache_.serverCache;
            return hh(this.writes_, e, r)
        }
    }
    getChildAfterChild(e, i, r) {
        const o = this.optCompleteServerCache_ != null ? this.optCompleteServerCache_ : ls(this.viewCache_)
          , c = Ex(this.writes_, o, i, 1, r, e);
        return c.length === 0 ? null : c[0]
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Cx(s) {
    return {
        filter: s
    }
}
function Tx(s, e) {
    Y(e.eventCache.getNode().isIndexed(s.filter.getIndex()), "Event snap not indexed"),
    Y(e.serverCache.getNode().isIndexed(s.filter.getIndex()), "Server snap not indexed")
}
function wx(s, e, i, r, o) {
    const c = new bx;
    let f, h;
    if (i.type === rn.OVERWRITE) {
        const m = i;
        m.source.fromUser ? f = Sf(s, e, m.path, m.snap, r, o, c) : (Y(m.source.fromServer, "Unknown source."),
        h = m.source.tagged || e.serverCache.isFiltered() && !me(m.path),
        f = tc(s, e, m.path, m.snap, r, o, h, c))
    } else if (i.type === rn.MERGE) {
        const m = i;
        m.source.fromUser ? f = Rx(s, e, m.path, m.children, r, o, c) : (Y(m.source.fromServer, "Unknown source."),
        h = m.source.tagged || e.serverCache.isFiltered(),
        f = Cf(s, e, m.path, m.children, r, o, h, c))
    } else if (i.type === rn.ACK_USER_WRITE) {
        const m = i;
        m.revert ? f = Ox(s, e, m.path, r, o, c) : f = Ax(s, e, m.path, m.affectedTree, r, o, c)
    } else if (i.type === rn.LISTEN_COMPLETE)
        f = xx(s, e, i.path, r, c);
    else
        throw ha("Unknown operation type: " + i.type);
    const p = c.getChanges();
    return Nx(e, f, p),
    {
        viewCache: f,
        changes: p
    }
}
function Nx(s, e, i) {
    const r = e.eventCache;
    if (r.isFullyInitialized()) {
        const o = r.getNode().isLeafNode() || r.getNode().isEmpty()
          , c = Zo(s);
        (i.length > 0 || !s.eventCache.isFullyInitialized() || o && !r.getNode().equals(c) || !r.getNode().getPriority().equals(c.getPriority())) && i.push(K0(Zo(e)))
    }
}
function iE(s, e, i, r, o, c) {
    const f = e.eventCache;
    if (ec(r, i) != null)
        return e;
    {
        let h, p;
        if (me(i))
            if (Y(e.serverCache.isFullyInitialized(), "If change path is empty, we must have complete server data"),
            e.serverCache.isFiltered()) {
                const m = ls(e)
                  , E = m instanceof se ? m : se.EMPTY_NODE
                  , b = fh(r, E);
                h = s.filter.updateFullNode(e.eventCache.getNode(), b, c)
            } else {
                const m = Jo(r, ls(e));
                h = s.filter.updateFullNode(e.eventCache.getNode(), m, c)
            }
        else {
            const m = _e(i);
            if (m === ".priority") {
                Y(Ri(i) === 1, "Can't have a priority with additional path components");
                const E = f.getNode();
                p = e.serverCache.getNode();
                const b = zv(r, i, E, p);
                b != null ? h = s.filter.updatePriority(E, b) : h = f.getNode()
            } else {
                const E = Le(i);
                let b;
                if (f.isCompleteForChild(m)) {
                    p = e.serverCache.getNode();
                    const y = zv(r, i, f.getNode(), p);
                    y != null ? b = f.getNode().getImmediateChild(m).updateChild(E, y) : b = f.getNode().getImmediateChild(m)
                } else
                    b = hh(r, m, e.serverCache);
                b != null ? h = s.filter.updateChild(f.getNode(), m, b, E, o, c) : h = f.getNode()
            }
        }
        return Mr(e, h, f.isFullyInitialized() || me(i), s.filter.filtersNodes())
    }
}
function tc(s, e, i, r, o, c, f, h) {
    const p = e.serverCache;
    let m;
    const E = f ? s.filter : s.filter.getIndexedFilter();
    if (me(i))
        m = E.updateFullNode(p.getNode(), r, null);
    else if (E.filtersNodes() && !p.isFiltered()) {
        const A = p.getNode().updateChild(i, r);
        m = E.updateFullNode(p.getNode(), A, null)
    } else {
        const A = _e(i);
        if (!p.isCompleteForPath(i) && Ri(i) > 1)
            return e;
        const T = Le(i)
          , z = p.getNode().getImmediateChild(A).updateChild(T, r);
        A === ".priority" ? m = E.updatePriority(p.getNode(), z) : m = E.updateChild(p.getNode(), A, z, T, nE, null)
    }
    const b = X0(e, m, p.isFullyInitialized() || me(i), E.filtersNodes())
      , y = new ph(o,b,c);
    return iE(s, b, i, o, y, h)
}
function Sf(s, e, i, r, o, c, f) {
    const h = e.eventCache;
    let p, m;
    const E = new ph(o,e,c);
    if (me(i))
        m = s.filter.updateFullNode(e.eventCache.getNode(), r, f),
        p = Mr(e, m, !0, s.filter.filtersNodes());
    else {
        const b = _e(i);
        if (b === ".priority")
            m = s.filter.updatePriority(e.eventCache.getNode(), r),
            p = Mr(e, m, h.isFullyInitialized(), h.isFiltered());
        else {
            const y = Le(i)
              , A = h.getNode().getImmediateChild(b);
            let T;
            if (me(y))
                T = r;
            else {
                const k = E.getCompleteChild(b);
                k != null ? U0(y) === ".priority" && k.getChild(z0(y)).isEmpty() ? T = k : T = k.updateChild(y, r) : T = se.EMPTY_NODE
            }
            if (A.equals(T))
                p = e;
            else {
                const k = s.filter.updateChild(h.getNode(), b, T, y, E, f);
                p = Mr(e, k, h.isFullyInitialized(), s.filter.filtersNodes())
            }
        }
    }
    return p
}
function Hv(s, e) {
    return s.eventCache.isCompleteForChild(e)
}
function Rx(s, e, i, r, o, c, f) {
    let h = e;
    return r.foreach( (p, m) => {
        const E = Je(i, p);
        Hv(e, _e(E)) && (h = Sf(s, h, E, m, o, c, f))
    }
    ),
    r.foreach( (p, m) => {
        const E = Je(i, p);
        Hv(e, _e(E)) || (h = Sf(s, h, E, m, o, c, f))
    }
    ),
    h
}
function Bv(s, e, i) {
    return i.foreach( (r, o) => {
        e = e.updateChild(r, o)
    }
    ),
    e
}
function Cf(s, e, i, r, o, c, f, h) {
    if (e.serverCache.getNode().isEmpty() && !e.serverCache.isFullyInitialized())
        return e;
    let p = e, m;
    me(i) ? m = r : m = new je(null).setTree(i, r);
    const E = e.serverCache.getNode();
    return m.children.inorderTraversal( (b, y) => {
        if (E.hasChild(b)) {
            const A = e.serverCache.getNode().getImmediateChild(b)
              , T = Bv(s, A, y);
            p = tc(s, p, new Me(b), T, o, c, f, h)
        }
    }
    ),
    m.children.inorderTraversal( (b, y) => {
        const A = !e.serverCache.isCompleteForChild(b) && y.value === null;
        if (!E.hasChild(b) && !A) {
            const T = e.serverCache.getNode().getImmediateChild(b)
              , k = Bv(s, T, y);
            p = tc(s, p, new Me(b), k, o, c, f, h)
        }
    }
    ),
    p
}
function Ax(s, e, i, r, o, c, f) {
    if (ec(o, i) != null)
        return e;
    const h = e.serverCache.isFiltered()
      , p = e.serverCache;
    if (r.value != null) {
        if (me(i) && p.isFullyInitialized() || p.isCompleteForPath(i))
            return tc(s, e, i, p.getNode().getChild(i), o, c, h, f);
        if (me(i)) {
            let m = new je(null);
            return p.getNode().forEachChild(ia, (E, b) => {
                m = m.set(new Me(E), b)
            }
            ),
            Cf(s, e, i, m, o, c, h, f)
        } else
            return e
    } else {
        let m = new je(null);
        return r.foreach( (E, b) => {
            const y = Je(i, E);
            p.isCompleteForPath(y) && (m = m.set(E, p.getNode().getChild(y)))
        }
        ),
        Cf(s, e, i, m, o, c, h, f)
    }
}
function xx(s, e, i, r, o) {
    const c = e.serverCache
      , f = X0(e, c.getNode(), c.isFullyInitialized() || me(i), c.isFiltered());
    return iE(s, f, i, r, nE, o)
}
function Ox(s, e, i, r, o, c) {
    let f;
    if (ec(r, i) != null)
        return e;
    {
        const h = new ph(r,e,o)
          , p = e.eventCache.getNode();
        let m;
        if (me(i) || _e(i) === ".priority") {
            let E;
            if (e.serverCache.isFullyInitialized())
                E = Jo(r, ls(e));
            else {
                const b = e.serverCache.getNode();
                Y(b instanceof se, "serverChildren would be complete if leaf node"),
                E = fh(r, b)
            }
            E = E,
            m = s.filter.updateFullNode(p, E, c)
        } else {
            const E = _e(i);
            let b = hh(r, E, e.serverCache);
            b == null && e.serverCache.isCompleteForChild(E) && (b = p.getImmediateChild(E)),
            b != null ? m = s.filter.updateChild(p, E, b, Le(i), h, c) : e.eventCache.getNode().hasChild(E) ? m = s.filter.updateChild(p, E, se.EMPTY_NODE, Le(i), h, c) : m = p,
            m.isEmpty() && e.serverCache.isFullyInitialized() && (f = Jo(r, ls(e)),
            f.isLeafNode() && (m = s.filter.updateFullNode(m, f, c)))
        }
        return f = e.serverCache.isFullyInitialized() || ec(r, Se()) != null,
        Mr(e, m, f, s.filter.filtersNodes())
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ix {
    constructor(e, i) {
        this.query_ = e,
        this.eventRegistrations_ = [];
        const r = this.query_._queryParams
          , o = new oh(r.getIndex())
          , c = XA(r);
        this.processor_ = Cx(c);
        const f = i.serverCache
          , h = i.eventCache
          , p = o.updateFullNode(se.EMPTY_NODE, f.getNode(), null)
          , m = c.updateFullNode(se.EMPTY_NODE, h.getNode(), null)
          , E = new Ai(p,f.isFullyInitialized(),o.filtersNodes())
          , b = new Ai(m,h.isFullyInitialized(),c.filtersNodes());
        this.viewCache_ = hc(b, E),
        this.eventGenerator_ = new ix(this.query_)
    }
    get query() {
        return this.query_
    }
}
function Dx(s) {
    return s.viewCache_.serverCache.getNode()
}
function Mx(s) {
    return Zo(s.viewCache_)
}
function kx(s, e) {
    const i = ls(s.viewCache_);
    return i && (s.query._queryParams.loadsAllData() || !me(e) && !i.getImmediateChild(_e(e)).isEmpty()) ? i.getChild(e) : null
}
function qv(s) {
    return s.eventRegistrations_.length === 0
}
function Lx(s, e) {
    s.eventRegistrations_.push(e)
}
function Vv(s, e, i) {
    const r = [];
    if (i) {
        Y(e == null, "A cancel should cancel all event registrations.");
        const o = s.query._path;
        s.eventRegistrations_.forEach(c => {
            const f = c.createCancelEvent(i, o);
            f && r.push(f)
        }
        )
    }
    if (e) {
        let o = [];
        for (let c = 0; c < s.eventRegistrations_.length; ++c) {
            const f = s.eventRegistrations_[c];
            if (!f.matches(e))
                o.push(f);
            else if (e.hasAnyCallback()) {
                o = o.concat(s.eventRegistrations_.slice(c + 1));
                break
            }
        }
        s.eventRegistrations_ = o
    } else
        s.eventRegistrations_ = [];
    return r
}
function Gv(s, e, i, r) {
    e.type === rn.MERGE && e.source.queryId !== null && (Y(ls(s.viewCache_), "We should always have a full cache before handling merges"),
    Y(Zo(s.viewCache_), "Missing event cache, even though we have a server cache"));
    const o = s.viewCache_
      , c = wx(s.processor_, o, e, i, r);
    return Tx(s.processor_, c.viewCache),
    Y(c.viewCache.serverCache.isFullyInitialized() || !o.serverCache.isFullyInitialized(), "Once a server snap is complete, it should never go back"),
    s.viewCache_ = c.viewCache,
    sE(s, c.changes, c.viewCache.eventCache.getNode(), null)
}
function jx(s, e) {
    const i = s.viewCache_.eventCache
      , r = [];
    return i.getNode().isLeafNode() || i.getNode().forEachChild(Ge, (c, f) => {
        r.push(oa(c, f))
    }
    ),
    i.isFullyInitialized() && r.push(K0(i.getNode())),
    sE(s, r, i.getNode(), e)
}
function sE(s, e, i, r) {
    const o = r ? [r] : s.eventRegistrations_;
    return sx(s.eventGenerator_, e, i, o)
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let nc;
class aE {
    constructor() {
        this.views = new Map
    }
}
function Ux(s) {
    Y(!nc, "__referenceConstructor has already been defined"),
    nc = s
}
function Px() {
    return Y(nc, "Reference.ts has not been loaded"),
    nc
}
function zx(s) {
    return s.views.size === 0
}
function mh(s, e, i, r) {
    const o = e.source.queryId;
    if (o !== null) {
        const c = s.views.get(o);
        return Y(c != null, "SyncTree gave us an op for an invalid query."),
        Gv(c, e, i, r)
    } else {
        let c = [];
        for (const f of s.views.values())
            c = c.concat(Gv(f, e, i, r));
        return c
    }
}
function rE(s, e, i, r, o) {
    const c = e._queryIdentifier
      , f = s.views.get(c);
    if (!f) {
        let h = Jo(i, o ? r : null)
          , p = !1;
        h ? p = !0 : r instanceof se ? (h = fh(i, r),
        p = !1) : (h = se.EMPTY_NODE,
        p = !1);
        const m = hc(new Ai(h,p,!1), new Ai(r,o,!1));
        return new Ix(e,m)
    }
    return f
}
function Hx(s, e, i, r, o, c) {
    const f = rE(s, e, r, o, c);
    return s.views.has(e._queryIdentifier) || s.views.set(e._queryIdentifier, f),
    Lx(f, i),
    jx(f, i)
}
function Bx(s, e, i, r) {
    const o = e._queryIdentifier
      , c = [];
    let f = [];
    const h = xi(s);
    if (o === "default")
        for (const [p,m] of s.views.entries())
            f = f.concat(Vv(m, i, r)),
            qv(m) && (s.views.delete(p),
            m.query._queryParams.loadsAllData() || c.push(m.query));
    else {
        const p = s.views.get(o);
        p && (f = f.concat(Vv(p, i, r)),
        qv(p) && (s.views.delete(o),
        p.query._queryParams.loadsAllData() || c.push(p.query)))
    }
    return h && !xi(s) && c.push(new (Px())(e._repo,e._path)),
    {
        removed: c,
        events: f
    }
}
function lE(s) {
    const e = [];
    for (const i of s.views.values())
        i.query._queryParams.loadsAllData() || e.push(i);
    return e
}
function Ni(s, e) {
    let i = null;
    for (const r of s.views.values())
        i = i || kx(r, e);
    return i
}
function oE(s, e) {
    if (e._queryParams.loadsAllData())
        return mc(s);
    {
        const r = e._queryIdentifier;
        return s.views.get(r)
    }
}
function cE(s, e) {
    return oE(s, e) != null
}
function xi(s) {
    return mc(s) != null
}
function mc(s) {
    for (const e of s.views.values())
        if (e.query._queryParams.loadsAllData())
            return e;
    return null
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let ic;
function qx(s) {
    Y(!ic, "__referenceConstructor has already been defined"),
    ic = s
}
function Vx() {
    return Y(ic, "Reference.ts has not been loaded"),
    ic
}
let Gx = 1;
class Yv {
    constructor(e) {
        this.listenProvider_ = e,
        this.syncPointTree_ = new je(null),
        this.pendingWriteTree_ = yx(),
        this.tagToQueryMap = new Map,
        this.queryToTagMap = new Map
    }
}
function uE(s, e, i, r, o) {
    return ox(s.pendingWriteTree_, e, i, r, o),
    o ? rl(s, new rs(W0(),e,i)) : []
}
function ts(s, e, i=!1) {
    const r = cx(s.pendingWriteTree_, e);
    if (ux(s.pendingWriteTree_, e)) {
        let c = new je(null);
        return r.snap != null ? c = c.set(Se(), !0) : At(r.children, f => {
            c = c.set(new Me(f), !0)
        }
        ),
        rl(s, new $o(r.path,c,i))
    } else
        return []
}
function al(s, e, i) {
    return rl(s, new rs(uh(),e,i))
}
function Yx(s, e, i) {
    const r = je.fromObject(i);
    return rl(s, new Fr(uh(),e,r))
}
function Fx(s, e) {
    return rl(s, new Yr(uh(),e))
}
function Kx(s, e, i) {
    const r = _h(s, i);
    if (r) {
        const o = vh(r)
          , c = o.path
          , f = o.queryId
          , h = vt(c, e)
          , p = new Yr(dh(f),h);
        return yh(s, c, p)
    } else
        return []
}
function dE(s, e, i, r, o=!1) {
    const c = e._path
      , f = s.syncPointTree_.get(c);
    let h = [];
    if (f && (e._queryIdentifier === "default" || cE(f, e))) {
        const p = Bx(f, e, i, r);
        zx(f) && (s.syncPointTree_ = s.syncPointTree_.remove(c));
        const m = p.removed;
        if (h = p.events,
        !o) {
            const E = m.findIndex(y => y._queryParams.loadsAllData()) !== -1
              , b = s.syncPointTree_.findOnPath(c, (y, A) => xi(A));
            if (E && !b) {
                const y = s.syncPointTree_.subtree(c);
                if (!y.isEmpty()) {
                    const A = $x(y);
                    for (let T = 0; T < A.length; ++T) {
                        const k = A[T]
                          , z = k.query
                          , H = mE(s, k);
                        s.listenProvider_.startListening(Lr(z), Kr(s, z), H.hashFn, H.onComplete)
                    }
                }
            }
            !b && m.length > 0 && !r && (E ? s.listenProvider_.stopListening(Lr(e), null) : m.forEach(y => {
                const A = s.queryToTagMap.get(gc(y));
                s.listenProvider_.stopListening(Lr(y), A)
            }
            ))
        }
        Zx(s, m)
    }
    return h
}
function fE(s, e, i, r) {
    const o = _h(s, r);
    if (o != null) {
        const c = vh(o)
          , f = c.path
          , h = c.queryId
          , p = vt(f, e)
          , m = new rs(dh(h),p,i);
        return yh(s, f, m)
    } else
        return []
}
function Qx(s, e, i, r) {
    const o = _h(s, r);
    if (o) {
        const c = vh(o)
          , f = c.path
          , h = c.queryId
          , p = vt(f, e)
          , m = je.fromObject(i)
          , E = new Fr(dh(h),p,m);
        return yh(s, f, E)
    } else
        return []
}
function Wx(s, e, i, r=!1) {
    const o = e._path;
    let c = null
      , f = !1;
    s.syncPointTree_.foreachOnPath(o, (y, A) => {
        const T = vt(y, o);
        c = c || Ni(A, T),
        f = f || xi(A)
    }
    );
    let h = s.syncPointTree_.get(o);
    h ? (f = f || xi(h),
    c = c || Ni(h, Se())) : (h = new aE,
    s.syncPointTree_ = s.syncPointTree_.set(o, h));
    let p;
    c != null ? p = !0 : (p = !1,
    c = se.EMPTY_NODE,
    s.syncPointTree_.subtree(o).foreachChild( (A, T) => {
        const k = Ni(T, Se());
        k && (c = c.updateImmediateChild(A, k))
    }
    ));
    const m = cE(h, e);
    if (!m && !e._queryParams.loadsAllData()) {
        const y = gc(e);
        Y(!s.queryToTagMap.has(y), "View does not exist, but we have a tag");
        const A = Jx();
        s.queryToTagMap.set(y, A),
        s.tagToQueryMap.set(A, y)
    }
    const E = pc(s.pendingWriteTree_, o);
    let b = Hx(h, e, i, E, c, p);
    if (!m && !f && !r) {
        const y = oE(h, e);
        b = b.concat(eO(s, e, y))
    }
    return b
}
function gh(s, e, i) {
    const o = s.pendingWriteTree_
      , c = s.syncPointTree_.findOnPath(e, (f, h) => {
        const p = vt(f, e)
          , m = Ni(h, p);
        if (m)
            return m
    }
    );
    return J0(o, e, c, i, !0)
}
function Xx(s, e) {
    const i = e._path;
    let r = null;
    s.syncPointTree_.foreachOnPath(i, (m, E) => {
        const b = vt(m, i);
        r = r || Ni(E, b)
    }
    );
    let o = s.syncPointTree_.get(i);
    o ? r = r || Ni(o, Se()) : (o = new aE,
    s.syncPointTree_ = s.syncPointTree_.set(i, o));
    const c = r != null
      , f = c ? new Ai(r,!0,!1) : null
      , h = pc(s.pendingWriteTree_, e._path)
      , p = rE(o, e, h, c ? f.getNode() : se.EMPTY_NODE, c);
    return Mx(p)
}
function rl(s, e) {
    return hE(e, s.syncPointTree_, null, pc(s.pendingWriteTree_, Se()))
}
function hE(s, e, i, r) {
    if (me(s.path))
        return pE(s, e, i, r);
    {
        const o = e.get(Se());
        i == null && o != null && (i = Ni(o, Se()));
        let c = [];
        const f = _e(s.path)
          , h = s.operationForChild(f)
          , p = e.children.get(f);
        if (p && h) {
            const m = i ? i.getImmediateChild(f) : null
              , E = eE(r, f);
            c = c.concat(hE(h, p, m, E))
        }
        return o && (c = c.concat(mh(o, s, r, i))),
        c
    }
}
function pE(s, e, i, r) {
    const o = e.get(Se());
    i == null && o != null && (i = Ni(o, Se()));
    let c = [];
    return e.children.inorderTraversal( (f, h) => {
        const p = i ? i.getImmediateChild(f) : null
          , m = eE(r, f)
          , E = s.operationForChild(f);
        E && (c = c.concat(pE(E, h, p, m)))
    }
    ),
    o && (c = c.concat(mh(o, s, r, i))),
    c
}
function mE(s, e) {
    const i = e.query
      , r = Kr(s, i);
    return {
        hashFn: () => (Dx(e) || se.EMPTY_NODE).hash(),
        onComplete: o => {
            if (o === "ok")
                return r ? Kx(s, i._path, r) : Fx(s, i._path);
            {
                const c = WR(o, i);
                return dE(s, i, null, c)
            }
        }
    }
}
function Kr(s, e) {
    const i = gc(e);
    return s.queryToTagMap.get(i)
}
function gc(s) {
    return s._path.toString() + "$" + s._queryIdentifier
}
function _h(s, e) {
    return s.tagToQueryMap.get(e)
}
function vh(s) {
    const e = s.indexOf("$");
    return Y(e !== -1 && e < s.length - 1, "Bad queryKey."),
    {
        queryId: s.substr(e + 1),
        path: new Me(s.substr(0, e))
    }
}
function yh(s, e, i) {
    const r = s.syncPointTree_.get(e);
    Y(r, "Missing sync point for query tag that we're tracking");
    const o = pc(s.pendingWriteTree_, e);
    return mh(r, i, o, null)
}
function $x(s) {
    return s.fold( (e, i, r) => {
        if (i && xi(i))
            return [mc(i)];
        {
            let o = [];
            return i && (o = lE(i)),
            At(r, (c, f) => {
                o = o.concat(f)
            }
            ),
            o
        }
    }
    )
}
function Lr(s) {
    return s._queryParams.loadsAllData() && !s._queryParams.isDefault() ? new (Vx())(s._repo,s._path) : s
}
function Zx(s, e) {
    for (let i = 0; i < e.length; ++i) {
        const r = e[i];
        if (!r._queryParams.loadsAllData()) {
            const o = gc(r)
              , c = s.queryToTagMap.get(o);
            s.queryToTagMap.delete(o),
            s.tagToQueryMap.delete(c)
        }
    }
}
function Jx() {
    return Gx++
}
function eO(s, e, i) {
    const r = e._path
      , o = Kr(s, e)
      , c = mE(s, i)
      , f = s.listenProvider_.startListening(Lr(e), o, c.hashFn, c.onComplete)
      , h = s.syncPointTree_.subtree(r);
    if (o)
        Y(!xi(h.value), "If we're adding a query, it shouldn't be shadowed");
    else {
        const p = h.fold( (m, E, b) => {
            if (!me(m) && E && xi(E))
                return [mc(E).query];
            {
                let y = [];
                return E && (y = y.concat(lE(E).map(A => A.query))),
                At(b, (A, T) => {
                    y = y.concat(T)
                }
                ),
                y
            }
        }
        );
        for (let m = 0; m < p.length; ++m) {
            const E = p[m];
            s.listenProvider_.stopListening(Lr(E), Kr(s, E))
        }
    }
    return f
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Eh {
    constructor(e) {
        this.node_ = e
    }
    getImmediateChild(e) {
        const i = this.node_.getImmediateChild(e);
        return new Eh(i)
    }
    node() {
        return this.node_
    }
}
class bh {
    constructor(e, i) {
        this.syncTree_ = e,
        this.path_ = i
    }
    getImmediateChild(e) {
        const i = Je(this.path_, e);
        return new bh(this.syncTree_,i)
    }
    node() {
        return gh(this.syncTree_, this.path_)
    }
}
const tO = function(s) {
    return s = s || {},
    s.timestamp = s.timestamp || new Date().getTime(),
    s
}
  , Fv = function(s, e, i) {
    if (!s || typeof s != "object")
        return s;
    if (Y(".sv"in s, "Unexpected leaf node or priority contents"),
    typeof s[".sv"] == "string")
        return nO(s[".sv"], e, i);
    if (typeof s[".sv"] == "object")
        return iO(s[".sv"], e);
    Y(!1, "Unexpected server value: " + JSON.stringify(s, null, 2))
}
  , nO = function(s, e, i) {
    switch (s) {
    case "timestamp":
        return i.timestamp;
    default:
        Y(!1, "Unexpected server value: " + s)
    }
}
  , iO = function(s, e, i) {
    s.hasOwnProperty("increment") || Y(!1, "Unexpected server value: " + JSON.stringify(s, null, 2));
    const r = s.increment;
    typeof r != "number" && Y(!1, "Unexpected increment value: " + r);
    const o = e.node();
    if (Y(o !== null && typeof o < "u", "Expected ChildrenNode.EMPTY_NODE for nulls"),
    !o.isLeafNode())
        return r;
    const f = o.getValue();
    return typeof f != "number" ? r : f + r
}
  , sO = function(s, e, i, r) {
    return Sh(e, new bh(i,s), r)
}
  , gE = function(s, e, i) {
    return Sh(s, new Eh(e), i)
};
function Sh(s, e, i) {
    const r = s.getPriority().val()
      , o = Fv(r, e.getImmediateChild(".priority"), i);
    let c;
    if (s.isLeafNode()) {
        const f = s
          , h = Fv(f.getValue(), e, i);
        return h !== f.getValue() || o !== f.getPriority().val() ? new at(h,lt(o)) : s
    } else {
        const f = s;
        return c = f,
        o !== f.getPriority().val() && (c = c.updatePriority(new at(o))),
        f.forEachChild(Ge, (h, p) => {
            const m = Sh(p, e.getImmediateChild(h), i);
            m !== p && (c = c.updateImmediateChild(h, m))
        }
        ),
        c
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ch {
    constructor(e="", i=null, r={
        children: {},
        childCount: 0
    }) {
        this.name = e,
        this.parent = i,
        this.node = r
    }
}
function Th(s, e) {
    let i = e instanceof Me ? e : new Me(e)
      , r = s
      , o = _e(i);
    for (; o !== null; ) {
        const c = sa(r.node.children, o) || {
            children: {},
            childCount: 0
        };
        r = new Ch(o,r,c),
        i = Le(i),
        o = _e(i)
    }
    return r
}
function ya(s) {
    return s.node.value
}
function _E(s, e) {
    s.node.value = e,
    Tf(s)
}
function vE(s) {
    return s.node.childCount > 0
}
function aO(s) {
    return ya(s) === void 0 && !vE(s)
}
function _c(s, e) {
    At(s.node.children, (i, r) => {
        e(new Ch(i,s,r))
    }
    )
}
function yE(s, e, i, r) {
    i && e(s),
    _c(s, o => {
        yE(o, e, !0)
    }
    )
}
function rO(s, e, i) {
    let r = s.parent;
    for (; r !== null; ) {
        if (e(r))
            return !0;
        r = r.parent
    }
    return !1
}
function ll(s) {
    return new Me(s.parent === null ? s.name : ll(s.parent) + "/" + s.name)
}
function Tf(s) {
    s.parent !== null && lO(s.parent, s.name, s)
}
function lO(s, e, i) {
    const r = aO(i)
      , o = Yn(s.node.children, e);
    r && o ? (delete s.node.children[e],
    s.node.childCount--,
    Tf(s)) : !r && !o && (s.node.children[e] = i.node,
    s.node.childCount++,
    Tf(s))
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const oO = /[\[\].#$\/\u0000-\u001F\u007F]/
  , cO = /[\[\].#$\u0000-\u001F\u007F]/
  , Jd = 10 * 1024 * 1024
  , EE = function(s) {
    return typeof s == "string" && s.length !== 0 && !oO.test(s)
}
  , bE = function(s) {
    return typeof s == "string" && s.length !== 0 && !cO.test(s)
}
  , uO = function(s) {
    return s && (s = s.replace(/^\/*\.info(\/|$)/, "/")),
    bE(s)
}
  , dO = function(s, e, i, r) {
    wh(Bf(s, "value"), e, i)
}
  , wh = function(s, e, i) {
    const r = i instanceof Me ? new AA(i,s) : i;
    if (e === void 0)
        throw new Error(s + "contains undefined " + Zi(r));
    if (typeof e == "function")
        throw new Error(s + "contains a function " + Zi(r) + " with contents = " + e.toString());
    if (g0(e))
        throw new Error(s + "contains " + e.toString() + " " + Zi(r));
    if (typeof e == "string" && e.length > Jd / 3 && lc(e) > Jd)
        throw new Error(s + "contains a string greater than " + Jd + " utf8 bytes " + Zi(r) + " ('" + e.substring(0, 50) + "...')");
    if (e && typeof e == "object") {
        let o = !1
          , c = !1;
        if (At(e, (f, h) => {
            if (f === ".value")
                o = !0;
            else if (f !== ".priority" && f !== ".sv" && (c = !0,
            !EE(f)))
                throw new Error(s + " contains an invalid key (" + f + ") " + Zi(r) + `.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);
            xA(r, f),
            wh(s, h, r),
            OA(r)
        }
        ),
        o && c)
            throw new Error(s + ' contains ".value" child ' + Zi(r) + " in addition to actual children.")
    }
}
  , SE = function(s, e, i, r) {
    if (!bE(i))
        throw new Error(Bf(s, e) + 'was an invalid path = "' + i + `". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)
}
  , fO = function(s, e, i, r) {
    i && (i = i.replace(/^\/*\.info(\/|$)/, "/")),
    SE(s, e, i)
}
  , hO = function(s, e) {
    if (_e(e) === ".info")
        throw new Error(s + " failed = Can't modify data under /.info/")
}
  , pO = function(s, e) {
    const i = e.path.toString();
    if (typeof e.repoInfo.host != "string" || e.repoInfo.host.length === 0 || !EE(e.repoInfo.namespace) && e.repoInfo.host.split(":")[0] !== "localhost" || i.length !== 0 && !uO(i))
        throw new Error(Bf(s, "url") + `must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)
};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mO {
    constructor() {
        this.eventLists_ = [],
        this.recursionDepth_ = 0
    }
}
function CE(s, e) {
    let i = null;
    for (let r = 0; r < e.length; r++) {
        const o = e[r]
          , c = o.getPath();
        i !== null && !H0(c, i.path) && (s.eventLists_.push(i),
        i = null),
        i === null && (i = {
            events: [],
            path: c
        }),
        i.events.push(o)
    }
    i && s.eventLists_.push(i)
}
function vn(s, e, i) {
    CE(s, i),
    gO(s, r => an(r, e) || an(e, r))
}
function gO(s, e) {
    s.recursionDepth_++;
    let i = !0;
    for (let r = 0; r < s.eventLists_.length; r++) {
        const o = s.eventLists_[r];
        if (o) {
            const c = o.path;
            e(c) ? (_O(s.eventLists_[r]),
            s.eventLists_[r] = null) : i = !1
        }
    }
    i && (s.eventLists_ = []),
    s.recursionDepth_--
}
function _O(s) {
    for (let e = 0; e < s.events.length; e++) {
        const i = s.events[e];
        if (i !== null) {
            s.events[e] = null;
            const r = i.getEventRunner();
            Ir && mt("event: " + i.toString()),
            va(r)
        }
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const vO = "repo_interrupt"
  , yO = 25;
class EO {
    constructor(e, i, r, o) {
        this.repoInfo_ = e,
        this.forceRestClient_ = i,
        this.authTokenProvider_ = r,
        this.appCheckProvider_ = o,
        this.dataUpdateCount = 0,
        this.statsListener_ = null,
        this.eventQueue_ = new mO,
        this.nextWriteId_ = 1,
        this.interceptServerDataCallback_ = null,
        this.onDisconnect_ = Xo(),
        this.transactionQueueTree_ = new Ch,
        this.persistentConnection_ = null,
        this.key = this.repoInfo_.toURLString()
    }
    toString() {
        return (this.repoInfo_.secure ? "https://" : "http://") + this.repoInfo_.host
    }
}
function bO(s, e, i) {
    if (s.stats_ = sh(s.repoInfo_),
    s.forceRestClient_ || JR())
        s.server_ = new Wo(s.repoInfo_, (r, o, c, f) => {
            Kv(s, r, o, c, f)
        }
        ,s.authTokenProvider_,s.appCheckProvider_),
        setTimeout( () => Qv(s, !0), 0);
    else {
        if (typeof i < "u" && i !== null) {
            if (typeof i != "object")
                throw new Error("Only objects are supported for option databaseAuthVariableOverride");
            try {
                Ze(i)
            } catch (r) {
                throw new Error("Invalid authOverride provided: " + r)
            }
        }
        s.persistentConnection_ = new Hn(s.repoInfo_,e, (r, o, c, f) => {
            Kv(s, r, o, c, f)
        }
        ,r => {
            Qv(s, r)
        }
        ,r => {
            CO(s, r)
        }
        ,s.authTokenProvider_,s.appCheckProvider_,i),
        s.server_ = s.persistentConnection_
    }
    s.authTokenProvider_.addTokenChangeListener(r => {
        s.server_.refreshAuthToken(r)
    }
    ),
    s.appCheckProvider_.addTokenChangeListener(r => {
        s.server_.refreshAppCheckToken(r.token)
    }
    ),
    s.statsReporter_ = sA(s.repoInfo_, () => new nx(s.stats_,s.server_)),
    s.infoData_ = new $A,
    s.infoSyncTree_ = new Yv({
        startListening: (r, o, c, f) => {
            let h = [];
            const p = s.infoData_.getNode(r._path);
            return p.isEmpty() || (h = al(s.infoSyncTree_, r._path, p),
            setTimeout( () => {
                f("ok")
            }
            , 0)),
            h
        }
        ,
        stopListening: () => {}
    }),
    Rh(s, "connected", !1),
    s.serverSyncTree_ = new Yv({
        startListening: (r, o, c, f) => (s.server_.listen(r, c, o, (h, p) => {
            const m = f(h, p);
            vn(s.eventQueue_, r._path, m)
        }
        ),
        []),
        stopListening: (r, o) => {
            s.server_.unlisten(r, o)
        }
    })
}
function SO(s) {
    const i = s.infoData_.getNode(new Me(".info/serverTimeOffset")).val() || 0;
    return new Date().getTime() + i
}
function Nh(s) {
    return tO({
        timestamp: SO(s)
    })
}
function Kv(s, e, i, r, o) {
    s.dataUpdateCount++;
    const c = new Me(e);
    i = s.interceptServerDataCallback_ ? s.interceptServerDataCallback_(e, i) : i;
    let f = [];
    if (o)
        if (r) {
            const p = Po(i, m => lt(m));
            f = Qx(s.serverSyncTree_, c, p, o)
        } else {
            const p = lt(i);
            f = fE(s.serverSyncTree_, c, p, o)
        }
    else if (r) {
        const p = Po(i, m => lt(m));
        f = Yx(s.serverSyncTree_, c, p)
    } else {
        const p = lt(i);
        f = al(s.serverSyncTree_, c, p)
    }
    let h = c;
    f.length > 0 && (h = yc(s, c)),
    vn(s.eventQueue_, h, f)
}
function Qv(s, e) {
    Rh(s, "connected", e),
    e === !1 && NO(s)
}
function CO(s, e) {
    At(e, (i, r) => {
        Rh(s, i, r)
    }
    )
}
function Rh(s, e, i) {
    const r = new Me("/.info/" + e)
      , o = lt(i);
    s.infoData_.updateSnapshot(r, o);
    const c = al(s.infoSyncTree_, r, o);
    vn(s.eventQueue_, r, c)
}
function TE(s) {
    return s.nextWriteId_++
}
function TO(s, e, i) {
    const r = Xx(s.serverSyncTree_, e);
    return r != null ? Promise.resolve(r) : s.server_.get(e).then(o => {
        const c = lt(o).withIndex(e._queryParams.getIndex());
        Wx(s.serverSyncTree_, e, i, !0);
        let f;
        if (e._queryParams.loadsAllData())
            f = al(s.serverSyncTree_, e._path, c);
        else {
            const h = Kr(s.serverSyncTree_, e);
            f = fE(s.serverSyncTree_, e._path, c, h)
        }
        return vn(s.eventQueue_, e._path, f),
        dE(s.serverSyncTree_, e, i, null, !0),
        c
    }
    , o => (vc(s, "get for query " + Ze(e) + " failed: " + o),
    Promise.reject(new Error(o))))
}
function wO(s, e, i, r, o) {
    vc(s, "set", {
        path: e.toString(),
        value: i,
        priority: r
    });
    const c = Nh(s)
      , f = lt(i, r)
      , h = gh(s.serverSyncTree_, e)
      , p = gE(f, h, c)
      , m = TE(s)
      , E = uE(s.serverSyncTree_, e, p, m, !0);
    CE(s.eventQueue_, E),
    s.server_.put(e.toString(), f.val(!0), (y, A) => {
        const T = y === "ok";
        T || Rt("set at " + e + " failed: " + y);
        const k = ts(s.serverSyncTree_, m, !T);
        vn(s.eventQueue_, e, k),
        AO(s, o, y, A)
    }
    );
    const b = xE(s, e);
    yc(s, b),
    vn(s.eventQueue_, b, [])
}
function NO(s) {
    vc(s, "onDisconnectEvents");
    const e = Nh(s)
      , i = Xo();
    yf(s.onDisconnect_, Se(), (o, c) => {
        const f = sO(o, c, s.serverSyncTree_, e);
        Q0(i, o, f)
    }
    );
    let r = [];
    yf(i, Se(), (o, c) => {
        r = r.concat(al(s.serverSyncTree_, o, c));
        const f = xE(s, o);
        yc(s, f)
    }
    ),
    s.onDisconnect_ = Xo(),
    vn(s.eventQueue_, Se(), r)
}
function RO(s) {
    s.persistentConnection_ && s.persistentConnection_.interrupt(vO)
}
function vc(s, ...e) {
    let i = "";
    s.persistentConnection_ && (i = s.persistentConnection_.id + ":"),
    mt(i, ...e)
}
function AO(s, e, i, r) {
    e && va( () => {
        if (i === "ok")
            e(null);
        else {
            const o = (i || "error").toUpperCase();
            let c = o;
            r && (c += ": " + r);
            const f = new Error(c);
            f.code = o,
            e(f)
        }
    }
    )
}
function wE(s, e, i) {
    return gh(s.serverSyncTree_, e, i) || se.EMPTY_NODE
}
function Ah(s, e=s.transactionQueueTree_) {
    if (e || Ec(s, e),
    ya(e)) {
        const i = RE(s, e);
        Y(i.length > 0, "Sending zero length transaction queue"),
        i.every(o => o.status === 0) && xO(s, ll(e), i)
    } else
        vE(e) && _c(e, i => {
            Ah(s, i)
        }
        )
}
function xO(s, e, i) {
    const r = i.map(m => m.currentWriteId)
      , o = wE(s, e, r);
    let c = o;
    const f = o.hash();
    for (let m = 0; m < i.length; m++) {
        const E = i[m];
        Y(E.status === 0, "tryToSendTransactionQueue_: items in queue should all be run."),
        E.status = 1,
        E.retryCount++;
        const b = vt(e, E.path);
        c = c.updateChild(b, E.currentOutputSnapshotRaw)
    }
    const h = c.val(!0)
      , p = e;
    s.server_.put(p.toString(), h, m => {
        vc(s, "transaction put response", {
            path: p.toString(),
            status: m
        });
        let E = [];
        if (m === "ok") {
            const b = [];
            for (let y = 0; y < i.length; y++)
                i[y].status = 2,
                E = E.concat(ts(s.serverSyncTree_, i[y].currentWriteId)),
                i[y].onComplete && b.push( () => i[y].onComplete(null, !0, i[y].currentOutputSnapshotResolved)),
                i[y].unwatcher();
            Ec(s, Th(s.transactionQueueTree_, e)),
            Ah(s, s.transactionQueueTree_),
            vn(s.eventQueue_, e, E);
            for (let y = 0; y < b.length; y++)
                va(b[y])
        } else {
            if (m === "datastale")
                for (let b = 0; b < i.length; b++)
                    i[b].status === 3 ? i[b].status = 4 : i[b].status = 0;
            else {
                Rt("transaction at " + p.toString() + " failed: " + m);
                for (let b = 0; b < i.length; b++)
                    i[b].status = 4,
                    i[b].abortReason = m
            }
            yc(s, e)
        }
    }
    , f)
}
function yc(s, e) {
    const i = NE(s, e)
      , r = ll(i)
      , o = RE(s, i);
    return OO(s, o, r),
    r
}
function OO(s, e, i) {
    if (e.length === 0)
        return;
    const r = [];
    let o = [];
    const f = e.filter(h => h.status === 0).map(h => h.currentWriteId);
    for (let h = 0; h < e.length; h++) {
        const p = e[h]
          , m = vt(i, p.path);
        let E = !1, b;
        if (Y(m !== null, "rerunTransactionsUnderNode_: relativePath should not be null."),
        p.status === 4)
            E = !0,
            b = p.abortReason,
            o = o.concat(ts(s.serverSyncTree_, p.currentWriteId, !0));
        else if (p.status === 0)
            if (p.retryCount >= yO)
                E = !0,
                b = "maxretry",
                o = o.concat(ts(s.serverSyncTree_, p.currentWriteId, !0));
            else {
                const y = wE(s, p.path, f);
                p.currentInputSnapshot = y;
                const A = e[h].update(y.val());
                if (A !== void 0) {
                    wh("transaction failed: Data returned ", A, p.path);
                    let T = lt(A);
                    typeof A == "object" && A != null && Yn(A, ".priority") || (T = T.updatePriority(y.getPriority()));
                    const z = p.currentWriteId
                      , H = Nh(s)
                      , B = gE(T, y, H);
                    p.currentOutputSnapshotRaw = T,
                    p.currentOutputSnapshotResolved = B,
                    p.currentWriteId = TE(s),
                    f.splice(f.indexOf(z), 1),
                    o = o.concat(uE(s.serverSyncTree_, p.path, B, p.currentWriteId, p.applyLocally)),
                    o = o.concat(ts(s.serverSyncTree_, z, !0))
                } else
                    E = !0,
                    b = "nodata",
                    o = o.concat(ts(s.serverSyncTree_, p.currentWriteId, !0))
            }
        vn(s.eventQueue_, i, o),
        o = [],
        E && (e[h].status = 2,
        function(y) {
            setTimeout(y, Math.floor(0))
        }(e[h].unwatcher),
        e[h].onComplete && (b === "nodata" ? r.push( () => e[h].onComplete(null, !1, e[h].currentInputSnapshot)) : r.push( () => e[h].onComplete(new Error(b), !1, null))))
    }
    Ec(s, s.transactionQueueTree_);
    for (let h = 0; h < r.length; h++)
        va(r[h]);
    Ah(s, s.transactionQueueTree_)
}
function NE(s, e) {
    let i, r = s.transactionQueueTree_;
    for (i = _e(e); i !== null && ya(r) === void 0; )
        r = Th(r, i),
        e = Le(e),
        i = _e(e);
    return r
}
function RE(s, e) {
    const i = [];
    return AE(s, e, i),
    i.sort( (r, o) => r.order - o.order),
    i
}
function AE(s, e, i) {
    const r = ya(e);
    if (r)
        for (let o = 0; o < r.length; o++)
            i.push(r[o]);
    _c(e, o => {
        AE(s, o, i)
    }
    )
}
function Ec(s, e) {
    const i = ya(e);
    if (i) {
        let r = 0;
        for (let o = 0; o < i.length; o++)
            i[o].status !== 2 && (i[r] = i[o],
            r++);
        i.length = r,
        _E(e, i.length > 0 ? i : void 0)
    }
    _c(e, r => {
        Ec(s, r)
    }
    )
}
function xE(s, e) {
    const i = ll(NE(s, e))
      , r = Th(s.transactionQueueTree_, e);
    return rO(r, o => {
        ef(s, o)
    }
    ),
    ef(s, r),
    yE(r, o => {
        ef(s, o)
    }
    ),
    i
}
function ef(s, e) {
    const i = ya(e);
    if (i) {
        const r = [];
        let o = []
          , c = -1;
        for (let f = 0; f < i.length; f++)
            i[f].status === 3 || (i[f].status === 1 ? (Y(c === f - 1, "All SENT items should be at beginning of queue."),
            c = f,
            i[f].status = 3,
            i[f].abortReason = "set") : (Y(i[f].status === 0, "Unexpected transaction status in abort"),
            i[f].unwatcher(),
            o = o.concat(ts(s.serverSyncTree_, i[f].currentWriteId, !0)),
            i[f].onComplete && r.push(i[f].onComplete.bind(null, new Error("set"), !1, null))));
        c === -1 ? _E(e, void 0) : i.length = c + 1,
        vn(s.eventQueue_, ll(e), o);
        for (let f = 0; f < r.length; f++)
            va(r[f])
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function IO(s) {
    let e = "";
    const i = s.split("/");
    for (let r = 0; r < i.length; r++)
        if (i[r].length > 0) {
            let o = i[r];
            try {
                o = decodeURIComponent(o.replace(/\+/g, " "))
            } catch {}
            e += "/" + o
        }
    return e
}
function DO(s) {
    const e = {};
    s.charAt(0) === "?" && (s = s.substring(1));
    for (const i of s.split("&")) {
        if (i.length === 0)
            continue;
        const r = i.split("=");
        r.length === 2 ? e[decodeURIComponent(r[0])] = decodeURIComponent(r[1]) : Rt(`Invalid query segment '${i}' in query '${s}'`)
    }
    return e
}
const Wv = function(s, e) {
    const i = MO(s)
      , r = i.namespace;
    i.domain === "firebase.com" && Gn(i.host + " is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),
    (!r || r === "undefined") && i.domain !== "localhost" && Gn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),
    i.secure || GR();
    const o = i.scheme === "ws" || i.scheme === "wss";
    return {
        repoInfo: new A0(i.host,i.secure,r,o,e,"",r !== i.subdomain),
        path: new Me(i.pathString)
    }
}
  , MO = function(s) {
    let e = ""
      , i = ""
      , r = ""
      , o = ""
      , c = ""
      , f = !0
      , h = "https"
      , p = 443;
    if (typeof s == "string") {
        let m = s.indexOf("//");
        m >= 0 && (h = s.substring(0, m - 1),
        s = s.substring(m + 2));
        let E = s.indexOf("/");
        E === -1 && (E = s.length);
        let b = s.indexOf("?");
        b === -1 && (b = s.length),
        e = s.substring(0, Math.min(E, b)),
        E < b && (o = IO(s.substring(E, b)));
        const y = DO(s.substring(Math.min(s.length, b)));
        m = e.indexOf(":"),
        m >= 0 ? (f = h === "https" || h === "wss",
        p = parseInt(e.substring(m + 1), 10)) : m = e.length;
        const A = e.slice(0, m);
        if (A.toLowerCase() === "localhost")
            i = "localhost";
        else if (A.split(".").length <= 2)
            i = A;
        else {
            const T = e.indexOf(".");
            r = e.substring(0, T).toLowerCase(),
            i = e.substring(T + 1),
            c = r
        }
        "ns"in y && (c = y.ns)
    }
    return {
        host: e,
        port: p,
        domain: i,
        subdomain: r,
        secure: f,
        scheme: h,
        pathString: o,
        namespace: c
    }
};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class kO {
    constructor(e, i, r, o) {
        this.eventType = e,
        this.eventRegistration = i,
        this.snapshot = r,
        this.prevName = o
    }
    getPath() {
        const e = this.snapshot.ref;
        return this.eventType === "value" ? e._path : e.parent._path
    }
    getEventType() {
        return this.eventType
    }
    getEventRunner() {
        return this.eventRegistration.getEventRunner(this)
    }
    toString() {
        return this.getPath().toString() + ":" + this.eventType + ":" + Ze(this.snapshot.exportVal())
    }
}
class LO {
    constructor(e, i, r) {
        this.eventRegistration = e,
        this.error = i,
        this.path = r
    }
    getPath() {
        return this.path
    }
    getEventType() {
        return "cancel"
    }
    getEventRunner() {
        return this.eventRegistration.getEventRunner(this)
    }
    toString() {
        return this.path.toString() + ":cancel"
    }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jO {
    constructor(e, i) {
        this.snapshotCallback = e,
        this.cancelCallback = i
    }
    onValue(e, i) {
        this.snapshotCallback.call(null, e, i)
    }
    onCancel(e) {
        return Y(this.hasCancelCallback, "Raising a cancel event on a listener with no cancel callback"),
        this.cancelCallback.call(null, e)
    }
    get hasCancelCallback() {
        return !!this.cancelCallback
    }
    matches(e) {
        return this.snapshotCallback === e.snapshotCallback || this.snapshotCallback.userCallback !== void 0 && this.snapshotCallback.userCallback === e.snapshotCallback.userCallback && this.snapshotCallback.context === e.snapshotCallback.context
    }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xh {
    constructor(e, i, r, o) {
        this._repo = e,
        this._path = i,
        this._queryParams = r,
        this._orderByCalled = o
    }
    get key() {
        return me(this._path) ? null : U0(this._path)
    }
    get ref() {
        return new Fn(this._repo,this._path)
    }
    get _queryIdentifier() {
        const e = kv(this._queryParams)
          , i = nh(e);
        return i === "{}" ? "default" : i
    }
    get _queryObject() {
        return kv(this._queryParams)
    }
    isEqual(e) {
        if (e = Et(e),
        !(e instanceof xh))
            return !1;
        const i = this._repo === e._repo
          , r = H0(this._path, e._path)
          , o = this._queryIdentifier === e._queryIdentifier;
        return i && r && o
    }
    toJSON() {
        return this.toString()
    }
    toString() {
        return this._repo.toString() + RA(this._path)
    }
}
class Fn extends xh {
    constructor(e, i) {
        super(e, i, new ch, !1)
    }
    get parent() {
        const e = z0(this._path);
        return e === null ? null : new Fn(this._repo,e)
    }
    get root() {
        let e = this;
        for (; e.parent !== null; )
            e = e.parent;
        return e
    }
}
class Qr {
    constructor(e, i, r) {
        this._node = e,
        this.ref = i,
        this._index = r
    }
    get priority() {
        return this._node.getPriority().val()
    }
    get key() {
        return this.ref.key
    }
    get size() {
        return this._node.numChildren()
    }
    child(e) {
        const i = new Me(e)
          , r = wf(this.ref, e);
        return new Qr(this._node.getChild(i),r,Ge)
    }
    exists() {
        return !this._node.isEmpty()
    }
    exportVal() {
        return this._node.val(!0)
    }
    forEach(e) {
        return this._node.isLeafNode() ? !1 : !!this._node.forEachChild(this._index, (r, o) => e(new Qr(o,wf(this.ref, r),Ge)))
    }
    hasChild(e) {
        const i = new Me(e);
        return !this._node.getChild(i).isEmpty()
    }
    hasChildren() {
        return this._node.isLeafNode() ? !1 : !this._node.isEmpty()
    }
    toJSON() {
        return this.exportVal()
    }
    val() {
        return this._node.val()
    }
}
function UO(s, e) {
    return s = Et(s),
    s._checkNotDeleted("ref"),
    e !== void 0 ? wf(s._root, e) : s._root
}
function wf(s, e) {
    return s = Et(s),
    _e(s._path) === null ? fO("child", "path", e) : SE("child", "path", e),
    new Fn(s._repo,Je(s._path, e))
}
function PO(s, e) {
    s = Et(s),
    hO("set", s._path),
    dO("set", e, s._path);
    const i = new rc;
    return wO(s._repo, s._path, e, null, i.wrapCallback( () => {}
    )),
    i.promise
}
function zO(s) {
    s = Et(s);
    const e = new jO( () => {}
    )
      , i = new Oh(e);
    return TO(s._repo, s, i).then(r => new Qr(r,new Fn(s._repo,s._path),s._queryParams.getIndex()))
}
class Oh {
    constructor(e) {
        this.callbackContext = e
    }
    respondsTo(e) {
        return e === "value"
    }
    createEvent(e, i) {
        const r = i._queryParams.getIndex();
        return new kO("value",this,new Qr(e.snapshotNode,new Fn(i._repo,i._path),r))
    }
    getEventRunner(e) {
        return e.getEventType() === "cancel" ? () => this.callbackContext.onCancel(e.error) : () => this.callbackContext.onValue(e.snapshot, null)
    }
    createCancelEvent(e, i) {
        return this.callbackContext.hasCancelCallback ? new LO(this,e,i) : null
    }
    matches(e) {
        return e instanceof Oh ? !e.callbackContext || !this.callbackContext ? !0 : e.callbackContext.matches(this.callbackContext) : !1
    }
    hasAnyCallback() {
        return this.callbackContext !== null
    }
}
Ux(Fn);
qx(Fn);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const HO = "FIREBASE_DATABASE_EMULATOR_HOST"
  , Nf = {};
let BO = !1;
function qO(s, e, i, r) {
    const o = e.lastIndexOf(":")
      , c = e.substring(0, o)
      , f = $r(c);
    s.repoInfo_ = new A0(e,f,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),
    r && (s.authTokenProvider_ = r)
}
function VO(s, e, i, r, o) {
    let c = r || s.options.databaseURL;
    c === void 0 && (s.options.projectId || Gn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),
    mt("Using default host for project ", s.options.projectId),
    c = `${s.options.projectId}-default-rtdb.firebaseio.com`);
    let f = Wv(c, o), h = f.repoInfo, p;
    typeof process < "u" && gv && (p = gv[HO]),
    p ? (c = `http://${p}?ns=${h.namespace}`,
    f = Wv(c, o),
    h = f.repoInfo) : f.repoInfo.secure;
    const m = new tA(s.name,s.options,e);
    pO("Invalid Firebase Database URL", f),
    me(f.path) || Gn("Database URL must point to the root of a Firebase Database (not including a child path).");
    const E = YO(h, s, m, new eA(s,i));
    return new FO(E,s)
}
function GO(s, e) {
    const i = Nf[e];
    (!i || i[s.key] !== s) && Gn(`Database ${e}(${s.repoInfo_}) has already been deleted.`),
    RO(s),
    delete i[s.key]
}
function YO(s, e, i, r) {
    let o = Nf[e.name];
    o || (o = {},
    Nf[e.name] = o);
    let c = o[s.toURLString()];
    return c && Gn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),
    c = new EO(s,BO,i,r),
    o[s.toURLString()] = c,
    c
}
class FO {
    constructor(e, i) {
        this._repoInternal = e,
        this.app = i,
        this.type = "database",
        this._instanceStarted = !1
    }
    get _repo() {
        return this._instanceStarted || (bO(this._repoInternal, this.app.options.appId, this.app.options.databaseAuthVariableOverride),
        this._instanceStarted = !0),
        this._repoInternal
    }
    get _root() {
        return this._rootInternal || (this._rootInternal = new Fn(this._repo,Se())),
        this._rootInternal
    }
    _delete() {
        return this._rootInternal !== null && (GO(this._repo, this.app.name),
        this._repoInternal = null,
        this._rootInternal = null),
        Promise.resolve()
    }
    _checkNotDeleted(e) {
        this._rootInternal === null && Gn("Cannot call " + e + " on a deleted database.")
    }
}
function KO(s=Iy(), e) {
    const i = Gf(s, "database").getImmediate({
        identifier: e
    });
    if (!i._instanceStarted) {
        const r = QC("database");
        r && QO(i, ...r)
    }
    return i
}
function QO(s, e, i, r={}) {
    s = Et(s),
    s._checkNotDeleted("useEmulator");
    const o = `${e}:${i}`
      , c = s._repoInternal;
    if (s._instanceStarted) {
        if (o === s._repoInternal.repoInfo_.host && ns(r, c.repoInfo_.emulatorOptions))
            return;
        Gn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")
    }
    let f;
    if (c.repoInfo_.nodeAdmin)
        r.mockUserToken && Gn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),
        f = new Mo(Mo.OWNER);
    else if (r.mockUserToken) {
        const h = typeof r.mockUserToken == "string" ? r.mockUserToken : WC(r.mockUserToken, s.app.options.projectId);
        f = new Mo(h)
    }
    $r(e) && (Ty(e),
    wy("Database", !0)),
    qO(c, o, r, f)
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function WO(s) {
    PR(ma),
    aa(new is("database", (e, {instanceIdentifier: i}) => {
        const r = e.getProvider("app").getImmediate()
          , o = e.getProvider("auth-internal")
          , c = e.getProvider("app-check-internal");
        return VO(r, o, c, i)
    }
    ,"PUBLIC").setMultipleInstances(!0)),
    Ci(_v, vv, s),
    Ci(_v, vv, "esm2017")
}
Hn.prototype.simpleListen = function(s, e) {
    this.sendRequest("q", {
        p: s
    }, e)
}
;
Hn.prototype.echo = function(s, e) {
    this.sendRequest("echo", {
        d: s
    }, e)
}
;
WO();
const XO = {
    apiKey: "AIzaSyA-DMiiqIbjszdvj09F2086JXOz4npDYK4",
    authDomain: "wai-licencia.firebaseapp.com",
    databaseURL: "https://wai-licencia-default-rtdb.firebaseio.com",
    projectId: "wai-licencia",
    storageBucket: "wai-licencia.firebasestorage.app",
    messagingSenderId: "816648166004",
    appId: "1:816648166004:web:7f2e2572a444b94939cf21"
}
  , OE = Oy(XO)
  , Ar = jR(OE)
  , $O = KO(OE)
  , ZO = new Ln
  , IE = N.createContext(null)
  , JO = ({children: s}) => {
    const [e,i] = N.useState(null)
      , [r,o] = N.useState(!0)
      , c = Mf()
      , f = async (b, y) => {
        const A = `usuarios/${b}`
          , T = UO($O, A);
        try {
            (await zO(T)).exists() ? console.log("Usuario ya existe en RTDB, no se sobrescribe:", y) : (await PO(T, {
                uid: b,
                idInternoCliente: y,
                fechaCreacion: new Date().toISOString()
            }),
            console.log("Usuario guardado en RTDB:", y))
        } catch (k) {
            console.error("Error al guardar usuario en RTDB:", k)
        }
    }
    ;
    N.useEffect( () => {
        const b = t0(Ar, async y => {
            y ? (i(y),
            await f(y.uid, y.email),
            console.log("Redirigiendo a /panel..."),
!window.location.href.includes("panel") && (window.location.href = "/panel")) : (i(null),
            console.log("Usuario desautenticado, redirigiendo a /."),
            window.location.pathname !== "/" && c("/")),
            o(!1)
        }
        );
        return () => b()
    }
    , [c]);
    const E = {
        usuario: e,
        estaAutenticado: !!e,
        iniciarSesion: async (b, y) => {
            try {
                return o(!0),
                await SN(Ar, b, y),
                !0
            } catch (A) {
                throw console.error("Error al iniciar sesin con correo/contrasea:", A.message),
                o(!1),
                A
            }
        }
        ,
        iniciarSesionConGoogle: async () => {
            try {
                return o(!0),
                await YN(Ar, ZO),
                !0
            } catch (b) {
                throw console.error("Error al iniciar sesin con Google:", b.message),
                o(!1),
                b
            }
        }
        ,
        cerrarSesion: async () => {
            try {
                o(!0),
                await wN(Ar)
            } catch (b) {
                throw console.error("Error al cerrar sesin:", b.message),
                o(!1),
                b
            }
        }
        ,
        cargando: r
    };
    return _.jsx(IE.Provider, {
        value: E,
        children: s
    })
}
  , Ea = () => N.useContext(IE)
  , eI = "/assets/logo-google-CZfsvi_7.webp"
  , tI = () => {
    const {iniciarSesionConGoogle: s} = Ea()
      , e = async () => {
        await s()
    }
    ;
    return _.jsx("div", {
        className: "login-page",
        children: _.jsxs("div", {
            className: "login-card",
            children: [_.jsx("h1", {
                children: "WAI"
            }), _.jsxs("p", {
                className: "login-description",
                children: [_.jsx("strong", {
                    style: {
                        color: "#ff6b6b",
                        fontSize: "1.4rem"
                    },
                    children: "3 DA GRATIS!"
                }), _.jsx("br", {}), "Regstrate y automatiza tu WhatsApp", _.jsx("br", {}), _.jsx("span", {
                    style: {
                        color: "#0eda91",
                        fontWeight: "600"
                    },
                    children: " Incluye todas las funciones premium"
                })]
            }), _.jsxs("div", {
                className: "action-area",
                children: [_.jsx("span", {
                    className: "login-subtitle",
                    children: " Acceso Rpido y Seguro"
                }), _.jsxs("button", {
                    onClick: e,
                    className: "google-btn-primary",
                    children: [_.jsx("div", {
                        className: "google-icon-wrapper",
                        children: _.jsx("img", {
                            src: eI,
                            alt: "G",
                            className: "google-icon"
                        })
                    }), _.jsx("span", {
                        className: "btn-text",
                        children: "Iniciar sesin con Google"
                    })]
                }), _.jsx("p", {
                    className: "login-footer-text",
                    children: " Tus datos estn protegidos  No requiere tarjeta de crdito"
                })]
            })]
        })
    })
}
  , Rf = "https://crm.jhllegalgroup.com";
console.log("La url: " + Rf);
const Xv = {
    CO: {
        nombre: "Colombia",
        moneda: "COP",
        simbolo: "$",
        // PERSONAL
        p_mes: 20000, p_sem: 80000, p_anual: 140000,
        // REVENDEDOR
        r_mes: 80000, r_sem: 400000, r_anual: 1000000,
        // VIP
        v_mes: 200000, v_sem: 1000000, v_anual: 2000000
    },
    WORLD: {
        nombre: "Resto del Mundo",
        moneda: "USD",
        simbolo: "$",
        // PERSONAL ($5 / $20 / $35)
        p_mes: 5, p_sem: 20, p_anual: 35,
        // REVENDEDOR ($20 / $100 / $250)
        r_mes: 20, r_sem: 100, r_anual: 250,
        // VIP (Ajustado a tu escala: $50 / $250 / $500)
        v_mes: 50, v_sem: 250, v_anual: 500
    }
}



nI = () => {
    // 1. LGICA DE ESTADOS Y CONTEXTO
    const { usuario: s } = Ea(),
          [e, i] = N.useState(Xv.WORLD),
          [activeTab, setActiveTab] = N.useState("personal"),
          m = N.useRef(!0);

    // NUEVOS ESTADOS (Para el Popup de Pago)
    const [verModal, setVerModal] = N.useState(false);
    const [planSeleccionado, setPlanSeleccionado] = N.useState(null);

    // DETECCIN DE IP (Lgica Original)
    N.useEffect(() => {
        m.current = !0;
        (async () => {
            if (s) try {
                let A = "WORLD";
                try {
                    const resp = await (await fetch("https://ipwho.is/")).json();
                    if (resp.success && resp.country_code === "CO") A = "CO";
                } catch { }
                if (m.current) i(Xv[A]);
            } catch (A) { }
        })();
        return () => { m.current = !1 };
    }, [s]);

    // 2. DATA DE PLANES (TEXTOS CORREGIDOS)
    const data = {
        personal: [
            { t: "MENSUAL", p: "$20.000", sub: "/mes", ant: "$30.000", feat: [" 1 Licencia Full", " 5 WhatsApps locales", " IA (ChatGPT/Gemini)", " Respuestas Automticas", " Soporte Bsico"], btn: "Comprar Ahora", col: "blue" },
            { t: "SEMESTRAL", p: "$70.000", sub: "/sem", ant: "$120.000", save: " AHORRA 40%", feat: [" Todo lo del Mensual", " Soporte Prioritario", " Acceso Grupo WhatsApp", " Garanta Estabilidad", " Precio Congelado"], btn: "Comprar Semestral", col: "blue", best: true },
            { t: "ANUAL", p: "$120.000", sub: "/ao", ant: "$240.000", save: " MEJOR OFERTA", feat: [" Todo Incluido x 12 Meses", " Prioridad Total", " Cero pagos extra", " Actualizaciones Beta", " Grupo Premium VIP"], btn: "Comprar Anual", col: "blue" }
        ],
        revendedor: [
            { t: "PACK EMPRENDEDOR", p: "$50.000", sub: "Recibes 5 Licencias", roi: " GANA $100.000", feat: [" Stock: 5 Licencias", " Costo unitario: $10.000", " Vendes a: $20.000", " Grupo de Revendedores", " Inicio Inmediato"], btn: "Iniciar Negocio", col: "green" },
            { t: "PACK NEGOCIO", p: "$250.000", sub: "Recibes 35 Licencias", roi: " GANA $700.000", feat: [" Stock: 35 Licencias", " Costo unitario: $7.100", " Retorno: 280% Neto", " 6 Meses Panel Activo", " Estrategias de Cierre"], btn: "Comprar Pack", col: "green", best: true },
            { t: "PACK IMPERIO", p: "$500.000", sub: "Recibes 100 Licencias", roi: " GANA $2.000.000", feat: [" Stock Masivo: 100 Lic", " Costo ridculo: $5.000", " Margen BRUTAL (300%)", " 1 Ao Panel Activo", " Soporte Mayorista"], btn: "Ser Lder", col: "green" }
        ],
        vip: [
            { t: "MAYORISTA JUNIOR", p: "$800.000", sub: "Stock: 250 Licencias", roi: "COSTO: $3.200 /lic", feat: [" Distribuye a Revendedores", " Crea tu propia red", " Precio Imbatible", " Estrategia B2B", " Panel VIP"], btn: "Aplicar Ahora", col: "orange" },
            { t: "DISTRIBUIDOR PRO", p: "$1.5 M", sub: "Stock: 600 Licencias", roi: "COSTO: $2.500 /lic", feat: [" Domina tu Ciudad", " Margen Infinito", " Panel VIP (6 Meses)", " Asesora Privada", " Mentora de Ventas"], btn: "Aplicar Ahora", col: "orange", best: true },
            { t: "FRANQUICIA MASTER", p: "$2.5 M", sub: "Stock: 1.500 Licencias", roi: "COSTO: $1.600 /lic", feat: [" Dueo del Sistema", " Sin Competencia", " Negocio Automtico", " Panel VIP (1 Ao)", " Grupo Socios Elite"], btn: "Comprar Franquicia", col: "orange" }
        ]
    };

    const cur = data[activeTab] || [];

    // 3. RENDERIZADO VISUAL FINAL
    return _.jsxs("div", {
        style: { padding: "4rem 1rem", textAlign: "center", background: "#f8fafc", position: "relative" },
        children: [
            // TTULO
            _.jsxs("div", { style: { marginBottom: "3rem" }, children: [
                _.jsx("h2", { style: { fontSize: "2.5rem", fontWeight: "900", color: "#0f172a", marginBottom: "0.5rem" }, children: "Elige tu Nivel de xito " }),
                _.jsx("p", { style: { color: "#64748b", fontSize: "1.2rem", maxWidth: "600px", margin: "0 auto" }, children: "Automatizacin profesional y oportunidades de negocio." })
            ]}),

            // PESTAAS
            _.jsxs("div", { style: { display: "inline-flex", background: "#e2e8f0", padding: "6px", borderRadius: "16px", marginBottom: "3rem", boxShadow: "inset 0 2px 4px rgba(0,0,0,0.05)" }, children: [
                _.jsx("button", { onClick: () => setActiveTab("personal"), style: { padding: "12px 30px", borderRadius: "12px", border: "none", cursor: "pointer", fontWeight: "800", fontSize: "1rem", transition: "all 0.3s", background: activeTab === "personal" ? "white" : "transparent", color: activeTab === "personal" ? "#2563eb" : "#64748b", boxShadow: activeTab === "personal" ? "0 4px 10px rgba(37, 99, 235, 0.2)" : "none", transform: activeTab === "personal" ? "scale(1.05)" : "scale(1)" }, children: " Uso Personal" }),
                _.jsx("button", { onClick: () => setActiveTab("revendedor"), style: { padding: "12px 30px", borderRadius: "12px", border: "none", cursor: "pointer", fontWeight: "800", fontSize: "1rem", transition: "all 0.3s", background: activeTab === "revendedor" ? "#10b981" : "transparent", color: activeTab === "revendedor" ? "white" : "#64748b", boxShadow: activeTab === "revendedor" ? "0 4px 10px rgba(16, 185, 129, 0.3)" : "none", transform: activeTab === "revendedor" ? "scale(1.05)" : "scale(1)" }, children: " Revendedor" }),
                _.jsx("button", { onClick: () => setActiveTab("vip"), style: { padding: "12px 30px", borderRadius: "12px", border: "none", cursor: "pointer", fontWeight: "800", fontSize: "1rem", transition: "all 0.3s", background: activeTab === "vip" ? "#f59e0b" : "transparent", color: activeTab === "vip" ? "white" : "#64748b", boxShadow: activeTab === "vip" ? "0 4px 10px rgba(245, 158, 11, 0.3)" : "none", transform: activeTab === "vip" ? "scale(1.05)" : "scale(1)" }, children: " Socio VIP" })
            ]}),

            // GRID DE TARJETAS
            _.jsx("div", { style: { display: "grid", gridTemplateColumns: "repeat(auto-fit, minmax(320px, 1fr))", gap: "2.5rem", maxWidth: "1250px", margin: "0 auto" }, children: 
                cur.map((p, i) => _.jsxs("div", { key: i, style: { background: "white", borderRadius: "24px", padding: "2.5rem 1.8rem", position: "relative", border: p.best ? `3px solid ${p.col==='green'?'#10b981':p.col==='orange'?'#f59e0b':'#3b82f6'}` : "1px solid #e2e8f0", transform: p.best ? "scale(1.03)" : "scale(1)", boxShadow: p.best ? "0 25px 50px -12px rgba(0,0,0,0.15)" : "0 4px 6px -1px rgba(0,0,0,0.05)" }, children: [
                    p.best && _.jsx("span", { style: { position: "absolute", top: "-14px", left: "50%", transform: "translateX(-50%)", background: p.col==='green'?'#10b981':p.col==='orange'?'#f59e0b':'#3b82f6', color: "white", padding: "6px 16px", borderRadius: "30px", fontSize: "0.85rem", fontWeight: "800", boxShadow: "0 4px 10px rgba(0,0,0,0.2)" }, children: " MS VENDIDO" }),
                    p.roi && _.jsx("div", { style: { background: p.col==='green'?'#ecfdf5':'#fffbeb', color: p.col==='green'?'#047857':'#b45309', padding: "8px", borderRadius: "12px", marginBottom: "1.5rem", fontWeight: "800", fontSize: "0.95rem", border: `1px solid ${p.col==='green'?'#a7f3d0':'#fde68a'}`, textAlign: "center" }, children: p.roi }),
                    _.jsx("h3", { style: { color: "#64748b", fontSize: "0.9rem", letterSpacing: "1.5px", textTransform: "uppercase", marginBottom: "0.5rem", fontWeight: "800", textAlign: "center" }, children: p.t }),
                    _.jsxs("div", { style: { marginBottom: "0.5rem", display: "flex", alignItems: "baseline", justifyContent: "center", gap: "6px" }, children: [ _.jsx("span", { style: { fontSize: "3rem", fontWeight: "900", color: "#0f172a" }, children: p.p }), _.jsx("span", { style: { color: "#64748b", fontWeight: "600" }, children: p.sub }) ] }),
                    p.ant && _.jsx("p", { style: { textDecoration: "line-through", color: "#94a3b8", fontSize: "1rem", marginBottom: "1rem", textAlign: "center" }, children: ["Normal: ", p.ant] }),
                    p.save && _.jsx("div", { style: { textAlign: "center", marginBottom: "1.5rem" }, children: _.jsx("span", { style: { color: "#15803d", background: "#dcfce7", padding: "6px 14px", borderRadius: "20px", fontSize: "0.85rem", fontWeight: "800" }, children: p.save }) }),
                    _.jsx("hr", { style: { border: "none", borderTop: "1px dashed #e2e8f0", margin: "1rem 0" } }),
                    _.jsx("ul", { style: { listStyle: "none", padding: 0, margin: "0 0 2rem 0", textAlign: "left" }, children: p.feat.map((f, x) => _.jsxs("li", { style: { marginBottom: "12px", display: "flex", alignItems: "start", color: "#334155", fontSize: "0.95rem" }, children: [ _.jsx("span", { style: { marginRight: "10px" }, children: "" }), f ] }, x)) }),
                    
                    // BOTN UNIFICADO: TODOS ABREN EL MODAL
                    _.jsx("button", { 
                        onClick: () => { setPlanSeleccionado(p); setVerModal(true); },
                        style: { width: "100%", padding: "16px", borderRadius: "14px", background: p.col==='green'?'#10b981':p.col==='orange'?'#f59e0b':'#0f172a', color: "white", fontWeight: "800", border: "none", cursor: "pointer", fontSize: "1.1rem", boxShadow: "0 10px 15px -3px rgba(0,0,0,0.2)" },
                        children: p.btn 
                    })
                ]}))
            }),

            // 4. POPUP (MODAL) FINAL - CON LOGOS Y BRE-B
            verModal && planSeleccionado && _.jsx("div", {
                style: { position: "fixed", top: 0, left: 0, width: "100%", height: "100%", background: "rgba(0,0,0,0.7)", zIndex: 99999, display: "flex", alignItems: "center", justifyContent: "center", padding: "20px", backdropFilter: "blur(5px)" },
                children: _.jsxs("div", {
                    style: { background: "white", borderRadius: "24px", padding: "2.5rem", maxWidth: "480px", width: "100%", position: "relative", boxShadow: "0 25px 50px -12px rgba(0,0,0,0.4)", animation: "fadeIn 0.3s ease" },
                    children: [
                        _.jsx("button", { onClick: () => setVerModal(false), style: { position: "absolute", top: "20px", right: "20px", background: "#f1f5f9", border: "none", borderRadius: "50%", width: "36px", height: "36px", cursor: "pointer", fontWeight: "bold", color: "#64748b", fontSize: "1.2rem" }, children: "" }),
                        
                        _.jsx("h3", { style: { fontSize: "1.8rem", color: "#0f172a", marginBottom: "0.5rem", fontWeight: "800" }, children: "Confirmar Compra " }),
                        _.jsx("p", { style: { color: "#64748b", marginBottom: "1.5rem", fontSize: "1.1rem" }, children: `Plan seleccionado: ${planSeleccionado.t}` }),
                        
                        // CAJA DE LOGOS (Bancos Soportados)
                        _.jsxs("div", { style: { display: "flex", justifyContent: "center", gap: "10px", flexWrap: "wrap", marginBottom: "1.5rem", background: "#f1f5f9", padding: "10px", borderRadius: "12px" }, children: [
                            _.jsx("img", { src: "https://upload.wikimedia.org/wikipedia/commons/c/ca/Nequi_logo.svg", style: { height: "25px", objectFit: "contain" }, alt: "Nequi" }),
                            _.jsx("img", { src: "https://upload.wikimedia.org/wikipedia/commons/1/1e/Logo_Bancolombia.svg", style: { height: "25px", objectFit: "contain" }, alt: "Bancolombia" }),
                            _.jsx("img", { src: "https://seeklogo.com/images/D/daviplata-logo-C5209C96E2-seeklogo.com.png", style: { height: "25px", objectFit: "contain" }, alt: "Daviplata" }),
                            _.jsx("img", { src: "https://upload.wikimedia.org/wikipedia/commons/e/e4/BBVA_2019.svg", style: { height: "23px", objectFit: "contain" }, alt: "BBVA" }),
                            _.jsx("img", { src: "https://seeklogo.com/images/D/dale-logo-3037005934-seeklogo.com.png", style: { height: "25px", objectFit: "contain" }, alt: "Dale" })
                        ]}),

                        // INSTRUCCIONES BRE-B
                        _.jsxs("div", { style: { background: "#f8fafc", padding: "1.5rem", borderRadius: "16px", border: "2px dashed #cbd5e1", marginBottom: "2rem", textAlign: "left" }, children: [
                            _.jsxs("p", { style: { fontWeight: "bold", color: "#334155", marginBottom: "12px", fontSize: "1.1rem" }, children: [" Opcin Requerida: ", _.jsx("span", { style: {color: "#7c3aed"}, children: "Bre-B"})] }),
                            _.jsx("p", { style: { fontSize: "0.95rem", color: "#475569", marginBottom: "15px" }, children: "Desde tu banco, usa la opcin Bre-B y enva a la Llave (Celular):" }),
                            
                            _.jsxs("div", { style: { display: "flex", alignItems: "center", justifyContent: "space-between", background: "white", padding: "15px", borderRadius: "12px", border: "1px solid #e2e8f0", boxShadow: "0 2px 4px rgba(0,0,0,0.05)" }, children: [
                                _.jsx("span", { style: { fontSize: "1.6rem", fontWeight: "900", color: "#0f172a", letterSpacing: "1px" }, children: "0090206622" }),
                                _.jsx("button", { onClick: () => navigator.clipboard.writeText("0090206622"), style: { background: "#e0f2fe", color: "#0284c7", border: "none", padding: "6px 12px", borderRadius: "8px", fontSize: "0.9rem", fontWeight: "bold", cursor: "pointer" }, children: "Copiar" })
                            ]}),
                            _.jsx("p", { style: { fontSize: "0.85rem", color: "#94a3b8", marginTop: "12px", textAlign: "center" }, children: "Titular: Maik Bermeo" })
                        ]}),

                        _.jsx("a", {
                            href: `https://wa.me/573004085041?text=Hola,%20ya%20hice%20el%20pago%20de%20${planSeleccionado.p}%20para%20el%20${planSeleccionado.t}.%20Adjunto%20comprobante!`,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            onClick: () => setVerModal(false),
                            style: { display: "block", width: "100%", padding: "18px", borderRadius: "14px", background: "#25D366", color: "white", fontWeight: "800", textDecoration: "none", textAlign: "center", fontSize: "1.2rem", boxShadow: "0 10px 20px -5px rgba(37, 211, 102, 0.4)", transition: "transform 0.2s" },
                            children: " Enviar Comprobante"
                        })
                    ]
                })
            })
        ]
    })
}





  , iI = "/assets/logo-BSWxvb2b.png"
  , sI = ({establecerPaginaActiva: s, paginaActiva: e}) => {
    const [i,r] = N.useState(!1)
      , {cerrarSesion: o, usuario: c} = Ea()
      , f = N.useRef(null)
      , h = N.useRef(null);
    N.useEffect( () => {
        const y = A => {
            var T, k;
            i && !((T = f.current) != null && T.contains(A.target)) && !((k = h.current) != null && k.contains(A.target)) && r(!1)
        }
        ;
        return document.addEventListener("mousedown", y),
        () => document.removeEventListener("mousedown", y)
    }
    , [i]);
    const p = () => r(y => !y)
      , m = y => {
        s(y),
        r(!1)
    }
      , E = () => {
        o(),
        r(!1)
    }
      , b = [{
        name: "Inicio",
        id: "inicio",
        icon: ""
    }, {
        name: "Reventa",
        id: "reventa",
        icon: ""
    }, {
        name: "Facturacin y Licencia",
        id: "facturacion",
        icon: ""
    }];
    return _.jsxs(_.Fragment, {
        children: [_.jsxs("nav", {
            className: "navbar",
            children: [_.jsx("button", {
                ref: h,
                className: "menu-toggle",
                onClick: p,
                "aria-label": "Toggle menu",
                children: _.jsxs("div", {
                    className: "hamburger",
                    children: [_.jsx("span", {
                        className: i ? "active" : ""
                    }), _.jsx("span", {
                        className: i ? "active" : ""
                    }), _.jsx("span", {
                        className: i ? "active" : ""
                    })]
                })
            }), _.jsxs("div", {
                className: "nav-brand",
                children: [_.jsx("img", {
                    src: iI,
                    alt: "Logo WAI",
                    className: "logo"
                }), _.jsx("span", {
                    className: "app-name",
                    children: "WAI"
                })]
            }), _.jsx("div", {
                className: "user-greeting",
                children: "Bienvenido!"
            })]
        }), _.jsx("div", {
            ref: f,
            className: `sidebar ${i ? "open" : ""}`,
            children: _.jsxs("div", {
                className: "menu-content",
                children: [b.map(y => _.jsxs("button", {
                    onClick: () => m(y.id),
                    className: `menu-item ${e === y.id ? "active" : ""}`,
                    children: [_.jsx("span", {
                        className: "menu-icon",
                        children: y.icon
                    }), _.jsx("span", {
                        className: "menu-text",
                        children: y.name
                    })]
                }, y.id)), _.jsx("div", {
                    className: "menu-divider"
                }), _.jsxs("button", {
                    onClick: E,
                    className: "menu-item logout",
                    children: [_.jsx("span", {
                        className: "menu-icon",
                        children: ""
                    }), _.jsx("span", {
                        className: "menu-text",
                        children: "Cerrar Sesin"
                    })]
                })]
            })
        }), i && _.jsx("div", {
            className: "overlay",
            onClick: () => r(!1)
        })]
    })
}
  , aI = "/assets/tutorial-pXl94fiD.mp4"
  , rI = () => {
    const s = "https://crm.jhllegalgroup.com"
      , {usuario: e} = Ea()
      , [i,r] = N.useState(null)
      , [o,c] = N.useState(!0)
      , [f,h] = N.useState({
        tipo: "",
        texto: ""
    })
      , [p,m] = N.useState("")
      , [E,b] = N.useState("")
      , [y,A] = N.useState(!1)
      , [T,k] = N.useState(!1)
      , [z,H] = N.useState(!1)
      , [B,F] = N.useState(!1)
      , [Q,G] = N.useState(!1)
      , [re,ye] = N.useState({
        x: 0,
        y: 0
    })
      , Te = N.useRef({
        x: 0,
        y: 0
    })
      , ve = N.useRef({
        x: 0,
        y: 0
    })
      , Ie = N.useRef(null)
      , et = async () => {
        if (!e)
            throw new Error("No hay usuario autenticado");
        return await e.getIdToken(!0)
    }
      , Be = async (D, q="GET", V=null) => {
        try {
            const ce = {
                Authorization: `Bearer ${await et()}`,
                "Content-Type": "application/json",
                "ngrok-skip-browser-warning": "true"
            }
              , ne = {
                method: q,
                headers: ce
            };
            V && q === "POST" && (ne.body = JSON.stringify(V));
            const J = await fetch(`${s}/api/${D}`, ne);
            if (!J.ok) {
                if (J.status === 404)
                    return null;
                throw new Error(`Error ${J.status}`)
            }
            return await J.json()
        } catch ($) {
            throw console.error("Error en API:", $),
            $
        }
    }
      , dt = (D, q) => {
        h({
            tipo: D,
            texto: q
        }),
        setTimeout( () => h({
            tipo: "",
            texto: ""
        }), 3e3)
    }
      , xt = async (D, q) => {
        if (D)
            try {
                await navigator.clipboard.writeText(D),
                dt("success", `${q} copiado!`)
            } catch {
                dt("error", "No se pudo copiar automticamente.")
            }
    }
      , Ye = () => {
        const D = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
        let q = "";
        for (let V = 0; V < 36; V++)
            q += D.charAt(Math.floor(Math.random() * D.length));
        m(q)
    }
      , L = async () => {
        try {
            A(!0),
            k(!1);
            const D = await Be("clave", "POST", {
                clave: p
            });
            D && D.ok ? (b(p),
            m(""),
            H(!1),
            dt("success", "Nueva clave configurada correctamente")) : dt("error", "Error al guardar la clave")
        } catch {
            dt("error", "Error de conexin al guardar")
        } finally {
            A(!1)
        }
    }
      , K = async () => {
        try {
            const [D,q] = await Promise.all([Be("clave"), Be("facturacion")]);
            D != null && D.clave && b(D.clave),
            q != null && q.facturacion ? r(q.facturacion) : r({
                activa: !1,
                fecha: null
            })
        } catch (D) {
            console.error(D)
        } finally {
            c(!1)
        }
    }
      , X = D => {
        if (!D)
            return "---";
        if (D.includes("/")) {
            const q = D.split("/");
            if (parseInt(q[2]) > 2050)
                return "Licencia de por vida"
        }
        return D
    }
    ;
    N.useEffect( () => {
        e && K()
    }
    , [e]),
    N.useEffect( () => {
        Ie.current && (B ? (Ie.current.muted = !1,
        Ie.current.volume = 1,
        Ie.current.currentTime = 0,
        Ie.current.play().catch(D => console.log("Autoplay audio blocked", D))) : Ie.current.muted = !0)
    }
    , [B]);
    const ge = D => {
        B || D.target.closest(".btn-cerrar-video") || D.target.tagName === "VIDEO" && D.target.hasAttribute("controls") || (G(!0),
        Te.current = {
            x: D.clientX,
            y: D.clientY
        },
        ve.current = {
            ...re
        },
        D.preventDefault())
    }
    ;
    N.useEffect( () => {
        const D = V => {
            if (!Q)
                return;
            const $ = V.clientX - Te.current.x
              , ce = V.clientY - Te.current.y;
            ye({
                x: ve.current.x + $,
                y: ve.current.y + ce
            })
        }
          , q = () => {
            G(!1)
        }
        ;
        return Q && (window.addEventListener("mousemove", D),
        window.addEventListener("mouseup", q)),
        () => {
            window.removeEventListener("mousemove", D),
            window.removeEventListener("mouseup", q)
        }
    }
    , [Q]);
    const C = D => {
        if (!B) {
            const q = Math.abs(D.clientX - Te.current.x)
              , V = Math.abs(D.clientY - Te.current.y);
            if (q > 5 || V > 5) {
                D.stopPropagation();
                return
            }
            F(!0)
        }
    }
    ;
    return o ? _.jsxs("div", {
        className: "loading-container",
        children: [_.jsx("div", {
            className: "loading-spinner"
        }), _.jsx("p", {
            children: "Cargando tus datos..."
        })]
    }) : _.jsxs("div", {
        className: "contenido-facturacion",
        children: [_.jsxs("div", {
            className: "facturacion-header",
            children: [_.jsx("h2", {
                children: "Conectar WAI Agente"
            }), _.jsx("p", {
                className: "subtitulo",
                children: "Copia estos datos para iniciar sesin en la aplicacin de escritorio."
            })]
        }), f.texto && _.jsxs("div", {
            className: `mensaje-flotante tipo-${f.tipo}`,
            children: [f.tipo === "success" ? "" : "", " ", f.texto]
        }), _.jsxs("div", {
            className: "credenciales-card",
            children: [_.jsxs("div", {
                className: "credenciales-titulo-bloque",
                children: [_.jsxs("div", {
                    className: "fila-superior",
                    children: [_.jsx("h3", {
                        children: " Credenciales de Acceso"
                    }), _.jsx("span", {
                        className: `badge-estado ${i != null && i.activa ? "activo" : "inactivo"}`,
                        children: i != null && i.activa ? "ACTIVA" : "INACTIVA"
                    })]
                }), (i == null ? void 0 : i.activa) && (i == null ? void 0 : i.fecha) && _.jsxs("div", {
                    className: "fecha-destacada-banner",
                    children: [_.jsx("span", {
                        className: "fecha-label",
                        children: "Vencimiento del Plan:"
                    }), _.jsx("span", {
                        className: "fecha-valor",
                        children: X(i.fecha)
                    })]
                })]
            }), _.jsxs("div", {
                className: "dato-row",
                children: [_.jsx("div", {
                    className: "dato-numero",
                    children: "1"
                }), _.jsxs("div", {
                    className: "dato-info",
                    children: [_.jsx("label", {
                        children: "Correo (Usuario)"
                    }), _.jsxs("div", {
                        className: "input-falso-container",
                        children: [_.jsx("code", {
                            className: "input-falso",
                            children: e == null ? void 0 : e.email
                        }), _.jsx("button", {
                            className: "btn-copiar-grande",
                            onClick: () => xt(e == null ? void 0 : e.email, "Correo"),
                            children: "Copiar Correo"
                        })]
                    })]
                })]
            }), _.jsx("div", {
                className: "separador-dashed"
            }), _.jsxs("div", {
                className: "dato-row",
                children: [_.jsx("div", {
                    className: "dato-numero",
                    children: "2"
                }), _.jsxs("div", {
                    className: "dato-info",
                    children: [_.jsx("label", {
                        children: "Clave de Licencia"
                    }), _.jsxs("div", {
                        className: "input-falso-container",
                        children: [E ? _.jsx("code", {
                            className: "input-falso",
                            children: E
                        }) : _.jsx("span", {
                            className: "texto-vacio",
                            children: "No tienes una clave generada an."
                        }), _.jsx("button", {
                            className: "btn-copiar-grande",
                            onClick: () => xt(E, "Clave"),
                            disabled: !E,
                            children: "Copiar Clave"
                        })]
                    })]
                })]
            })]
        }), _.jsxs("div", {
            className: "zona-accion-rapida",
            children: [_.jsx("p", {
                children: "Ya copiaste los datos? Abre la app:"
            }), _.jsx("a", {
                href: "https://apps.microsoft.com/detail/9PDKF4TXCDZ9?launch=true&mode=mini",
                className: "btn-magic-link",
                target: "_blank",
                children: " Ejecutar WAI Agente"
            })]
        }), _.jsxs("div", {
            className: "zona-avanzada",
            children: [_.jsx("button", {
                className: "btn-toggle-avanzado",
                onClick: () => H(!z),
                children: z ? "Ocultar opciones avanzadas" : "Necesitas regenerar tu clave?"
            }), z && _.jsxs("div", {
                className: "panel-generador",
                children: [_.jsxs("div", {
                    className: "alerta-aviso",
                    children: [_.jsx("strong", {
                        children: " Cuidado:"
                    }), " Si generas una nueva clave, la actual dejar de funcionar en todos tus equipos."]
                }), _.jsxs("div", {
                    className: "generador-controles",
                    children: [_.jsx("button", {
                        type: "button",
                        onClick: Ye,
                        className: "btn-secundario",
                        children: "Generar nueva clave"
                    }), p && _.jsxs("div", {
                        className: "nueva-clave-preview",
                        children: [_.jsx("p", {
                            children: "Nueva clave propuesta:"
                        }), _.jsx("code", {
                            children: p
                        }), _.jsx("button", {
                            className: "btn-guardar-final",
                            onClick: () => k(!0),
                            children: "Guardar y Reemplazar"
                        })]
                    })]
                })]
            })]
        }), B && _.jsx("div", {
            className: "video-overlay-backdrop",
            onClick: () => F(!1)
        }), _.jsxs("div", {
            className: `widget-video-tutorial ${B ? "expandido" : "minimizado"} ${Q ? "dragging" : ""}`,
            style: B ? {} : {
                transform: `translate(${re.x}px, ${re.y}px)`
            },
            onMouseDown: ge,
            onClickCapture: C,
            children: [_.jsx("video", {
                ref: Ie,
                src: aI,
                autoPlay: !0,
                loop: !0,
                muted: !0,
                playsInline: !0,
                controls: B,
                className: "video-elemento"
            }), !B && _.jsxs("div", {
                className: "etiqueta-video",
                children: [_.jsx("span", {
                    className: "icono-play",
                    children: ""
                }), " ", _.jsxs("div", {
                    className: "texto-etiqueta",
                    children: [_.jsx("strong", {
                        children: "Cmo funciona?"
                    }), " ", _.jsx("small", {
                        children: "Ver tutorial rpido"
                    })]
                })]
            }), B && _.jsx("button", {
                className: "btn-cerrar-video",
                onClick: D => {
                    D.stopPropagation(),
                    F(!1)
                }
                ,
                children: ""
            })]
        }), T && _.jsx("div", {
            className: "modal-overlay",
            children: _.jsxs("div", {
                className: "modal-content",
                children: [_.jsx("h3", {
                    children: "Confirmar cambio"
                }), _.jsx("p", {
                    children: "La clave anterior dejar de funcionar inmediatamente."
                }), _.jsxs("div", {
                    className: "modal-actions",
                    children: [_.jsx("button", {
                        onClick: () => k(!1),
                        className: "btn-cancel",
                        children: "Cancelar"
                    }), _.jsx("button", {
                        onClick: L,
                        disabled: y,
                        className: "btn-confirm",
                        children: y ? "Guardando..." : "S, cambiar clave"
                    })]
                })]
            })
        })]
    })
}
;
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const lI = s => s.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase()
  , oI = s => s.replace(/^([A-Z])|[\s-_]+(\w)/g, (e, i, r) => r ? r.toUpperCase() : i.toLowerCase())
  , $v = s => {
    const e = oI(s);
    return e.charAt(0).toUpperCase() + e.slice(1)
}
  , DE = (...s) => s.filter( (e, i, r) => !!e && e.trim() !== "" && r.indexOf(e) === i).join(" ").trim()
  , cI = s => {
    for (const e in s)
        if (e.startsWith("aria-") || e === "role" || e === "title")
            return !0
}
;
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var uI = {
    xmlns: "http://www.w3.org/2000/svg",
    width: 24,
    height: 24,
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: 2,
    strokeLinecap: "round",
    strokeLinejoin: "round"
};
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const dI = N.forwardRef( ({color: s="currentColor", size: e=24, strokeWidth: i=2, absoluteStrokeWidth: r, className: o="", children: c, iconNode: f, ...h}, p) => N.createElement("svg", {
    ref: p,
    ...uI,
    width: e,
    height: e,
    stroke: s,
    strokeWidth: r ? Number(i) * 24 / Number(e) : i,
    className: DE("lucide", o),
    ...!c && !cI(h) && {
        "aria-hidden": "true"
    },
    ...h
}, [...f.map( ([m,E]) => N.createElement(m, E)), ...Array.isArray(c) ? c : [c]]));
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const gt = (s, e) => {
    const i = N.forwardRef( ({className: r, ...o}, c) => N.createElement(dI, {
        ref: c,
        iconNode: e,
        className: DE(`lucide-${lI($v(s))}`, `lucide-${s}`, r),
        ...o
    }));
    return i.displayName = $v(s),
    i
}
;
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const fI = [["path", {
    d: "m6 9 6 6 6-6",
    key: "qrunsl"
}]]
  , hI = gt("chevron-down", fI);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const pI = [["path", {
    d: "m9 18 6-6-6-6",
    key: "mthhwq"
}]]
  , ME = gt("chevron-right", pI);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const mI = [["path", {
    d: "m18 15-6-6-6 6",
    key: "153udz"
}]]
  , gI = gt("chevron-up", mI);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const _I = [["path", {
    d: "M21.801 10A10 10 0 1 1 17 3.335",
    key: "yps3ct"
}], ["path", {
    d: "m9 11 3 3L22 4",
    key: "1pflzl"
}]]
  , Af = gt("circle-check-big", _I);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const vI = [["rect", {
    width: "14",
    height: "14",
    x: "8",
    y: "8",
    rx: "2",
    ry: "2",
    key: "17jyea"
}], ["path", {
    d: "M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",
    key: "zix9uf"
}]]
  , yI = gt("copy", vI);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const EI = [["path", {
    d: "M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",
    key: "1357e3"
}], ["path", {
    d: "M3 3v5h5",
    key: "1xhq8a"
}], ["path", {
    d: "M12 7v5l4 2",
    key: "1fdv2h"
}]]
  , bI = gt("history", EI);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const SI = [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["path", {
    d: "M12 16v-4",
    key: "1dtifu"
}], ["path", {
    d: "M12 8h.01",
    key: "e9boi3"
}]]
  , CI = gt("info", SI);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const TI = [["path", {
    d: "M21 12a9 9 0 1 1-6.219-8.56",
    key: "13zald"
}]]
  , Zv = gt("loader-circle", TI);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const wI = [["path", {
    d: "M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",
    key: "1a8usu"
}]]
  , NI = gt("pen", wI);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const RI = [["path", {
    d: "M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",
    key: "1c8476"
}], ["path", {
    d: "M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",
    key: "1ydtos"
}], ["path", {
    d: "M7 3v4a1 1 0 0 0 1 1h7",
    key: "t51u73"
}]]
  , AI = gt("save", RI);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const xI = [["path", {
    d: "M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",
    key: "qn84l0"
}], ["path", {
    d: "M13 5v2",
    key: "dyzc3o"
}], ["path", {
    d: "M13 17v2",
    key: "1ont0d"
}], ["path", {
    d: "M13 11v2",
    key: "1wjjxi"
}]]
  , OI = gt("ticket", xI);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const II = [["path", {
    d: "m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",
    key: "wmoenq"
}], ["path", {
    d: "M12 9v4",
    key: "juzpu7"
}], ["path", {
    d: "M12 17h.01",
    key: "p32p05"
}]]
  , ko = gt("triangle-alert", II);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const DI = [["path", {
    d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",
    key: "1yyitq"
}], ["path", {
    d: "M16 3.128a4 4 0 0 1 0 7.744",
    key: "16gr8j"
}], ["path", {
    d: "M22 21v-2a4 4 0 0 0-3-3.87",
    key: "kshegd"
}], ["circle", {
    cx: "9",
    cy: "7",
    r: "4",
    key: "nufk8"
}]]
  , Jv = gt("users", DI);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const MI = [["path", {
    d: "M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",
    key: "18etb6"
}], ["path", {
    d: "M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",
    key: "xoc0q4"
}]]
  , kI = gt("wallet", MI);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const LI = [["path", {
    d: "M18 6 6 18",
    key: "1bl5f8"
}], ["path", {
    d: "m6 6 12 12",
    key: "d8bk6v"
}]]
  , jI = gt("x", LI);
/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const UI = [["path", {
    d: "M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",
    key: "1xq2db"
}]]
  , ey = gt("zap", UI)
  , PI = "https://crm.jhllegalgroup.com"
  , zI = ({isOpen: s, onClose: e, usuario: i, saldoDisponible: r, historialPrevio: o, onRetiroExitoso: c}) => {
    const [f,h] = N.useState(1)
      , [p,m] = N.useState(!1)
      , [E,b] = N.useState("")
      , [y,A] = N.useState("Nequi")
      , [T,k] = N.useState({
        titular: "",
        documento: "",
        numero: "",
        llave: "",
        correoLink: "",
        walletId: ""
    });
    N.useEffect( () => {
        if (s && o && o.length > 0) {
            const Q = o[0];
            if (Q) {
                A(Q.metodo);
                try {
                    const G = JSON.parse(Q.datos);
                    k(re => ({
                        ...re,
                        ...G
                    }))
                } catch {
                    console.log("Formato de retiro antiguo, no se puede autocompletar campos especficos.")
                }
            }
        }
    }
    , [s, o]),
    N.useEffect( () => {
        s || (h(1),
        b(""))
    }
    , [s]);
    const z = Q => {
        const {name: G, value: re} = Q.target;
        k(ye => ({
            ...ye,
            [G]: re
        }))
    }
      , H = () => {
        if (!T.titular || T.titular.length < 5)
            return "El nombre del titular es obligatorio y completo.";
        switch (y) {
        case "Nequi":
        case "Daviplata":
            return T.numero ? T.documento ? null : "El documento del titular es obligatorio." : "El nmero de celular es obligatorio.";
        case "Bre-B":
            return T.llave ? null : "La Llave (Celular o Alfanumrica) es obligatoria.";
        case "PayPal":
            return T.correoLink ? null : "El correo o enlace de PayPal.me es obligatorio.";
        case "Binance":
            return T.walletId ? null : "La direccin USDT o ID de usuario es obligatoria.";
        default:
            return "Selecciona un mtodo vlido."
        }
    }
      , B = Q => {
        Q.preventDefault();
        const G = H();
        if (G) {
            b(G);
            return
        }
        if (r <= 0) {
            b("No tienes saldo suficiente para retirar.");
            return
        }
        b(""),
        h(2)
    }
      , F = async () => {
        m(!0),
        b("");
        try {
            const Q = JSON.stringify(T)
              , G = await i.getIdToken(!0)
              , re = await fetch(`${PI}/api/retiros/solicitar`, {
                method: "POST",
                headers: {
                    Authorization: `Bearer ${G}`,
                    "Content-Type": "application/json",
                    "ngrok-skip-browser-warning": "true"
                },
                body: JSON.stringify({
                    metodo: y,
                    datosCuenta: Q
                })
            })
              , ye = await re.json();
            if (!re.ok)
                throw new Error(ye.mensaje || "Error al solicitar retiro");
            h(3),
            c && c()
        } catch (Q) {
            b(Q.message)
        } finally {
            m(!1)
        }
    }
    ;
    return s ? _.jsx("div", {
        className: "retiros-backdrop",
        children: _.jsxs("div", {
            className: "retiros-modal",
            children: [_.jsx("button", {
                className: "btn-close-modal",
                onClick: e,
                children: _.jsx(jI, {
                    size: 24
                })
            }), f === 1 && _.jsxs("div", {
                className: "retiros-content",
                children: [_.jsxs("div", {
                    className: "header-retiros",
                    children: [_.jsx("h2", {
                        children: "Solicitar Retiro"
                    }), _.jsxs("p", {
                        className: "saldo-badge",
                        children: ["Disponible: $", r.toLocaleString()]
                    })]
                }), _.jsxs("form", {
                    onSubmit: B,
                    className: "form-retiros",
                    children: [_.jsxs("div", {
                        className: "form-group",
                        children: [_.jsx("label", {
                            children: "Mtodo de Pago"
                        }), _.jsxs("select", {
                            value: y,
                            onChange: Q => A(Q.target.value),
                            className: "input-select",
                            children: [_.jsx("option", {
                                value: "Nequi",
                                children: "Nequi (Colombia)"
                            }), _.jsx("option", {
                                value: "Daviplata",
                                children: "Daviplata (Colombia)"
                            }), _.jsx("option", {
                                value: "Bre-B",
                                children: "Llave Bre-B (Colombia)"
                            }), _.jsx("option", {
                                value: "PayPal",
                                children: "PayPal (Internacional)"
                            }), _.jsx("option", {
                                value: "Binance",
                                children: "Binance (USDT - Internacional)"
                            })]
                        })]
                    }), _.jsxs("div", {
                        className: "form-group",
                        children: [_.jsxs("label", {
                            children: ["Nombre Completo del Titular ", _.jsx("span", {
                                className: "req",
                                children: "*"
                            })]
                        }), _.jsx("input", {
                            type: "text",
                            name: "titular",
                            value: T.titular,
                            onChange: z,
                            placeholder: "Debe coincidir con la cuenta",
                            className: "input-text"
                        }), _.jsxs("div", {
                            className: "info-text",
                            children: [_.jsx(CI, {
                                size: 14
                            }), " El nombre debe ser el propietario de la cuenta destino."]
                        })]
                    }), (y === "Nequi" || y === "Daviplata") && _.jsx(_.Fragment, {
                        children: _.jsxs("div", {
                            className: "form-row",
                            children: [_.jsxs("div", {
                                className: "form-group",
                                children: [_.jsxs("label", {
                                    children: ["Nmero de Celular ", _.jsx("span", {
                                        className: "req",
                                        children: "*"
                                    })]
                                }), _.jsx("input", {
                                    type: "number",
                                    name: "numero",
                                    value: T.numero,
                                    onChange: z,
                                    className: "input-text",
                                    placeholder: "300..."
                                })]
                            }), _.jsxs("div", {
                                className: "form-group",
                                children: [_.jsxs("label", {
                                    children: ["Cdula / Documento ", _.jsx("span", {
                                        className: "req",
                                        children: "*"
                                    })]
                                }), _.jsx("input", {
                                    type: "number",
                                    name: "documento",
                                    value: T.documento,
                                    onChange: z,
                                    className: "input-text",
                                    placeholder: "100..."
                                })]
                            })]
                        })
                    }), y === "Bre-B" && _.jsxs("div", {
                        className: "form-group",
                        children: [_.jsxs("label", {
                            children: ["Llave (Celular o Alias) ", _.jsx("span", {
                                className: "req",
                                children: "*"
                            })]
                        }), _.jsx("input", {
                            type: "text",
                            name: "llave",
                            value: T.llave,
                            onChange: z,
                            className: "input-text",
                            placeholder: "Ingresa tu llave inscrita"
                        }), _.jsx("small", {
                            className: "hint",
                            children: "Solo funciona para cuentas en Colombia inscritas a Bre-B."
                        })]
                    }), y === "PayPal" && _.jsxs("div", {
                        className: "form-group",
                        children: [_.jsxs("label", {
                            children: ["Correo Electrnico o Link PayPal.me ", _.jsx("span", {
                                className: "req",
                                children: "*"
                            })]
                        }), _.jsx("input", {
                            type: "text",
                            name: "correoLink",
                            value: T.correoLink,
                            onChange: z,
                            className: "input-text",
                            placeholder: "usuario@email.com o paypal.me/usuario"
                        })]
                    }), y === "Binance" && _.jsxs("div", {
                        className: "form-group",
                        children: [_.jsxs("label", {
                            children: ["Direccin Billetera (USDT) o Binance ID ", _.jsx("span", {
                                className: "req",
                                children: "*"
                            })]
                        }), _.jsx("input", {
                            type: "text",
                            name: "walletId",
                            value: T.walletId,
                            onChange: z,
                            className: "input-text",
                            placeholder: "0x... o ID Numrico"
                        }), _.jsx("small", {
                            className: "hint",
                            children: "Asegrate de que la red sea correcta (Preferiblemente BEP20 o TRC20)."
                        })]
                    }), E && _.jsx("div", {
                        className: "msg-error",
                        children: E
                    }), _.jsxs("button", {
                        type: "submit",
                        className: "btn-next",
                        children: ["Continuar ", _.jsx(ME, {
                            size: 20
                        })]
                    })]
                })]
            }), f === 2 && _.jsxs("div", {
                className: "retiros-content warning-mode",
                children: [_.jsx("div", {
                    className: "icon-warning-big",
                    children: _.jsx(ko, {
                        size: 60
                    })
                }), _.jsx("h3", {
                    children: "Verificacin Final!"
                }), _.jsxs("div", {
                    className: "summary-box",
                    children: [_.jsxs("p", {
                        children: [_.jsx("strong", {
                            children: "Mtodo:"
                        }), " ", y]
                    }), _.jsxs("p", {
                        children: [_.jsx("strong", {
                            children: "Titular:"
                        }), " ", T.titular]
                    }), (y === "Nequi" || y === "Daviplata") && _.jsxs("p", {
                        children: [_.jsx("strong", {
                            children: "Cuenta:"
                        }), " ", T.numero, " - CC: ", T.documento]
                    }), y === "Bre-B" && _.jsxs("p", {
                        children: [_.jsx("strong", {
                            children: "Llave:"
                        }), " ", T.llave]
                    }), y === "PayPal" && _.jsxs("p", {
                        children: [_.jsx("strong", {
                            children: "Cuenta:"
                        }), " ", T.correoLink]
                    }), y === "Binance" && _.jsxs("p", {
                        children: [_.jsx("strong", {
                            children: "Destino:"
                        }), " ", T.walletId]
                    })]
                }), _.jsxs("div", {
                    className: "warning-text-list",
                    children: [_.jsxs("p", {
                        children: [" Esta accin es ", _.jsx("strong", {
                            children: "irreversible"
                        }), "."]
                    }), _.jsxs("p", {
                        children: [" Si el nombre no coincide con el propietario de la cuenta, el pago ser ", _.jsx("strong", {
                            children: "rechazado"
                        }), "."]
                    }), _.jsxs("p", {
                        children: [" El proceso puede tardar de ", _.jsx("strong", {
                            children: "1 a 5 das hbiles"
                        }), "."]
                    })]
                }), _.jsxs("div", {
                    className: "actions-row",
                    children: [_.jsx("button", {
                        onClick: () => h(1),
                        className: "btn-back",
                        disabled: p,
                        children: "Volver"
                    }), _.jsx("button", {
                        onClick: F,
                        className: "btn-confirm",
                        disabled: p,
                        children: p ? "Procesando..." : "Confirmar Retiro"
                    })]
                })]
            }), f === 3 && _.jsxs("div", {
                className: "retiros-content success-mode",
                children: [_.jsx("div", {
                    className: "icon-success-big",
                    children: _.jsx(Af, {
                        size: 70
                    })
                }), _.jsx("h3", {
                    children: "Solicitud Enviada!"
                }), _.jsx("p", {
                    children: "Tu solicitud ha sido recibida. Te notificaremos va correo electrnico cuando sea procesada."
                }), _.jsx("button", {
                    onClick: e,
                    className: "btn-finish",
                    children: "Finalizar"
                })]
            })]
        })
    }) : null
}
  , HI = () => _.jsx("svg", {
    viewBox: "0 0 24 24",
    fill: "currentColor",
    width: "20",
    height: "20",
    xmlns: "http://www.w3.org/2000/svg",
    children: _.jsx("path", {
        d: "M17.472 14.382C17.117 14.382 16.595 14.35 15.158 13.682C14.739 13.486 14.451 13.565 14.163 13.931C13.875 14.297 13.299 15.003 13.064 15.265C12.828 15.527 12.592 15.553 11.964 15.265C11.336 14.978 10.375 14.593 9.49799 13.805C8.79099 13.172 8.31399 12.389 8.13099 12.075C7.94799 11.761 8.15699 11.621 8.39799 11.332C8.61899 11.065 8.76699 10.865 8.94999 10.603C9.13299 10.342 9.07999 10.106 8.94999 9.845C8.81999 9.583 8.16499 7.974 7.85099 7.242C7.56299 6.568 7.24899 6.639 6.98699 6.639C6.75199 6.639 6.48999 6.639 6.22799 6.639C5.96599 6.639 5.54699 6.744 5.18099 7.137C4.81499 7.529 3.79399 8.497 3.79399 10.46C3.79399 12.423 5.23399 14.307 5.44299 14.595C5.65199 14.883 8.32499 19.049 12.492 20.724C15.113 21.782 15.821 21.69 16.554 21.585C17.366 21.468 18.78 20.706 19.094 19.894C19.408 19.083 19.408 18.376 19.303 18.219C19.199 18.062 18.832 17.957 18.204 17.643L17.472 14.382ZM12.041 24C9.92099 24 7.84699 23.456 6.01299 22.408L5.61799 22.185L1.33899 23.364L2.55999 19.167L2.30299 18.735C1.16499 16.805 0.565988 14.621 0.565988 12.333C0.565988 5.862 5.71499 0.596 12.046 0.596C15.114 0.596 17.996 1.801 20.165 3.987C22.334 6.173 23.529 9.081 23.529 12.175C23.529 18.647 18.375 24 12.041 24Z"
    })
})
  , BI = "https://crm.jhllegalgroup.com"
  , tf = "https://loginwaibot.vercel.app/ref/"
  , nf = {
    CO: {
        nombre: "Colombia",
        moneda: "COP",
        simbolo: "$",
        monto: 32500,
        tasaCambio: 1
    },
    WORLD: {
        nombre: "Resto del Mundo",
        moneda: "USD",
        simbolo: "$",
        monto: 8.5,
        tasaCambio: 4e3
    }
}
  , qI = ({ret: s, formatMoney: e, formatDate: i, getEstadoBadge: r}) => {
    const [o,c] = N.useState(!1)
      , [f,h] = N.useState(null);
    return N.useEffect( () => {
        if (s.datos)
            try {
                const p = typeof s.datos == "string" ? JSON.parse(s.datos) : s.datos;
                h(p)
            } catch (p) {
                console.warn("Error parsing JSON retiro", p),
                h({
                    info: s.datos
                })
            }
    }
    , [s.datos]),
    _.jsxs(_.Fragment, {
        children: [_.jsxs("tr", {
            className: `fila-principal ${o ? "fila-abierta" : ""}`,
            onClick: () => c(!o),
            children: [_.jsx("td", {
                "data-label": "Fecha",
                className: "td-date",
                children: i(s.fecha)
            }), _.jsx("td", {
                "data-label": "Mtodo",
                children: _.jsxs("div", {
                    className: "metodo-info",
                    children: [_.jsx("strong", {
                        children: s.metodo
                    }), _.jsxs("span", {
                        className: "ver-detalles-text",
                        children: [o ? "Ocultar datos" : "Ver datos", " ", o ? _.jsx(gI, {
                            size: 14
                        }) : _.jsx(hI, {
                            size: 14
                        })]
                    })]
                })
            }), _.jsx("td", {
                "data-label": "Monto",
                className: "td-monto",
                children: e(s.monto)
            }), _.jsx("td", {
                "data-label": "Estado",
                children: r(s.estado)
            })]
        }), o && _.jsx("tr", {
            className: "fila-detalles",
            children: _.jsx("td", {
                colSpan: "4",
                children: _.jsxs("div", {
                    className: "detalles-container",
                    children: [_.jsx("h4", {
                        children: "Datos de Transferencia:"
                    }), f ? _.jsx("div", {
                        className: "grid-datos",
                        children: Object.entries(f).map( ([p,m]) => _.jsxs("div", {
                            className: "dato-item",
                            children: [_.jsxs("span", {
                                className: "dato-label",
                                children: [p, ":"]
                            }), _.jsx("span", {
                                className: "dato-valor",
                                children: m
                            })]
                        }, p))
                    }) : _.jsx("p", {
                        className: "texto-simple",
                        children: s.datos
                    })]
                })
            })
        })]
    })
}




, VI = () => {
    // --- ESTADOS ---
    const [s,e] = N.useState(null)
      , [i,r] = N.useState(null)
      , [o,c] = N.useState(nf.WORLD)
      , [f,h] = N.useState(!0)
      , [planesDB, setPlanesDB] = N.useState([]) 
      , [p,m] = N.useState({
        saldo: 0,              
        cuentasDisponibles: 0, 
        totalReferidos: 0,
        referidos: []
    })
      , [E,b] = N.useState([])
      , [y,A] = N.useState("")
      , [T,k] = N.useState("")
      , [z,H] = N.useState(!1)
      , [B,F] = N.useState(!1)
      , [Q,G] = N.useState(null)
      , [re,ye] = N.useState("")
      , [Te,ve] = N.useState(!1)
      , [Ie,et] = N.useState(!1)
      , [Be,dt] = N.useState(!1)
      , [xt,Ye] = N.useState(null)
      , [L,K] = N.useState(!1)
      , X = N.useRef(!0);

    const urlBaseReferido = "https://loginwaibot.vercel.app/ref/?ref=";

    // --- RELOJ AUTOMTICO ---
    N.useEffect(() => {
        let intervalo;
        if (i) {
            h(!0); C().finally(() => { X.current && h(!1) });
            intervalo = setInterval(() => { C(); }, 30000); 
        }
        return () => { if (intervalo) clearInterval(intervalo); };
    }, [i]);

    N.useEffect( () => {
        X.current = !0;
        const J = t0(Ar, Ue => { X.current && (r(Ue), Ue || h(!1)) });
        return (async () => {
            let Ue = "WORLD";
            try {
                const $t = await fetch("https://ipwho.is/");
                if (!$t.ok) throw new Error("Error IP");
                const zt = await $t.json();
                zt.success && zt.country_code === "CO" && (Ue = "CO")
            } catch { }
            X.current && c(nf[Ue])
        })(), () => { X.current = !1, J() }
    }, []);

    const ge = async (J, oe="GET", Ue=null) => {
        const $t = await i.getIdToken(!0);
        const zt = { method: oe, headers: { Authorization: `Bearer ${$t}`, "Content-Type": "application/json", "ngrok-skip-browser-warning": "true" } };
        Ue && (zt.body = JSON.stringify(Ue));
        const Zt = await fetch(`${BI}/api/${J}`, zt);
        const ds = await Zt.json();
        if (!Zt.ok) throw new Error(ds.mensaje || `Error ${Zt.status}`);
        return ds
    };

    // --- CARGAR DATOS ---
    const C = async () => {
        var J;
        if (i) try {
            const oe = await ge("facturacion");
            const Ue = ((J = oe?.facturacion)?.activa) === !0;
            if (e(Ue), !Ue) return;
            
            if(i.email) {
                const infoP = await ge(`revendedor/info?id=${i.email}`);
                try {
                    const planesRes = await ge("planes");
                    if (planesRes.ok && planesRes.planes) {
                        setPlanesDB(planesRes.planes);
                    }
                } catch (errPlanes) { console.log("Error cargando planes", errPlanes); }

                const planUser = (infoP.plan || "").toLowerCase();
                const esVIP = planUser.includes("revendedor") || planUser.includes("vip") || planUser.includes("admin") || planUser.includes("partner");
                const esPrueba = planUser.includes("prueba") || planUser.includes("gratuita");
                const esClientePersonal = !esVIP && !esPrueba; 

                if (esClientePersonal) { e(false); return; }

                if(infoP.ok) {
                    X.current && m({
                        saldo: infoP.saldo, 
                        cuentasDisponibles: infoP.cuentasDisponibles, 
                        totalReferidos: infoP.referidos,
                        referidos: [] 
                    });
                    if(infoP.slug) { A(infoP.slug); k(infoP.slug); }
                }
            }
            try {
                const zt = await ge("retiros/historial");
                X.current && b(zt.historial || []);
            } catch {}
        } catch (oe) { console.error("Error dashboard:", oe) }
    };
    
    const q = () => {
        navigator.clipboard.writeText(`${urlBaseReferido}${y}`);
        G({ tipo: "success", text: "Link copiado" });
        setTimeout( () => G(null), 2e3)
    };
    
    // --- ACTIVACIN ---
    const activarConPlan = async (pl) => {
        if (!re.includes("@")) return Ye({tipo: "error", text: "Email invlido"});
        if (p.cuentasDisponibles < pl.costoCreditos) return Ye({tipo: "error", text: `Saldo insuficiente (${pl.costoCreditos} Licencias)`});
        
        const msg = ` RESUMEN DE ACTIVACIN:\n
         Plan: ${pl.nombre}
         Precio Venta: ${pl.precio_sugerido || 'N/A'}
         Te cuesta: ${pl.costoCreditos} Licencias
        
        Proceder con la activacin?`;

        if (!confirm(msg)) return;

        ve(!0); Ye(null);
        try {
            const res = await ge("revendedor/activar-licencia", "POST", { clienteCorreo: re.toLowerCase(), revendedorId: i.email, tipoPlan: pl.id });
            m(prev => ({ ...prev, cuentasDisponibles: res.nuevoSaldo !== undefined ? res.nuevoSaldo : (prev.cuentasDisponibles - pl.costoCreditos) }));
            dt(!0); ye("");
            setTimeout(C, 1000); 
        } catch (err) { Ye({ tipo: "error", text: err.message }); } finally { ve(!1); }
    };

    const D = async () => { if (T === y) { H(!1); return } F(!0), G(null); try { const J = await ge("mi-enlace", "PUT", { nuevoEnlace: T }); A(J.enlace), k(J.enlace), H(!1), G({ tipo: "success", text: "Enlace actualizado" }), setTimeout( () => G(null), 3e3) } catch (J) { G({ tipo: "error", text: J.message }) } finally { F(!1) } }, $ = J => o.moneda === "USD" ? `$${(J / nf.WORLD.tasaCambio).toFixed(2)} USD` : `$${J.toLocaleString("es-CO")} COP`, ce = J => J ? new Date(J).toLocaleDateString("es-ES", { day: "2-digit", month: "short", year: "numeric" }) : "-", ne = J => { const oe = { pendiente: { bg: "#fff7ed", color: "#c2410c", label: "Pendiente" }, aprobado: { bg: "#f0fdf4", color: "#15803d", label: "Aprobado" }, rechazado: { bg: "#fef2f2", color: "#b91c1c", label: "Rechazado" } }, Ue = oe[J] || oe.pendiente; return _.jsx("span", { style: { backgroundColor: Ue.bg, color: Ue.color }, className: "badge-estado", children: Ue.label }) };

    // --- PREPARAR LISTAS ---
    const planesOrdenados = [...planesDB].sort((a,b) => a.costoCreditos - b.costoCreditos);
    const listaPersonal = planesOrdenados.filter(pl => pl.id.startsWith("personal_"));
    const listaRevendedor = planesOrdenados.filter(pl => pl.id.startsWith("revendedor_"));
    const listaVip = planesOrdenados.filter(pl => pl.id.startsWith("vip_"));

    // Helper: Nombre corto
    const getTituloBoton = (nombre) => {
        if(nombre.includes("Mensual")) return "Mensual";
        if(nombre.includes("Semestral")) return "Semestral";
        if(nombre.includes("Anual")) return "Anual";
        if(nombre.includes("1 Mes")) return "1 Mes";
        if(nombre.includes("6 Meses")) return "6 Meses";
        if(nombre.includes("1 Ao")) return "1 Ao";
        return "Activar";
    };

    // Helper: Subttulo Matemtico
    const getSubtitulo = (pl) => {
        if (pl.creditosOtorgados > 0) return `-${pl.costoCreditos} T / +${pl.creditosOtorgados} l`;
        return `Costo: ${pl.costoCreditos} Licencias`;
    };

    // --- RENDER ---
    return f ? _.jsxs("div", { className: "loader-full", children: [_.jsx(Zv, { className: "spinner" }), _.jsx("p", { children: "Cargando panel..." })] }) 
    : s === !1 ? _.jsxs("div", { className: "reventa-dashboard", children: [_.jsx("header", { className: "dashboard-header", children: _.jsx("h1", { children: "Panel de Partner" }) }), _.jsxs("div", { style: { textAlign: "center", padding: "4rem 2rem", background: "white", borderRadius: "16px", maxWidth: "600px", margin: "2rem auto", border: "1px solid #e2e8f0" }, children: [_.jsx("div", { style: { display: "inline-flex", padding: "1.5rem", borderRadius: "50%", background: "#fef2f2", color: "#dc2626", marginBottom: "1.5rem" }, children: _.jsx(ko, { size: 48, strokeWidth: 1.5 }) }), _.jsx("h2", { style: { color: "#1e293b", marginBottom: "1rem", fontSize: "1.8rem" }, children: "Acceso Restringido" }), _.jsxs("p", { style: { color: "#64748b", fontSize: "1.1rem", marginBottom: "2.5rem" }, children: ["Plan personal detectado.", _.jsx("br",{}), "Actualiza a Revendedor para acceder."] }), _.jsxs("button", { onClick: () => window.location.href = "/", className: "btn-primary", style: { padding: "1rem 2rem" }, children: [_.jsx(ey, { size: 20, style: { marginRight: "8px" } }), "Actualizar Plan"] })] })] }) 
    : Be ? _.jsx("div", { className: "success-overlay", children: _.jsxs("div", { className: "success-card", children: [_.jsx("div", { className: "icon-success", children: _.jsx(Af, { className: "w-16 h-16" }) }), _.jsx("h2", { children: "Activacin Exitosa!" }), _.jsxs("p", { children: ["Activado correctamente:", _.jsx("br",{}), _.jsx("b", { children: re })] }), _.jsx("button", { onClick: () => { dt(!1), ye("") }, className: "btn-primary", children: "Entendido" })] }) }) 
    : _.jsxs("div", {
        className: "reventa-dashboard",
        children: [
            _.jsx(zI, { isOpen: L, onClose: () => K(!1), usuario: i, saldoDisponible: p.saldo, historialPrevio: E, onRetiroExitoso: () => C() }), 
            _.jsxs("header", { className: "dashboard-header", children: [_.jsx("h1", { children: "Panel de Revendedor" }), _.jsx("p", { children: "Gestiona ganancias, enlaces y licencias." })] }), 
            
            // LINK
            _.jsx("section", { className: "link-hero", children: _.jsxs("div", { className: "hero-content", children: [
                _.jsxs("div", { className: "hero-text-header", children: [_.jsx("h2", { children: "Tu Enlace de Referido" }), _.jsx("p", { children: "Comparte este link para ganar comisiones." })] }), 
                _.jsxs("div", { className: "link-builder", children: [
                    _.jsx("div", { className: "full-link-part", children: _.jsx("div", { className: "input-full-url", children: `${urlBaseReferido}${y}` }) }), 
                    _.jsx("div", { className: "actions-part", children: [_.jsxs("button", { onClick: q, className: "btn-copy", children: [_.jsx(yI, {}), " ", _.jsx("span", { children: "Copiar" })] })] })
                ]}), 
                Q && _.jsxs("div", { className: `toast-message ${Q.tipo}`, children: [Q.tipo === "success" ? _.jsx(Af, { className: "w-4 h-4" }) : _.jsx(ko, { className: "w-4 h-4" }), Q.text] })
            ]}) }), 
            
            // STATS
            _.jsxs("section", { className: "stats-grid", children: [
                _.jsxs("div", { className: "stat-card saldo-card", children: [_.jsx("div", { className: "stat-icon wallet", children: _.jsx(kI, {}) }), _.jsxs("div", { className: "stat-content", children: [_.jsx("span", { className: "stat-label", children: "Saldo (Dinero)" }), _.jsx("span", { className: "stat-value", children: $(p.saldo) })] }), _.jsxs("button", { onClick: () => K(!0), className: "btn-retirar", disabled: p.saldo <= 0, children: ["Retirar ", _.jsx(ME, { size: 16 })] })] }), 
                _.jsxs("div", { className: "stat-card", children: [_.jsx("div", { className: "stat-icon users", children: _.jsx(Jv, {}) }), _.jsxs("div", { className: "stat-content", children: [_.jsx("span", { className: "stat-label", children: "Referidos" }), _.jsx("span", { className: "stat-value", children: p.totalReferidos })] })] }), 
                _.jsxs("div", { className: "stat-card", children: [_.jsx("div", { className: "stat-icon ticket", children: _.jsx(OI, {}) }), _.jsxs("div", { className: "stat-content", children: [_.jsx("span", { className: "stat-label", children: "Licencias" }), _.jsx("span", { className: "stat-value", children: p.cuentasDisponibles })] })] }) 
            ]}), 
            
            // CONTENIDO
            _.jsxs("div", { className: "main-content-split", children: [
                _.jsxs("div", { className: "content-left-column", children: [
                    _.jsxs("div", { className: "content-section referidos-list", children: [_.jsx("div", { className: "section-header", children: _.jsxs("h3", { children: [_.jsx("span", { className: "icon-title", children: _.jsx(Jv, {}) }), " ltimos Referidos"] }) }), _.jsx("div", { className: "table-responsive-wrapper", children: _.jsxs("table", { className: "custom-table", children: [_.jsx("thead", { children: _.jsxs("tr", { children: [_.jsx("th", { children: "Cliente" }), _.jsx("th", { children: "Plan" }), _.jsx("th", { children: "Fecha" })] }) }), _.jsx("tbody", { children: p.referidos.length > 0 ? p.referidos.map((J,oe) => _.jsxs("tr", { children: [_.jsx("td", { children: J.cliente }), _.jsx("td", { children: _.jsx("span", { className: "badge-plan", children: J.plan || "N/A" }) }), _.jsx("td", { children: ce(J.fecha_registro) })] }, oe)) : _.jsx("tr", { children: _.jsx("td", { colSpan: "3", className: "empty-row", children: "Sin referidos an." }) }) })] }) })] }),
                    _.jsxs("div", { className: "content-section retiros-list", children: [_.jsx("div", { className: "section-header", children: _.jsxs("h3", { children: [_.jsx("span", { className: "icon-title", children: _.jsx(bI, {}) }), " Historial Retiros"] }) }), _.jsx("div", { className: "table-responsive-wrapper", children: _.jsxs("table", { className: "custom-table interactive-table", children: [_.jsx("thead", { children: _.jsxs("tr", { children: [_.jsx("th", { children: "Fecha" }), _.jsx("th", { children: "Mtodo" }), _.jsx("th", { children: "Monto" }), _.jsx("th", { children: "Estado" })] }) }), _.jsx("tbody", { children: E.length > 0 ? E.map(J => _.jsx(qI, { ret: J, formatMoney: $, formatDate: ce, getEstadoBadge: ne }, J.id)) : _.jsx("tr", { children: _.jsx("td", { colSpan: "4", className: "empty-row", children: "No retiros." }) }) })] }) })] })
                ]}), 
                
                // --- BOTONES INTELIGENTES (CON PRECIOS) ---
                _.jsxs("div", { className: "content-section manual-tools", children: [
                    _.jsx("div", { className: "section-header", children: _.jsxs("h3", { children: [_.jsx("span", { className: "icon-title", children: _.jsx(ey, {}) }), " Gestin Manual"] }) }), 
                    
                    _.jsx("input", { type: "email", placeholder: "Email del cliente", value: re, onChange: J => ye(J.target.value), style: { width: "100%", marginBottom: "15px", padding: "10px", borderRadius: "8px", border: "1px solid #cbd5e1" } }), 

                    // 1. USO PERSONAL
                    _.jsxs("div", { className: "manual-block", children: [
                        _.jsx("h4", { style:{fontSize:"0.9rem", color: "#334155", marginBottom:"8px"}, children: "1. Uso Personal (Cliente Final)" }), 
                        _.jsx("div", { style: { display: "grid", gridTemplateColumns: "1fr 1fr 1fr", gap: "8px" }, children: 
                            listaPersonal.length > 0 ? listaPersonal.map(pl => 
                                _.jsxs("button", { 
                                    onClick: () => activarConPlan(pl), 
                                    disabled: p.cuentasDisponibles < pl.costoCreditos || !re || Te, 
                                    className: "btn-activate", 
                                    style: {background: "#3b82f6", display:"flex", flexDirection:"column", alignItems:"center", justifyContent:"center", padding:"8px 4px"}, 
                                    children: [
                                        _.jsx("span", { children: getTituloBoton(pl.nombre) }),
                                        _.jsx("span", { style: {fontSize:"0.55em", marginTop:"2px", fontWeight:"bold"}, children: getSubtitulo(pl) }),
                                        pl.precio_sugerido && _.jsx("span", { style: {fontSize:"0.55em", background:"rgba(255,255,255,0.2)", borderRadius:"3px", padding:"1px 4px", marginTop:"3px"}, children: `Venta: ${pl.precio_sugerido}` })
                                    ] 
                                }, pl.id)
                            ) : _.jsx("p", {style:{fontSize:"0.8rem"}, children:"Cargando..."})
                        })
                    ]}),
                    _.jsx("div", { className: "divider", style: {margin: "12px 0"} }), 

                    // 2. REVENDEDOR B2B
                    _.jsxs("div", { className: "manual-block", style: {background: "#f0fdf4", border: "1px dashed #22c55e"}, children: [
                        _.jsx("h4", { style:{fontSize:"0.9rem", color: "#166534", marginBottom:"8px"}, children: "2. Pack Revendedor (B2B)" }), 
                        _.jsx("div", { style: { display: "grid", gridTemplateColumns: "1fr 1fr 1fr", gap: "8px" }, children: 
                            listaRevendedor.length > 0 ? listaRevendedor.map(pl => 
                                _.jsxs("button", { 
                                    onClick: () => activarConPlan(pl), 
                                    disabled: p.cuentasDisponibles < pl.costoCreditos || !re || Te, 
                                    className: "btn-activate", 
                                    style: {background: "#10b981", display:"flex", flexDirection:"column", alignItems:"center", justifyContent:"center", padding:"8px 4px"}, 
                                    children: [
                                        _.jsx("span", { children: getTituloBoton(pl.nombre) }),
                                        _.jsx("span", { style: {fontSize:"0.55em", marginTop:"2px", fontWeight:"bold"}, children: getSubtitulo(pl) }),
                                        pl.precio_sugerido && _.jsx("span", { style: {fontSize:"0.55em", background:"#064e3b", color:"white", borderRadius:"3px", padding:"1px 4px", marginTop:"3px"}, children: `Venta: ${pl.precio_sugerido}` })
                                    ] 
                                }, pl.id)
                            ) : _.jsx("p", {style:{fontSize:"0.8rem"}, children:"Cargando..."})
                        })
                    ]}),
                    _.jsx("div", { className: "divider", style: {margin: "12px 0"} }), 

                    // 3. SOCIO VIP
                    _.jsxs("div", { className: "manual-block", style: {background: "#fffbeb", border: "1px dashed #f59e0b"}, children: [
                        _.jsx("h4", { style:{fontSize:"0.9rem", color: "#b45309", marginBottom:"8px"}, children: "3. Pack Socio VIP" }), 
                        _.jsx("div", { style: { display: "grid", gridTemplateColumns: "1fr 1fr 1fr", gap: "8px" }, children: 
                            listaVip.length > 0 ? listaVip.map(pl => 
                                _.jsxs("button", { 
                                    onClick: () => activarConPlan(pl), 
                                    disabled: p.cuentasDisponibles < pl.costoCreditos || !re || Te, 
                                    className: "btn-activate", 
                                    style: {background: "#f59e0b", display:"flex", flexDirection:"column", alignItems:"center", justifyContent:"center", padding:"8px 4px"}, 
                                    children: [
                                        _.jsx("span", { children: getTituloBoton(pl.nombre) }),
                                        _.jsx("span", { style: {fontSize:"0.55em", marginTop:"2px", fontWeight:"bold"}, children: getSubtitulo(pl) }),
                                        pl.precio_sugerido && _.jsx("span", { style: {fontSize:"0.55em", background:"#78350f", color:"white", borderRadius:"3px", padding:"1px 4px", marginTop:"3px"}, children: `Venta: ${pl.precio_sugerido}` })
                                    ] 
                                }, pl.id)
                            ) : _.jsx("p", {style:{fontSize:"0.8rem"}, children:"Cargando..."})
                        })
                    ]}),

                    _.jsx("div", { className: "divider" }), 
                    _.jsxs("div", { className: "manual-block", children: [_.jsx("h4", { children: "Comprar Licencias" }), _.jsxs("a", { href: "https://wa.me/573004085041?text=Hola,%20deseo%20comprar%20licencias%20manuales%20para%20revender.", target: "_blank", rel: "noopener noreferrer", className: "btn-whatsapp", children: [_.jsx(HI, {}), " Recargar"] })] })
                ]})
            ]})
        ]
    })
}
  , GI = () => {
    const {usuario: s} = Ea()
      , [e,i] = N.useState("inicio")
      , [r,o] = N.useState(!1)
      , c = "https://crm.jhllegalgroup.com"
      , f = async () => {
        try {
            if (!s)
                throw new Error("No hay usuario autenticado");
            return await s.getIdToken(!0)
        } catch (m) {
            throw console.error("Error obteniendo token:", m),
            m
        }
    }
      , h = async () => {
        if (s)
            try {
                const m = await f();
                if (!m) {
                    console.error("No se pudo obtener el token de autenticacin");
                    return
                }
                const E = await fetch(`${c}/api/bienvenida`, {
                    method: "GET",
                    headers: {
                        Authorization: `Bearer ${m}`,
                        "Content-Type": "application/json",
                        "ngrok-skip-browser-warning": "true"
                    }
                });
                if (E.ok) {
                    const b = await E.json();
                    console.log(" Bienvenida procesada:", b),
                    b.acciones && (b.acciones.clienteCreado || b.acciones.parametroCreado) && (o(!0),
                    setTimeout( () => {
                        o(!1)
                    }
                    , 5e3))
                } else
                    console.error("Error en respuesta de bienvenida:", E.status)
            } catch (m) {
                console.error("Error procesando bienvenida:", m)
            }
    }
    ;
    N.useEffect( () => {
        s && h()
    }
    , [s]);
    const p = () => {
        switch (e) {
        case "inicio":
            return _.jsx("div", {
                className: "dashboard-grid",
                children: _.jsxs("div", {
                    className: "main-card",
                    children: [_.jsx(nI, {}), _.jsx("p", {
                        className: "intro-text",
                        children: "Aqu puedes elegir que quieres configurar"
                    }), _.jsxs("div", {
                        className: "modules-grid",
                        children: [_.jsxs("button", {
                            onClick: () => i("reventa"),
                            className: "module-btn btn-secondary",
                            children: [_.jsx("span", {
                                className: "module-icon",
                                children: ""
                            }), "Reventa"]
                        }), _.jsxs("button", {
                            onClick: () => i("facturacion"),
                            className: "module-btn btn-primary",
                            children: [_.jsx("span", {
                                className: "module-icon",
                                children: ""
                            }), "Clave Licencia"]
                        })]
                    })]
                })
            });
        case "reventa":
            return _.jsx("div", {
                className: "single-content",
                children: _.jsx(VI, {})
            });
        case "facturacion":
            return _.jsx("div", {
                className: "single-content",
                children: _.jsx(rI, {})
            });
        default:
            return null
        }
    }
    ;
    return _.jsxs("div", {
        className: "app-layout",
        children: [_.jsx(sI, {
            establecerPaginaActiva: i,
            paginaActiva: e
        }), _.jsxs("main", {
            className: "main-content",
            children: [p(), r && _.jsx("div", {
                className: "mensaje-prueba-overlay",
                children: _.jsxs("div", {
                    className: "mensaje-prueba-content",
                    children: [_.jsx("div", {
                        className: "mensaje-prueba-icon",
                        children: ""
                    }), _.jsx("h3", {
                        children: "Bienvenido a WAI!"
                    }), _.jsxs("p", {
                        children: ["Tienes ", _.jsx("strong", {
                            children: "2 das"
                        }), " para probar todas las funcionalidades"]
                    }), _.jsx("button", {
                        className: "mensaje-prueba-btn",
                        onClick: () => o(!1),
                        children: "Entendido!"
                    })]
                })
            })]
        })]
    })
}
  , YI = ({children: s}) => {
    const {estaAutenticado: e, cargando: i} = Ea();
    return i ? _.jsx("div", {
        style: {
            display: "flex",
            justifyContent: "center",
            alignItems: "center",
            height: "100vh",
            fontSize: "2rem",
            color: "var(--color-primary)"
        },
        children: "Cargando..."
    }) : e ? s : _.jsx(iC, {
        to: "/"
    })
}
;
function FI() {
    return _.jsx(xC, {
        children: _.jsx(JO, {
            children: _.jsxs(aC, {
                children: [_.jsx(af, {
                    path: "/",
                    element: _.jsx(tI, {})
                }), _.jsx(af, {
                    path: "/panel",
                    element: _.jsx(YI, {
                        children: _.jsx(GI, {})
                    })
                })]
            })
        })
    })
    
}
h1.createRoot(document.getElementById("root")).render(_.jsx(a1.StrictMode, {
    children: _.jsx(FI, {})
}));
